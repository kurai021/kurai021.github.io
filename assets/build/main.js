!function i(o,a,s){function l(n,t){if(!a[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return l(e||t)},r,r.exports,i,o,a,s)}return a[n].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,n){"use strict";var r=o(t("./plugin/move-layer")),i=o(t("./plugin/memphis"));function o(t){return t&&t.__esModule?t:{default:t}}var a=t("../../node_modules/vue/dist/vue.js"),s=t("../templates/home.vue"),l=t("../templates/aboutme.vue"),u=t("../templates/services.vue"),c=t("../templates/contact.vue");a.use(r.default),a.use(i.default),new a({el:"#home",render:function(t){return t(s)}}),new a({el:"#aboutme",render:function(t){return t(l)}}),new a({el:"#services",render:function(t){return t(u)}}),new a({el:"#contact",render:function(t){return t(c)}})},{"../../node_modules/vue/dist/vue.js":13,"../templates/aboutme.vue":4,"../templates/contact.vue":5,"../templates/home.vue":6,"../templates/services.vue":7,"./plugin/memphis":2,"./plugin/move-layer":3}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={install:function(t){t.prototype.$memphis={particles:function(t){for(var e,n=0;e=t[n];n++)e.style.left=149*Math.random()+1+"%",e.style.top=49*Math.random()+1+"%";console.log("Memphis is working!")}}}}},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={install:function(t){t.prototype.$move={layer:function(r){var t=document.getElementById("container"),e={_x:0,_y:0,x:0,y:0,updatePosition:function(t){var e=t||window.event;this.x=e.clientX-this._x,this.y=-1*(e.clientY-this._y)},setOrigin:function(t){this._x=t.offsetLeft+Math.floor(t.offsetWidth/2),this._y=t.offsetTop+Math.floor(t.offsetHeight/2)},show:function(){return"("+this.x+", "+this.y+")"}};e.setOrigin(t);var n=0,i=function(t){e.updatePosition(t),o((e.x/-r.offsetWidth/.005).toFixed(2),(e.y/r.offsetHeight/.005).toFixed(2))},o=function(t,e){var n="translate3d("+t+"px,"+e+"px,0)";r.style.transform=n,r.style.webkitTransform=n,r.style.mozTransform=n,r.style.msTransform=n,r.style.oTransform=n};t.onmouseenter=function(t){i(t)},t.onmouseleave=function(){r.style=""},t.onmousemove=function(t){n++%10==0&&i(t)}}}}}},{}],4:[function(e,n,t){var r=e("vueify/lib/insert-css"),i=r.insert("\n.center {\n  text-align: center !important;\n}\n\n.transparent {\n  background-color: rgba(250, 247, 247, 0.7)\n}\n\n.facts-container {\n  display: table;\n  padding: 30px;\n}\n\n.facts-container .fact {\n  color: #ffff;\n  display: table-cell;\n  max-height: 20em;\n  text-align: center;\n  padding: 100px 0px;\n  margin: 5px;\n}\n\n.facts-container #purple {\n  background-color: #41228e;\n}\n\n.facts-container #pink {\n  background-color: #f23a97;\n}\n\n.facts-container #yellow {\n  background-color: #ffc843;\n}\n\n.facts-container #green {\n  background-color: #22c1b5;\n}\n\n.facts-container .fact span {\n  font-size: 1.5rem;\n  font-weight: 700;\n  padding: 5px 0;\n  position: relative;\n  display: block;\n}\n\n.facts-container .fact h4 {\n  color: #fff;\n  font-weight: 900;\n}\n");Object.defineProperty(t,"__esModule",{value:!0});var o,a=e("../../node_modules/vue-countup-v2/dist/vue-countup.js"),s=(o=a)&&o.__esModule?o:{default:o};t.default={components:{ICountUp:s.default},data:function(){return{title:"About me",paragraph:[{text:"I am a UI / UX designer and web developer with <strong>more than 5 years of experience</strong> creating friendly interfaces and new experiences both on desktop and mobile. I am a person who likes to experiment with new technology, from virtual reality to electronic, always using the web as the medium."},{text:"During my professional experience I have also done conventional projects such as <strong>corporate web design</strong> for different local and international brands, from static webs with Jekyll to more complex corporate pages using Wordpress."},{text:"I have also participated as a volunteer for different projects related to the web such as <strong>Tor, DuckDuckGo and Mozilla</strong>, the latter with a more marked presence and in which occasionally I am still collaborating."},{text:"I am currently embarking on a new path as a freelance, I am interested in working for individuals or companies, I am also open to work in web agencies."},{text:"If you want <strong>an incredible design that stands out from others</strong> or your idea requires a web application available for different platforms, I am the right person for your project."}],facts:[{startVal:0,endVal:1e4,decimals:0,duration:5,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:"+"},color:"purple",figure:"far fa-clock fa-3x",title:"Work hours"},{startVal:0,endVal:30,decimals:0,duration:5,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:"+"},color:"pink",figure:"fas fa-laptop-code fa-3x",title:"Completed projects"},{startVal:0,endVal:4e3,decimals:0,duration:5,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:"+"},color:"yellow",figure:"fas fa-coffee fa-3x",title:"Coffee cups"},{startVal:0,endVal:3,decimals:0,duration:5,options:{useEasing:!0,useGrouping:!0,separator:"",decimal:".",prefix:"",suffix:"+"},color:"green",figure:"fas fa-award fa-3x",title:"Awards"}]}},methods:{onReady:function(t){t.update(this.endVal+100)}},mounted:function(){var t=document.querySelectorAll(".layer_memphis");this.$memphis.particles(t)}},n.exports.__esModule&&(n.exports=n.exports.default),("function"==typeof n.exports?n.exports.options:n.exports).template='\n<div class="wrapper">\n\n  <img class="layer_memphis" src="assets/images/particles/1.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/2.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/3.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/4.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/5.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/6.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/7.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/8.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/9.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/10.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/11.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/12.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/13.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/14.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/15.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/16.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/17.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/18.png" alt="">\n\n  <div class="six columns u-full-width transparent">\n    <h2>{{title}}</h2>\n    <p v-for="item in paragraph" v-html="item.text"></p>\n    <p class="center">\n      <a class="button contactpage">Contact me!</a>\n    </p>\n  </div>\n\n  <div class="six columns u-full-width facts-container">\n\n    <div v-for="item in facts" class="six columns u-full-width-big counter fact" v-bind:id="item.color">\n\n      <i v-bind:class="item.figure"></i><br>\n      <ICountUp\n      :startVal="item.startVal"\n      :endVal="item.endVal"\n      :decimals="item.decimals"\n      :duration="item.duration"\n      :options="item.options"\n      @ready="onReady"\n    />\n      <h4>{{item.title}}</h4>\n\n    </div>\n  </div>\n\n</div>\n',n.hot&&function(){n.hot.accept();var t=e("vue-hot-reload-api");t.install(e("vue"),!0),t.compatible&&(n.hot.dispose(function(){r.cache["\n.center {\n  text-align: center !important;\n}\n\n.transparent {\n  background-color: rgba(250, 247, 247, 0.7)\n}\n\n.facts-container {\n  display: table;\n  padding: 30px;\n}\n\n.facts-container .fact {\n  color: #ffff;\n  display: table-cell;\n  max-height: 20em;\n  text-align: center;\n  padding: 100px 0px;\n  margin: 5px;\n}\n\n.facts-container #purple {\n  background-color: #41228e;\n}\n\n.facts-container #pink {\n  background-color: #f23a97;\n}\n\n.facts-container #yellow {\n  background-color: #ffc843;\n}\n\n.facts-container #green {\n  background-color: #22c1b5;\n}\n\n.facts-container .fact span {\n  font-size: 1.5rem;\n  font-weight: 700;\n  padding: 5px 0;\n  position: relative;\n  display: block;\n}\n\n.facts-container .fact h4 {\n  color: #fff;\n  font-weight: 900;\n}\n"]=!1,document.head.removeChild(i)}),n.hot.data?t.update("_v-8b2f4b04",n.exports,("function"==typeof n.exports?n.exports.options:n.exports).template):t.createRecord("_v-8b2f4b04",n.exports))}()},{"../../node_modules/vue-countup-v2/dist/vue-countup.js":11,vue:15,"vue-hot-reload-api":12,"vueify/lib/insert-css":17}],5:[function(e,n,t){var r=e("vueify/lib/insert-css"),i=r.insert("\n#map {\n  z-index: 0;\n  position: initial;\n  width: 100%;\n  height: 600px;\n}\n\n.marker {\n  background-image: url('assets/images/point.png');\n  background-size: cover;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 0;\n}\n\n.mapboxgl-popup {\n  max-width: 200px;\n}\n\n.mapboxgl-popup-content {\n  text-align: center;\n}\n\n.u-full {\n  width: 100%;\n}\n\n#mc_embed_signup .mc-field-group {\n  padding-bottom: 1.5%;\n}\n\n#mc_embed_signup .mc-field-group textarea {\n  width: 100%;\n  resize: none;\n}\n\n@media screen and (min-width:550px) {\n  .margin-fix {\n    margin-left: 4%;\n  }\n}\n");Object.defineProperty(t,"__esModule",{value:!0});var o,a=e("../../node_modules/mapbox-gl/dist/mapbox-gl.js"),s=(o=a)&&o.__esModule?o:{default:o};t.default={data:function(){return{title:"Contact me!",paragraph:"If you think that I'm suitable for you project, feel free to get in touch."}},methods:{mapboxInit:function(){s.default.accessToken="pk.eyJ1Ijoia3VyYWkwMjEiLCJhIjoiY2ptbTRnMWsxMDBkeTN2cXhlaWM2aXJ0OSJ9.KI3udYVSC-oXgNueokCw0g";var r=new s.default.Map({container:"map",style:"mapbox://styles/mapbox/navigation-preview-day-v4",center:[-81.0151318,8.1183],zoom:14,pitch:45,bearing:-17.6,interactive:!1});[{type:"Feature",geometry:{type:"Point",coordinates:[-81.0151318,8.1183]},properties:{title:"My Address",description:"Los Algarrobos, Santiago"}}].forEach(function(t){var e=document.createElement("div");e.className="marker",new s.default.Marker(e).setLngLat(t.geometry.coordinates).setPopup(new s.default.Popup({offset:25}).setHTML("<h3>"+t.properties.title+"</h3><p>"+t.properties.description+"</p>")).addTo(r)}),r.on("load",function(){for(var t,e=r.getStyle().layers,n=0;n<e.length;n++)if("symbol"===e[n].type&&e[n].layout["text-field"]){t=e[n].id;break}r.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},t)})}},mounted:function(){this.mapboxInit();var t=document.querySelectorAll(".layer_memphis");this.$memphis.particles(t)}},n.exports.__esModule&&(n.exports=n.exports.default),("function"==typeof n.exports?n.exports.options:n.exports).template='\n  <div class="wrapper">\n    <img class="layer_memphis" src="assets/images/particles/1.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/2.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/3.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/4.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/5.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/6.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/7.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/8.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/9.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/10.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/11.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/12.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/13.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/14.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/15.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/16.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/17.png" alt="">\n    <img class="layer_memphis" src="assets/images/particles/18.png" alt="">\n\n    <h2>{{title}}</h2>\n    <p>{{paragraph}}</p>\n\n    <div class="six columns u-full-width">\n      <div id="map"></div>\n    </div>\n\n    <div class="six columns u-full-width transparent">\n\n<div id="mc_embed_signup">\n<form action="https://rhcloud.us9.list-manage.com/subscribe/post?u=24d457aa0b64091c1e98f7e57&amp;id=498aac46f5" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>\n    <div id="mc_embed_signup_scroll">\n<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>\n<div class="mc-field-group">\n\t<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>\n</label>\n\t<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">\n</div>\n<div class="mc-field-group">\n\t<label for="mce-FNAME">First Name </label>\n\t<input type="text" value="" name="FNAME" class="" id="mce-FNAME">\n</div>\n<div class="mc-field-group">\n\t<label for="mce-LNAME">Last Name </label>\n\t<input type="text" value="" name="LNAME" class="" id="mce-LNAME">\n</div>\n<div class="mc-field-group size1of2">\n\t<label for="mce-MMERGE3">Phone Number </label>\n\t<input type="text" name="MMERGE3" class="" value="" id="mce-MMERGE3">\n</div>\n<div class="mc-field-group size1of2">\n\t<label for="mce-MMERGE4">Service Requested </label>\n\t<select name="MMERGE4" class="" id="mce-MMERGE4">\n\t<option value="Static web design">Static web design</option>\n<option value="CMS based web development">CMS based web development</option>\n<option value="Backend">Backend</option>\n<option value="Web Hosting">Web Hosting</option>\n\n\t</select>\n</div>\n<div class="mc-field-group">\n\t<label for="mce-MMERGE5">Message</label>\n\t<textarea name="MMERGE5" class="boxsizingBorder" id="mce-MMERGE5" rows="8" cols="80"></textarea>\n</div>\n\t<div id="mce-responses" class="clear">\n\t\t<div class="response" id="mce-error-response" style="display:none"></div>\n\t\t<div class="response" id="mce-success-response" style="display:none"></div>\n\t</div>    \x3c!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--\x3e\n    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_24d457aa0b64091c1e98f7e57_498aac46f5" tabindex="-1" value=""></div>\n    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>\n    </div>\n</form>\n</div>\n\n\n    </div>\n  </div>\n',n.hot&&function(){n.hot.accept();var t=e("vue-hot-reload-api");t.install(e("vue"),!0),t.compatible&&(n.hot.dispose(function(){r.cache["\n#map {\n  z-index: 0;\n  position: initial;\n  width: 100%;\n  height: 600px;\n}\n\n.marker {\n  background-image: url('assets/images/point.png');\n  background-size: cover;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 0;\n}\n\n.mapboxgl-popup {\n  max-width: 200px;\n}\n\n.mapboxgl-popup-content {\n  text-align: center;\n}\n\n.u-full {\n  width: 100%;\n}\n\n#mc_embed_signup .mc-field-group {\n  padding-bottom: 1.5%;\n}\n\n#mc_embed_signup .mc-field-group textarea {\n  width: 100%;\n  resize: none;\n}\n\n@media screen and (min-width:550px) {\n  .margin-fix {\n    margin-left: 4%;\n  }\n}\n"]=!1,document.head.removeChild(i)}),n.hot.data?t.update("_v-52736739",n.exports,("function"==typeof n.exports?n.exports.options:n.exports).template):t.createRecord("_v-52736739",n.exports))}()},{"../../node_modules/mapbox-gl/dist/mapbox-gl.js":10,vue:15,"vue-hot-reload-api":12,"vueify/lib/insert-css":17}],6:[function(e,n,t){var r=e("vueify/lib/insert-css"),i=r.insert('\n.cursor {\n  font-weight: 100;\n  font-size: 6.5em;\n  -webkit-animation: 1s blink step-end infinite;\n  -moz-animation: 1s blink step-end infinite;\n  -ms-animation: 1s blink step-end infinite;\n  -o-animation: 1s blink step-end infinite;\n  animation: 1s blink step-end infinite;\n}\n\n.title-mov {\n  color: transparent !important;\n  background: url("assets/images/test.png") repeat;\n  background-position: 40% 50%;\n  -webkit-background-clip: text;\n}\n\n.social {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.social li {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.social li a {\n  box-shadow: none;\n  padding: 20px;\n  width: 5em;\n  height: 5em;\n  border: none;\n}\n\n.social li .twitter {\n  background-color: #1dcaff;\n}\n\n.social li .linkedin {\n  background-color: #0077B5;\n}\n\n.social li .dribbble {\n  background-color: #ea4c89;\n}\n\n.social li .github {\n  background-color: #333333;\n}\n\n.social li .phone {\n  background-color: #92cf14;\n}\n\n.social li .email {\n  background-color: #f0951d;\n}\n\n@keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-moz-keyframes blink {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-webkit-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-ms-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-o-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@media screen and (min-width: 1000px) {\n  .v-middle-parent {\n    position: relative;\n  }\n\n  .v-middle {\n    position: absolute;\n    top: 50%;\n    transform: translateY(50%);\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .social li a {\n    width: 6em;\n    height: 6em;\n    padding: 25px;\n  }\n}\n');Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{picture:"assets/images/me.png",greetings:"Hi there!",title:"My name is Richard",subtitle:"I'm a Web/UX Designer",contact:"Contact me!",social:[{icon:"fab fa-twitter fa-2x",color:"button twitter",link:"https://twitter.com/kurai021"},{icon:"fab fa-linkedin fa-2x",color:"button linkedin",link:"https://www.linkedin.com/in/richard-alexander-armuelles-zeballos-2277b63b/"},{icon:"fab fa-dribbble fa-2x",color:"button dribbble",link:"https://dribbble.com/kurai021"},{icon:"fab fa-github fa-2x",color:"button github",link:"https://github.com/kurai021"},{icon:"fa fa-envelope fa-2x",color:"button email",link:"mailto:alexanderarmuelles@riseup.net"}],speed:100}},methods:{playing:function(t,e,n){if(e!=t.length){var r=t[e];n==r.dataset.typedtext.length?setTimeout(this.playing,this.speed,t,e+1,0):(r.textContent+=r.dataset.typedtext[n],setTimeout(this.playing,this.speed,t,e,n+1))}},playSequential:function(t){this.playing(t,0,0)},playParallel:function(t){for(var e=0;e<t.length;++e)this.playing([t[e]],0,0)}},mounted:function(){var t=document.getElementById("bg");this.$move.layer(t);var e=this.$el.querySelectorAll("span[data-typedtext]");this.playSequential(e)}},n.exports.__esModule&&(n.exports=n.exports.default),("function"==typeof n.exports?n.exports.options:n.exports).template='\n<div class="wrapper">\n\n  <img id="bg" src="assets/images/layer2.png" alt="">\n  <div class="ten columns u-full-width v-middle-parent">\n    <div class="v-middle">\n      <h4>{{ greetings }}</h4>\n      <h1>\n        <span :data-typedtext="title"></span>\n        <span class=\'cursor\'>|</span>\n      </h1>\n      <h3>{{ subtitle }}</h3>\n      <ul class="social">\n        <li v-for="item in social">\n          <a v-bind:href="item.link" :class="item.color" target="_blank">\n            <i v-bind:class="item.icon"></i>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n</div>\n',n.hot&&function(){n.hot.accept();var t=e("vue-hot-reload-api");t.install(e("vue"),!0),t.compatible&&(n.hot.dispose(function(){r.cache['\n.cursor {\n  font-weight: 100;\n  font-size: 6.5em;\n  -webkit-animation: 1s blink step-end infinite;\n  -moz-animation: 1s blink step-end infinite;\n  -ms-animation: 1s blink step-end infinite;\n  -o-animation: 1s blink step-end infinite;\n  animation: 1s blink step-end infinite;\n}\n\n.title-mov {\n  color: transparent !important;\n  background: url("assets/images/test.png") repeat;\n  background-position: 40% 50%;\n  -webkit-background-clip: text;\n}\n\n.social {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.social li {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.social li a {\n  box-shadow: none;\n  padding: 20px;\n  width: 5em;\n  height: 5em;\n  border: none;\n}\n\n.social li .twitter {\n  background-color: #1dcaff;\n}\n\n.social li .linkedin {\n  background-color: #0077B5;\n}\n\n.social li .dribbble {\n  background-color: #ea4c89;\n}\n\n.social li .github {\n  background-color: #333333;\n}\n\n.social li .phone {\n  background-color: #92cf14;\n}\n\n.social li .email {\n  background-color: #f0951d;\n}\n\n@keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-moz-keyframes blink {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-webkit-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-ms-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@-o-keyframes "blink" {\n  from,\n  to {\n    color: transparent;\n  }\n  50% {\n    color: black;\n  }\n}\n\n@media screen and (min-width: 1000px) {\n  .v-middle-parent {\n    position: relative;\n  }\n\n  .v-middle {\n    position: absolute;\n    top: 50%;\n    transform: translateY(50%);\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .social li a {\n    width: 6em;\n    height: 6em;\n    padding: 25px;\n  }\n}\n']=!1,document.head.removeChild(i)}),n.hot.data?t.update("_v-52bb91d4",n.exports,("function"==typeof n.exports?n.exports.options:n.exports).template):t.createRecord("_v-52bb91d4",n.exports))}()},{vue:15,"vue-hot-reload-api":12,"vueify/lib/insert-css":17}],7:[function(e,n,t){var r=e("vueify/lib/insert-css"),i=r.insert("\n.services {\n  margin: 5px;\n  padding: 50px;\n  color: #ffffff;\n}\n\n.services h4 {\n  color: #ffffff;\n}\n\n.services .fab {\n  float: right;\n  color: rgba(255, 255, 255, 0.6);\n  transition: 0.5s;\n  -webkit-transition: 0.5s;\n  -moz-transition: 0.5s;\n  -o-transition: 0.5s;\n}\n\n.services:hover .fab {\n  color: #ffffff;\n}\n\n.html5 {\n  background-color: #e34f26;\n}\n\n.node-js {\n  background-color: #7fbf3d;\n}\n\n.wordpress {\n  background-color: #207195;\n}\n\n.aws {\n  background-color: #ff9900\n}\n");Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{title:"My Services",paragraph:"I offer premium services like web frontend with high quality, web apps development and hosting for your website",services:[{class:"seven columns u-full-width-big services html5",title:"Static web development",text:"Jekyll/Gatsby/HTML5/JS/CSS3",icon:"fab fa-html5 fa-4x"},{class:"five columns u-full-width-big services node-js",title:"Backend and web-apps",text:"Node.js/Electron/Vue.js/Svelte.js",icon:"fab fa-node-js fa-4x"},{class:"five columns u-full-width-big services wordpress",title:"CMS based websites",text:"Wordpress/Ghost",icon:"fab fa-wordpress fa-4x"},{class:"seven columns u-full-width-big services aws",title:"Web Hosting",text:"AWS",icon:"fab fa-aws fa-4x"}]}},mounted:function(){var t=document.querySelectorAll(".layer_memphis");this.$memphis.particles(t)}},n.exports.__esModule&&(n.exports=n.exports.default),("function"==typeof n.exports?n.exports.options:n.exports).template='\n<div class="wrapper">\n  <img class="layer_memphis" src="assets/images/particles/1.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/2.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/3.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/4.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/5.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/6.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/7.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/8.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/9.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/10.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/11.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/12.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/13.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/14.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/15.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/16.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/17.png" alt="">\n  <img class="layer_memphis" src="assets/images/particles/18.png" alt="">\n\n  <h2>{{title}}</h2>\n  <p>{{paragraph}}</p>\n\n  <div v-for="item in services" v-bind:class="item.class">\n    <h4>{{item.title}}</h4>\n    <p>{{item.text}}</p>\n    <i v-bind:class="item.icon"></i>\n  </div>\n\n\n</div>\n',n.hot&&function(){n.hot.accept();var t=e("vue-hot-reload-api");t.install(e("vue"),!0),t.compatible&&(n.hot.dispose(function(){r.cache["\n.services {\n  margin: 5px;\n  padding: 50px;\n  color: #ffffff;\n}\n\n.services h4 {\n  color: #ffffff;\n}\n\n.services .fab {\n  float: right;\n  color: rgba(255, 255, 255, 0.6);\n  transition: 0.5s;\n  -webkit-transition: 0.5s;\n  -moz-transition: 0.5s;\n  -o-transition: 0.5s;\n}\n\n.services:hover .fab {\n  color: #ffffff;\n}\n\n.html5 {\n  background-color: #e34f26;\n}\n\n.node-js {\n  background-color: #7fbf3d;\n}\n\n.wordpress {\n  background-color: #207195;\n}\n\n.aws {\n  background-color: #ff9900\n}\n"]=!1,document.head.removeChild(i)}),n.hot.data?t.update("_v-6e2058d6",n.exports,("function"==typeof n.exports?n.exports.options:n.exports).template):t.createRecord("_v-6e2058d6",n.exports))}()},{vue:15,"vue-hot-reload-api":12,"vueify/lib/insert-css":17}],8:[function(t,e,n){var r=e.exports={};function i(){}r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;e!==window&&null!==e||"process-tick"!==t.data||(t.stopPropagation(),0<n.length&&n.shift()())},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],9:[function(t,e,n){var r,i;r=this,i=function(t,e,n){return function(t,e,n,r,i,o){function a(t){return"number"==typeof t&&!isNaN(t)}var l=this;if(l.version=function(){return"1.9.3"},l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:function(t,e,n,r){return n*(1-Math.pow(2,-10*t/r))*1024/1023+e},formattingFn:function(t){var e,n,r,i,o,a,s=t<0;if(t=Math.abs(t).toFixed(l.decimals),n=(e=(t+="").split("."))[0],r=1<e.length?l.options.decimal+e[1]:"",l.options.useGrouping){for(i="",o=0,a=n.length;o<a;++o)0!==o&&o%3==0&&(i=l.options.separator+i),i=n[a-o-1]+i;n=i}return l.options.numerals.length&&(n=n.replace(/[0-9]/g,function(t){return l.options.numerals[+t]}),r=r.replace(/[0-9]/g,function(t){return l.options.numerals[+t]})),(s?"-":"")+l.options.prefix+n+r+l.options.suffix},prefix:"",suffix:"",numerals:[]},o&&"object"==typeof o)for(var s in l.options)o.hasOwnProperty(s)&&null!==o[s]&&(l.options[s]=o[s]);""===l.options.separator?l.options.useGrouping=!1:l.options.separator=""+l.options.separator;for(var u=0,c=["webkit","moz","ms","o"],p=0;p<c.length&&!window.requestAnimationFrame;++p)window.requestAnimationFrame=window[c[p]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[p]+"CancelAnimationFrame"]||window[c[p]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),r=Math.max(0,16-(n-u)),i=window.setTimeout(function(){t(n+r)},r);return u=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),l.initialize=function(){return!(!l.initialized&&(l.error="",l.d="string"==typeof t?document.getElementById(t):t,l.d?(l.startVal=Number(e),l.endVal=Number(n),a(l.startVal)&&a(l.endVal)?(l.decimals=Math.max(0,r||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(i)||2e3,l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.initialized=!0,0):(l.error="[CountUp] startVal ("+e+") or endVal ("+n+") is not a number",1)):l.error="[CountUp] target is null or undefined"))},l.printValue=function(t){var e=l.options.formattingFn(t);"INPUT"===l.d.tagName?this.d.value=e:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=e:this.d.innerHTML=e},l.count=function(t){l.startTime||(l.startTime=t);var e=(l.timestamp=t)-l.startTime;l.remaining=l.duration-e,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.options.easingFn(e,0,l.startVal-l.endVal,l.duration):l.frameVal=l.options.easingFn(e,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(e/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(e/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),e<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(t){l.initialize()&&(l.callback=t,l.rAF=requestAnimationFrame(l.count))},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.initialized=!1,l.initialize()&&(cancelAnimationFrame(l.rAF),l.printValue(l.startVal))},l.update=function(t){if(l.initialize()){if(!a(t=Number(t)))return void(l.error="[CountUp] update() - new endVal is not a number: "+t);l.error="",t!==l.frameVal&&(cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=t,l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count))}},l.initialize()&&l.printValue(l.startVal)}},"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():r.CountUp=i()},{}],10:[function(t,e,n){var r,i;r=this,i=function(){"use strict";var i,o,a;function t(t,e){if(i)if(o){var n="var sharedChunk = {}; ("+i+")(sharedChunk); ("+o+")(sharedChunk);",r={};i(r),(a=e(r)).workerUrl=window.URL.createObjectURL(new Blob([n],{type:"text/javascript"}))}else o=e;else i=e}return t(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var a=n;function n(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;o<t?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};function c(t,e,n){this.column=t,this.row=e,this.zoom=n}c.prototype.clone=function(){return new c(this.column,this.row,this.zoom)},c.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},c.prototype.sub=function(t){return this.clone()._sub(t)},c.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},c.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var v=r;function r(t,e){this.x=t,this.y=e}function h(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!h(t[n],e[n]))return!1;return!0}if("object"!=typeof t||null===t||null===e)return t===e;if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!h(t[r],e[r]))return!1;return!0}function i(t,e,n,r){var i=new a(t,e,n,r);return function(t){return i.solve(t)}}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return!(t instanceof r)&&Array.isArray(t)?new r(t[0],t[1]):t};var o=i(.25,.1,.25,1);function m(t,e,n){return Math.min(n,Math.max(e,t))}function l(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var s=1;function u(){return s++}function p(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function f(t,e){return-1!==t.indexOf(e,t.length-e.length)}function d(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function y(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function g(t){return Array.isArray(t)?t.map(g):"object"==typeof t&&t?d(t,g):t}var _={};function x(t){_[t]||("undefined"!=typeof console&&console.warn(t),_[t]=!0)}function b(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function w(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],e+=((a=t[i]).x-o.x)*(o.y+a.y);return e}var A=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),S=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,k=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,E={now:A,frame:function(t){var e=S(t);return{cancel:function(){return k(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var C=self.document.createElement("img");C.onload=function(){E.supportsWebp=!0},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var T={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(T);var I,z=((I=Error)&&(M.__proto__=I),((M.prototype=Object.create(I&&I.prototype)).constructor=M).prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},M);function M(t,e,n){I.call(this,t),this.status=e,this.url=n,this.name=this.constructor.name,this.message=t}function P(t){var e=new self.XMLHttpRequest;for(var n in e.open(t.method||"GET",t.url,!0),t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}function O(e,n){var r=P(e);return r.responseType="arraybuffer",r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){var t=r.response;if(0===t.byteLength&&200===r.status)return n(new Error("http status 200 returned without content."));(200<=r.status&&r.status<300||0===r.status)&&r.response?n(null,{data:t,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):n(new z(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}}function L(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function D(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}function R(t,e){void 0===e&&(e={}),l(this,e),this.type=t}function B(){}var F,N=((F=R)&&(V.__proto__=F),(V.prototype=Object.create(F&&F.prototype)).constructor=V);function V(t,e){void 0===e&&(e={}),F.call(this,"error",l({error:t},e))}B.prototype.on=function(t,e){return this._listeners=this._listeners||{},L(t,e,this._listeners),this},B.prototype.off=function(t,e){return D(t,e,this._listeners),D(t,e,this._oneTimeListeners),this},B.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},L(t,e,this._oneTimeListeners),this},B.prototype.fire=function(t){"string"==typeof t&&(t=new R(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){for(var n=0,r=(t.target=this)._listeners&&this._listeners[e]?this._listeners[e].slice():[];n<r.length;n+=1)r[n].call(this,t);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];i<o.length;i+=1){var a=o[i];D(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(l(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else t instanceof N&&console.error(t.error);return this},B.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&0<this._listeners[t].length||this._oneTimeListeners&&this._oneTimeListeners[t]&&0<this._oneTimeListeners[t].length||this._eventedParent&&this._eventedParent.listens(t)};var j={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!(B.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this})},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{},source:{}},default:"viewport-y",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},$=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function U(t){var e=t.key,n=t.value;return n?[new $(e,n,"constants have been deprecated as of v8")]:[]}function q(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Z(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function G(t){return Array.isArray(t)?t.map(G):Z(t)}function H(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}}var W,X=((W=Error)&&(K.__proto__=W),(K.prototype=Object.create(W&&W.prototype)).constructor=K);function K(t,e){W.call(this,e),this.message=e,this.key=t}H.prototype.concat=function(t){return new H(this,t)},H.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},H.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var J={kind:"null"},Y={kind:"number"},Q={kind:"string"},tt={kind:"boolean"},et={kind:"color"},nt={kind:"object"},rt={kind:"value"},it={kind:"collator"},ot={kind:"formatted"};function at(t,e){return{kind:"array",itemType:t,N:e}}function st(t){if("array"!==t.kind)return t.kind;var e=st(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}var lt=[J,Y,Q,tt,et,ot,nt,at(rt)];function ut(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!ut(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=lt;n<r.length;n+=1)if(!ut(r[n],e))return null}return"Expected "+st(t)+" but found "+st(e)+" instead."}var ct=e(function(t,e){var f={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(t){return(t=Math.round(t))<0?0:255<t?255:t}function n(t){return t<0?0:1<t?1:t}function m(t){return"%"===t[t.length-1]?d(parseFloat(t)/100*255):d(parseInt(t))}function v(t){return"%"===t[t.length-1]?n(parseFloat(t)/100):n(parseFloat(t))}function y(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,n=t.replace(/ /g,"").toLowerCase();if(n in f)return f[n].slice();if("#"===n[0])return 4===n.length?0<=(e=parseInt(n.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===n.length&&0<=(e=parseInt(n.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),a=n.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=v(a.pop());case"rgb":return 3!==a.length?null:[m(a[0]),m(a[1]),m(a[2]),s];case"hsla":if(4!==a.length)return null;s=v(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,u=v(a[1]),c=v(a[2]),p=c<=.5?c*(u+1):c+u-c*u,h=2*c-p;return[d(255*y(h,p,l+1/3)),d(255*y(h,p,l)),d(255*y(h,p,l-1/3)),s];default:return null}}return null}}catch(t){}}).parseCSSColor,pt=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};pt.parse=function(t){if(t){if(t instanceof pt)return t;if("string"==typeof t){var e=ct(t);if(e)return new pt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},pt.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},pt.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},pt.black=new pt(0,0,0,1),pt.white=new pt(1,1,1,1),pt.transparent=new pt(0,0,0,0),pt.red=new pt(1,0,0,1);var ht=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ht.prototype.compare=function(t,e){return this.collator.compare(t,e)},ht.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};function ft(t,e,n){this.type=it,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}function dt(t,e,n,r){return"number"==typeof t&&0<=t&&t<=255&&"number"==typeof e&&0<=e&&e<=255&&"number"==typeof n&&0<=n&&n<=255?void 0===r||"number"==typeof r&&0<=r&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function mt(t){if(null===t)return J;if("string"==typeof t)return Q;if("boolean"==typeof t)return tt;if("number"==typeof t)return Y;if(t instanceof pt)return et;if(t instanceof ht)return it;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=mt(i[r]);if(e){if(e===o)continue;e=rt;break}e=o}return at(e||rt,n)}return nt}ft.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,tt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,tt);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Q))?null:new ft(r,i,o)},ft.prototype.evaluate=function(t){return new ht(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ft.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ft.prototype.possibleOutputs=function(){return[void 0]},ft.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};function vt(t,e,n){this.text=t,this.scale=e,this.fontStack=n}var yt=function(t){this.sections=t};yt.prototype.toString=function(){return this.sections.map(function(t){return t.text}).join("")},yt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i=r.fontStack?["literal",r.fontStack.split(",")]:null;t.push({"text-font":i,"font-scale":r.scale})}return t};function gt(t){this.type=ot,this.sections=t}gt.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,rt);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Y)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,at(Q))))return null;n.push({text:i,scale:s,font:l})}return new gt(n)},gt.prototype.evaluate=function(e){return new yt(this.sections.map(function(t){return new vt(t.text.evaluate(e)||"",t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)}))},gt.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font)}},gt.prototype.possibleOutputs=function(){return[void 0]},gt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),t.push(i)}return t};function _t(t,e){this.type=t,this.value=e}_t.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return 1;if("string"==typeof e)return 1;if("boolean"==typeof e)return 1;if("number"==typeof e)return 1;if(e instanceof pt)return 1;if(e instanceof ht)return 1;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return;return 1}if("object"==typeof e){for(var i in e)if(!t(e[i]))return;return 1}}(t[1]))return e.error("invalid value");var n=t[1],r=mt(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new _t(r,n)},_t.prototype.evaluate=function(){return this.value},_t.prototype.eachChild=function(){},_t.prototype.possibleOutputs=function(){return[this.value]},_t.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof pt?["rgba"].concat(this.value.toArray()):this.value instanceof yt?this.value.serialize():this.value};function xt(t){this.name="ExpressionEvaluationError",this.message=t}xt.prototype.toJSON=function(){return this.message};function bt(t,e){this.type=t,this.args=e}var wt={string:Q,number:Y,boolean:tt,object:nt};bt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(2<t.length){var s=t[1];if("string"!=typeof s||!(s in wt)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=wt[s],r++}else o=rt;if(3<t.length){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=at(o,a)}else n=wt[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,rt);if(!u)return null;l.push(u)}return new bt(n,l)},bt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!ut(this.type,mt(n)))return n;if(e===this.args.length-1)throw new xt("Expected value to be of type "+st(this.type)+", but found "+st(mt(n))+" instead.")}return null},bt.prototype.eachChild=function(t){this.args.forEach(t)},bt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},bt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||1<this.args.length)&&e.push(r)}}return e.concat(this.args.map(function(t){return t.serialize()}))};function At(t,e){this.type=t,this.args=e}var St={"to-number":Y,"to-color":et};At.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=St[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,rt);if(!a)return null;i.push(a)}return new At(r,i)},At.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1)if(n=null,"string"==typeof(e=i[r].evaluate(t))){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||4<e.length?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":dt(e[0],e[1],e[2],e[3])))return new pt(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new xt(n||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}if("formatted"===this.type.kind){for(var a,s=0,l=this.args;s<l.length;s+=1)if("string"==typeof(a=l[s].evaluate(t)))return new yt([new vt(a,null,null)]);throw new xt("Could not parse formatted text from value '"+("string"==typeof a?a:JSON.stringify(a))+"'")}for(var u=null,c=0,p=this.args;c<p.length;c+=1)if(null!==(u=p[c].evaluate(t))){var h=Number(u);if(!isNaN(h))return h}throw new xt("Could not convert "+JSON.stringify(u)+" to number.")},At.prototype.eachChild=function(t){this.args.forEach(t)},At.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},At.prototype.serialize=function(){var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};function kt(){this._parseColorCache={}}var Et=["Unknown","Point","LineString","Polygon"];kt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},kt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Et[this.feature.type]:this.feature.type:null},kt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},kt.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e=e||(this._parseColorCache[t]=pt.parse(t))};var Ct=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};function Tt(t){if(t instanceof Ct){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!Tt(t)&&(e=!1)}),e}function It(t){if(!(t instanceof Ct&&"feature-state"===t.name)){var e=!0;return t.eachChild(function(t){e&&!It(t)&&(e=!1)}),e}}function zt(t,e){if(t instanceof Ct&&0<=e.indexOf(t.name))return!1;var n=!0;return t.eachChild(function(t){n&&!zt(t,e)&&(n=!1)}),n}Ct.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Ct.prototype.eachChild=function(t){this.args.forEach(t)},Ct.prototype.possibleOutputs=function(){return[void 0]},Ct.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},Ct.parse=function(n,t){var e=n[0],r=Ct.definitions[e];if(!r)return t.error('Unknown expression "'+e+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(function(t){var e=t[0];return!Array.isArray(e)||e.length===n.length-1}),s=null,l=0,u=a;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];s=new Pt(t.registry,t.path,null,t.scope);for(var f=[],d=!1,m=1;m<n.length;m++){var v=n[m],y=Array.isArray(p)?p[m-1]:p.type,g=s.parse(v,1+f.length,y);if(!g){d=!0;break}f.push(g)}if(!d)if(Array.isArray(p)&&p.length!==f.length)s.error("Expected "+p.length+" arguments, but found "+f.length+" instead.");else{for(var _=0;_<f.length;_++){var x=Array.isArray(p)?p[_]:p.type,b=f[_];s.concat(_+1).checkSubtype(x,b.type)}if(0===s.errors.length)return new Ct(e,i,h,f)}}if(1===a.length)t.errors.push.apply(t.errors,s.errors);else{for(var w=(a.length?a:o).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(st).join(", ")+")":"("+st(e.type)+"...)"}).join(" | "),A=[],S=1;S<n.length;S++){var k=t.parse(n[S],1+A.length);if(!k)return null;A.push(st(k.type))}t.error("Expected arguments of type "+w+", but found ("+A.join(", ")+") instead.")}return null},Ct.register=function(t,e){for(var n in Ct.definitions=e)t[n]=Ct};function Mt(t,e){this.type=e.type,this.name=t,this.boundExpression=e}Mt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Mt(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Mt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Mt.prototype.eachChild=function(){},Mt.prototype.possibleOutputs=function(){return[void 0]},Mt.prototype.serialize=function(){return["var",this.name]};var Pt=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new H),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Ot(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)],r=t[a+1],e===n||n<e&&e<r)return a;if(n<e)i=a+1;else{if(!(e<n))throw new xt("Input is not a number.");o=a-1}}return Math.max(a-1,0)}Pt.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Pt.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[n];if(r){var i=r.parse(t,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,a=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==a.kind)if("color"!==o.kind||"value"!==a.kind&&"string"!==a.kind)if("formatted"!==o.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,i.type))return null}else e.omitTypeAnnotations||(i=new At(o,[i]));else e.omitTypeAnnotations||(i=new At(o,[i]));else e.omitTypeAnnotations||(i=new bt(o,[i]))}if(!(i instanceof _t)&&function e(t){if(t instanceof Mt)return e(t.boundExpression);if(t instanceof Ct&&"error"===t.name)return!1;if(t instanceof ft)return!1;var n=t instanceof At||t instanceof bt,r=!0;return t.eachChild(function(t){r=n?r&&e(t):r&&t instanceof _t}),!!r&&(Tt(t)&&zt(t,["zoom","heatmap-density","line-progress","is-supported-script"]))}(i)){var s=new kt;try{i=new _t(i.type,i.evaluate(s))}catch(t){return this.error(t.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Pt.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Pt(this.registry,r,e||null,i,this.errors)},Pt.prototype.error=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new X(r,t))},Pt.prototype.checkSubtype=function(t,e){var n=ut(t,e);return n&&this.error(n),n};var Lt=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function Dt(t,e,n){return t*(1-n)+e*n}Lt.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,Y)))return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],l=r[a+1],u=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=e.parse(l,c,o);if(!p)return null;o=o||p.type,i.push([s,p])}return new Lt(o,n,i)},Lt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Ot(e,r)].evaluate(t)},Lt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Lt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},Lt.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)0<e&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Rt=Object.freeze({number:Dt,color:function(t,e,n){return new pt(Dt(t.r,e.r,n),Dt(t.g,e.g,n),Dt(t.b,e.b,n),Dt(t.a,e.a,n))},array:function(t,n,r){return t.map(function(t,e){return Dt(t,n[e],r)})}}),Bt=4/29,Ft=6/29,Nt=3*Ft*Ft,Vt=Ft*Ft*Ft,jt=Math.PI/180,$t=180/Math.PI;function Ut(t){return Vt<t?Math.pow(t,1/3):t/Nt+Bt}function qt(t){return Ft<t?t*t*t:Nt*(t-Bt)}function Zt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Gt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ht(t){var e=Gt(t.r),n=Gt(t.g),r=Gt(t.b),i=Ut((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Ut(.2126729*e+.7151522*n+.072175*r);return{l:116*o-16,a:500*(i-o),b:200*(o-Ut((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function Wt(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=+qt(e),n=.95047*qt(n),r=1.08883*qt(r),new pt(Zt(3.2404542*n-1.5371385*e-.4985314*r),Zt(-.969266*n+1.8760108*e+.041556*r),Zt(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}var Xt={forward:Ht,reverse:Wt,interpolate:function(t,e,n){return{l:Dt(t.l,e.l,n),a:Dt(t.a,e.a,n),b:Dt(t.b,e.b,n),alpha:Dt(t.alpha,e.alpha,n)}}},Kt={forward:function(t){var e=Ht(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*$t;return{h:o<0?360+o:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*jt,n=t.c;return Wt({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:(r=t.h,i=e.h-r,r+n*(180<i||i<-180?i-360*Math.round(i/360):i)),c:Dt(t.c,e.c,n),l:Dt(t.l,e.l,n),alpha:Dt(t.alpha,e.alpha,n)};var r,i}},Jt=Object.freeze({lab:Xt,hcl:Kt}),Yt=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function Qt(t,e,n,r){var i=r-n,o=t-n;return 0==i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}Yt.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=Qt(e,t.base,n,r);else if("linear"===t.name)i=Qt(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new a(o[0],o[1],o[2],o[3]).solve(Qt(e,1,n,r))}return i},Yt.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||1<t}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Y)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=et:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],h=o[c+1],f=c+3,d=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=e.parse(h,d,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Yt(u,n,r,i,l):e.error("Type "+st(u)+" is not interpolatable.")},Yt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Ot(e,r),a=e[o],s=e[o+1],l=Yt.interpolationFactor(this.interpolation,r,a,s),u=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?Rt[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Kt.reverse(Kt.interpolate(Kt.forward(u),Kt.forward(c),l)):Xt.reverse(Xt.interpolate(Xt.forward(u),Xt.forward(c),l))},Yt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Yt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},Yt.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var te=function(t,e){this.type=t,this.args=e};te.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],l=e.parse(s,1+i.length,n,void 0,{omitTypeAnnotations:!0});if(!l)return null;n=n||l.type,i.push(l)}var u=r&&i.some(function(t){return ut(r,t.type)});return new te(u?rt:n,i)},te.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length&&null===(e=r[n].evaluate(t));n+=1);return e},te.prototype.eachChild=function(t){this.args.forEach(t)},te.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},te.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var ee=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};ee.prototype.evaluate=function(t){return this.result.evaluate(t)},ee.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},ee.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,void 0,n);return a?new ee(n,a):null},ee.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},ee.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};function ne(t,e,n){this.type=t,this.index=e,this.input=n}ne.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Y),r=e.parse(t[2],2,at(e.expectedType||rt));if(!n||!r)return null;var i=r.type;return new ne(i.itemType,n,r)},ne.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new xt("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new xt("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new xt("Array index must be an integer, but found "+e+" instead.");return n[e]},ne.prototype.eachChild=function(t){t(this.index),t(this.input)},ne.prototype.possibleOutputs=function(){return[void 0]},ne.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};function re(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}re.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,mt(h)))return null}else n=mt(h);if(void 0!==i[String(h)])return u.error("Branch labels must be unique.");i[String(h)]=o.length}var f=e.parse(l,a,r);if(!f)return null;r=r||f.type,o.push(f)}var d=e.parse(t[1],1,rt);if(!d)return null;var m=e.parse(t[t.length-1],t.length-1,r);return!m||"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new re(n,r,d,i,o,m)},re.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(mt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},re.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},re.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},re.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i],s=r[e.cases[a]];void 0===s?(r[e.cases[a]]=n.length,n.push([e.cases[a],[a]])):n[s][1].push(a)}for(var l=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,c=n;u<c.length;u+=1){var p=c[u],h=p[0],f=p[1];1===f.length?t.push(l(f[0])):t.push(f.map(l)),t.push(e.outputs[h].serialize())}return t.push(this.otherwise.serialize()),t};function ie(t,e,n){this.type=t,this.branches=e,this.otherwise=n}function oe(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function ae(t,e,n,r){return 0===r.compare(e,n)}function se(s,l,u){var c="=="!==s&&"!="!==s;return a.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],r=e.parse(t[1],1,rt);if(!r)return null;if(!oe(n,r.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+st(r.type)+"'.");var i=e.parse(t[2],2,rt);if(!i)return null;if(!oe(n,i.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+st(i.type)+"'.");if(r.type.kind!==i.type.kind&&"value"!==r.type.kind&&"value"!==i.type.kind)return e.error("Cannot compare types '"+st(r.type)+"' and '"+st(i.type)+"'.");c&&("value"===r.type.kind&&"value"!==i.type.kind?r=new bt(i.type,[r]):"value"!==r.type.kind&&"value"===i.type.kind&&(i=new bt(r.type,[i])));var o=null;if(4===t.length){if("string"!==r.type.kind&&"string"!==i.type.kind&&"value"!==r.type.kind&&"value"!==i.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(o=e.parse(t[3],3,it)))return null}return new a(r,i,o)},a.prototype.evaluate=function(t){var e=this.lhs.evaluate(t),n=this.rhs.evaluate(t);if(c&&this.hasUntypedArgument){var r=mt(e),i=mt(n);if(r.kind!==i.kind||"string"!==r.kind&&"number"!==r.kind)throw new xt('Expected arguments for "'+s+'" to be (string, string) or (number, number), but found ('+r.kind+", "+i.kind+") instead.")}if(this.collator&&!c&&this.hasUntypedArgument){var o=mt(e),a=mt(n);if("string"!==o.kind||"string"!==a.kind)return l(t,e,n)}return this.collator?u(t,e,n,this.collator.evaluate(t)):l(t,e,n)},a.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},a.prototype.possibleOutputs=function(){return[!0,!1]},a.prototype.serialize=function(){var e=[s];return this.eachChild(function(t){e.push(t.serialize())}),e},a;function a(t,e,n){this.type=tt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}}ie.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,tt);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new ie(n,r,s):null},ie.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},ie.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},ie.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},ie.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};function le(t){this.type=Y,this.input=t}var ue=se("==",function(t,e,n){return e===n},ae),ce=se("!=",function(t,e,n){return e!==n},function(t,e,n,r){return!ae(0,e,n,r)}),pe=se("<",function(t,e,n){return e<n},function(t,e,n,r){return r.compare(e,n)<0}),he=se(">",function(t,e,n){return n<e},function(t,e,n,r){return 0<r.compare(e,n)}),fe=se("<=",function(t,e,n){return e<=n},function(t,e,n,r){return r.compare(e,n)<=0}),de=se(">=",function(t,e,n){return n<=e},function(t,e,n,r){return 0<=r.compare(e,n)});le.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+st(n.type)+" instead."):new le(n):null},le.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new xt("Expected value to be of type string or array, but found "+st(mt(e))+" instead.")},le.prototype.eachChild=function(t){t(this.input)},le.prototype.possibleOutputs=function(){return[void 0]},le.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var me={"==":ue,"!=":ce,">":he,"<":pe,">=":de,"<=":fe,array:bt,at:ne,boolean:bt,case:ie,coalesce:te,collator:ft,format:gt,interpolate:Yt,"interpolate-hcl":Yt,"interpolate-lab":Yt,length:le,let:ee,literal:_t,match:re,number:bt,object:bt,step:Lt,string:bt,"to-color":At,"to-number":At,var:Mt};function ve(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=dt(n,r,i,a);if(s)throw new xt(s);return new pt(n/255*a,r/255*a,i/255*a,a)}function ye(t,e){return t in e}function ge(t,e){var n=e[t];return void 0===n?null:n}function _e(t){return{type:t}}function xe(t){return{result:"success",value:t}}function be(t){return{result:"error",value:t}}function we(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ae(t){return t.expression&&-1<t.expression.parameters.indexOf("zoom")}function Se(t){return t.expression&&t.expression.interpolated}function ke(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Ee(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Ce(t){return t}function Te(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function Ie(t,e,n,r,i){return Te(typeof n===i?r[n]:void 0,t.default,e.default)}function ze(t,e,n){if("number"!==ke(n))return Te(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Oe(t.stops,n);return t.stops[i][1]}function Me(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==ke(n))return Te(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o,a,s,l,u,c=Oe(t.stops,n),p=(o=n,a=r,s=t.stops[c][0],l=t.stops[c+1][0]-s,u=o-s,0==l?0:1===a?u/l:(Math.pow(a,u)-1)/(Math.pow(a,l)-1)),h=t.stops[c][1],f=t.stops[c+1][1],d=Rt[e.type]||Ce;if(t.colorSpace&&"rgb"!==t.colorSpace){var m=Jt[t.colorSpace];d=function(t,e){return m.reverse(m.interpolate(m.forward(t),m.forward(e),p))}}return"function"==typeof h.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=h.evaluate.apply(void 0,t),r=f.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return d(n,r,p)}}:d(h,f,p)}function Pe(t,e,n){return"color"===e.type?n=pt.parse(n):ke(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Te(n,t.default,e.default)}function Oe(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)][0],r=t[a+1][0],e===n||n<e&&e<r)return a;n<e?i=a+1:e<n&&(o=a-1)}return Math.max(a-1,0)}Ct.register(me,{error:[{kind:"error"},[Q],function(t,e){var n=e[0];throw new xt(n.evaluate(t))}],typeof:[Q,[rt],function(t,e){return st(mt(e[0].evaluate(t)))}],"to-string":[Q,[rt],function(t,e){var n=e[0],r=typeof(n=n.evaluate(t));return null===n?"":"string"==r||"number"==r||"boolean"==r?String(n):n instanceof pt||n instanceof yt?n.toString():JSON.stringify(n)}],"to-boolean":[tt,[rt],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[at(Y,4),[et],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[et,[Y,Y,Y],ve],rgba:[et,[Y,Y,Y,Y],ve],has:{type:tt,overloads:[[[Q],function(t,e){return ye(e[0].evaluate(t),t.properties())}],[[Q,nt],function(t,e){var n=e[0],r=e[1];return ye(n.evaluate(t),r.evaluate(t))}]]},get:{type:rt,overloads:[[[Q],function(t,e){return ge(e[0].evaluate(t),t.properties())}],[[Q,nt],function(t,e){var n=e[0],r=e[1];return ge(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[rt,[Q],function(t,e){return ge(e[0].evaluate(t),t.featureState||{})}],properties:[nt,[],function(t){return t.properties()}],"geometry-type":[Q,[],function(t){return t.geometryType()}],id:[rt,[],function(t){return t.id()}],zoom:[Y,[],function(t){return t.globals.zoom}],"heatmap-density":[Y,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Y,[],function(t){return t.globals.lineProgress||0}],"+":[Y,_e(Y),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Y,_e(Y),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Y,overloads:[[[Y,Y],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[Y],function(t,e){return-e[0].evaluate(t)}]]},"/":[Y,[Y,Y],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[Y,[Y,Y],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[Y,[],function(){return Math.LN2}],pi:[Y,[],function(){return Math.PI}],e:[Y,[],function(){return Math.E}],"^":[Y,[Y,Y],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[Y,[Y],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[Y,[Y],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[Y,[Y],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[Y,[Y],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[Y,[Y],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[Y,[Y],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[Y,[Y],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[Y,[Y],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[Y,[Y],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[Y,[Y],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[Y,_e(Y),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[Y,_e(Y),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[Y,[Y],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[Y,[Y],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Y,[Y],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[Y,[Y],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[tt,[Q,rt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[tt,[rt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[tt,[Q],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[tt,[Q,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[tt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[tt,[Q,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&o<i}],"filter-id->":[tt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&i<r}],"filter-<=":[tt,[Q,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[tt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[tt,[Q,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&o<=i}],"filter-id->=":[tt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&i<=r}],"filter-has":[tt,[rt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[tt,[],function(t){return null!==t.id()}],"filter-type-in":[tt,[at(Q)],function(t,e){return 0<=e[0].value.indexOf(t.geometryType())}],"filter-id-in":[tt,[at(rt)],function(t,e){return 0<=e[0].value.indexOf(t.id())}],"filter-in-small":[tt,[Q,at(rt)],function(t,e){var n=e[0];return 0<=e[1].value.indexOf(t.properties()[n.value])}],"filter-in-large":[tt,[Q,at(rt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=1+i}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:tt,overloads:[[[tt,tt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[_e(tt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:tt,overloads:[[[tt,tt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[_e(tt),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[tt,[tt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[tt,[Q],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[Q,[Q],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Q,[Q],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Q,_e(Q),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}],"resolved-locale":[Q,[it],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Le=function(t,e){var n;this.expression=t,this._warningHistory={},this._defaultValue="color"===(n=e).type&&Ee(n.default)?new pt(0,0,0,0):"color"===n.type?pt.parse(n.default)||null:void 0===n.default?null:n.default,"enum"===e.type&&(this._enumValues=e.values)};function De(t){return Array.isArray(t)&&0<t.length&&"string"==typeof t[0]&&t[0]in me}function Re(t,e){var n,r=new Pt(me,[],(n={color:et,string:Q,number:Y,enum:Q,boolean:tt},"array"===e.type?at(n[e.value]||rt,e.length):n[e.type]||null)),i=r.parse(t);return i?xe(new Le(i,e)):be(r.errors)}Le.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._evaluator||(this._evaluator=new kt),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},Le.prototype.evaluate=function(t,e,n){this._evaluator||(this._evaluator=new kt),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new xt("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Be=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!It(e.expression)};Be.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},Be.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)};var Fe=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!It(e.expression),n instanceof Yt&&(this._interpolationType=n.interpolation)};function Ne(t,e){if("error"===(t=Re(t,e)).result)return t;var n=t.value.expression,r=Tt(n);if(!r&&!we(e))return be([new X("","data expressions not supported")]);var i=zt(n,["zoom"]);if(!i&&!Ae(e))return be([new X("","zoom expressions not supported")]);var o=function n(t){var r=null;if(t instanceof ee)r=n(t.result);else if(t instanceof te)for(var e=0,i=t.args;e<i.length;e+=1){var o=i[e];if(r=n(o))break}else(t instanceof Lt||t instanceof Yt)&&t.input instanceof Ct&&"zoom"===t.input.name&&(r=t);return r instanceof X||t.eachChild(function(t){var e=n(t);e instanceof X?r=e:!r&&e?r=new X("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&e&&r!==e&&(r=new X("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(n);return o||i?o instanceof X?be([o]):o instanceof Yt&&!Se(e)?be([new X("",'"interpolate" expressions cannot be used with this property')]):xe(o?new Fe(r?"camera":"composite",t.value,o):new Be(r?"constant":"source",t.value)):be([new X("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Fe.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},Fe.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)},Fe.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?Yt.interpolationFactor(this._interpolationType,t,e,n):0};function Ve(t,e){this._parameters=t,this._specification=e,q(this,function t(r,i){var o,a,s,e="color"===i.type,n=r.stops&&"object"==typeof r.stops[0][0],l=n||void 0!==r.property,u=n||!l,c=r.type||(Se(i)?"exponential":"interval");if(e&&((r=q({},r)).stops&&(r.stops=r.stops.map(function(t){return[t[0],pt.parse(t[1])]})),r.default?r.default=pt.parse(r.default):r.default=pt.parse(i.default)),r.colorSpace&&"rgb"!==r.colorSpace&&!Jt[r.colorSpace])throw new Error("Unknown color space: "+r.colorSpace);if("exponential"===c)o=Me;else if("interval"===c)o=ze;else if("categorical"===c){o=Ie,a=Object.create(null);for(var p=0,h=r.stops;p<h.length;p+=1){var f=h[p];a[f[0]]=f[1]}s=typeof r.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');o=Pe}if(n){for(var d={},m=[],v=0;v<r.stops.length;v++){var y=r.stops[v],g=y[0].zoom;void 0===d[g]&&(d[g]={zoom:g,type:r.type,property:r.property,default:r.default,stops:[]},m.push(g)),d[g].stops.push([y[0].value,y[1]])}for(var _=[],x=0,b=m;x<b.length;x+=1){var w=b[x];_.push([d[w].zoom,t(d[w],i)])}return{kind:"composite",interpolationFactor:Yt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(t){return t[0]}),evaluate:function(t,e){var n=t.zoom;return Me({stops:_,base:r.base},i,n).evaluate(n,e)}}}return u?{kind:"camera",interpolationFactor:"exponential"===c?Yt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==r.base?r.base:1}):function(){return 0},zoomStops:r.stops.map(function(t){return t[0]}),evaluate:function(t){var e=t.zoom;return o(r,i,e,a,s)}}:{kind:"source",evaluate:function(t,e){var n=e&&e.properties?e.properties[r.property]:void 0;return void 0===n?Te(r.default,i.default):o(r,i,n,a,s)}}}(this._parameters,this._specification))}function je(t,e){if(Ee(t))return new Ve(t,e);if(De(t)){var n=Ne(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=pt.parse(t)),{kind:"constant",evaluate:function(){return r}}}function $e(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=ke(n);if("object"!==l)return[new $(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=fn;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new $(e,n[u],'unknown property "'+u+'"'));continue}h=fn}s=s.concat(h({key:(e?e+".":e)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&s.push(new $(e,n,'missing required property "'+f+'"'));return s}function Ue(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||fn;if("array"!==ke(e))return[new $(o,e,"array expected, "+ke(e)+" found")];if(n.length&&e.length!==n.length)return[new $(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new $(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value};i.$version<7&&(s.function=n.function),"object"===ke(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function qe(t){var e=t.key,n=t.value,r=t.valueSpec,i=ke(n);return"number"!==i?[new $(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new $(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new $(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Ze(t){var a,s,i,l=t.valueSpec,u=Z(t.value.type),c={},e="categorical"!==u&&void 0===t.value.property,n=!e,o="array"===ke(t.value.stops)&&"array"===ke(t.value.stops[0])&&"object"===ke(t.value.stops[0][0]),r=$e({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===u)return[new $(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Ue({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===ke(n)&&0===n.length&&e.push(new $(t.key,n,"array must have at least one stop")),e},default:function(t){return fn({key:t.key,value:t.value,valueSpec:l,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===u&&e&&r.push(new $(t.key,t.value,'missing required property "property"')),"identity"===u||t.value.stops||r.push(new $(t.key,t.value,'missing required property "stops"')),"exponential"===u&&t.valueSpec.expression&&!Se(t.valueSpec)&&r.push(new $(t.key,t.value,"exponential functions not supported")),8<=t.styleSpec.$version&&(n&&!we(t.valueSpec)?r.push(new $(t.key,t.value,"property functions not supported")):e&&!Ae(t.valueSpec)&&r.push(new $(t.key,t.value,"zoom functions not supported"))),"categorical"!==u&&!o||void 0!==t.value.property||r.push(new $(t.key,t.value,'"property" property is required')),r;function p(t){var e=[],n=t.value,r=t.key;if("array"!==ke(n))return[new $(r,n,"array expected, "+ke(n)+" found")];if(2!==n.length)return[new $(r,n,"array length 2 expected, length "+n.length+" found")];if(o){if("object"!==ke(n[0]))return[new $(r,n,"object expected, "+ke(n[0])+" found")];if(void 0===n[0].zoom)return[new $(r,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new $(r,n,"object stop key must have value")];if(i&&i>Z(n[0].zoom))return[new $(r,n[0].zoom,"stop zoom values must appear in ascending order")];Z(n[0].zoom)!==i&&(i=Z(n[0].zoom),s=void 0,c={}),e=e.concat($e({key:r+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:qe,value:h}}))}else e=e.concat(h({key:r+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return e.concat(fn({key:r+"[1]",value:n[1],valueSpec:l,style:t.style,styleSpec:t.styleSpec}))}function h(t,e){var n=ke(t.value),r=Z(t.value),i=null!==t.value?t.value:e;if(a){if(n!==a)return[new $(t.key,i,n+" stop domain type must match previous stop domain type "+a)]}else a=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new $(t.key,i,"stop domain value must be a number, string, or boolean")];if("number"===n||"categorical"===u)return"categorical"!==u||"number"!==n||isFinite(r)&&Math.floor(r)===r?"categorical"!==u&&"number"===n&&void 0!==s&&r<s?[new $(t.key,i,"stop domain values must appear in ascending order")]:(s=r,"categorical"===u&&r in c?[new $(t.key,i,"stop domain values must be unique")]:(c[r]=!0,[])):[new $(t.key,i,"integer expected, found "+r)];var o="number expected, "+n+" found";return we(l)&&void 0===u&&(o+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new $(t.key,i,o)]}}function Ge(e){var t=("property"===e.expressionContext?Ne:Re)(G(e.value),e.valueSpec);return"error"===t.result?t.value.map(function(t){return new $(""+e.key+t.key,e.value,t.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==t.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new $(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')]:"property"!==e.expressionContext||"layout"!==e.propertyType||It(t.value._styleExpression.expression)?[]:[new $(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')]}function He(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Z(n))&&i.push(new $(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Z(n))&&i.push(new $(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function We(t){if(!0===t||!1===t)return 1;if(Array.isArray(t)&&0!==t.length)switch(t[0]){case"has":return 2<=t.length&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!We(r)&&"boolean"!=typeof r)return}return 1;default:return 1}}Ve.deserialize=function(t){return new Ve(t._parameters,t._specification)};var Xe={type:"boolean",default:!(Ve.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}}),transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ke(t){if(null==t)return function(){return!0};We(t)||(t=Ye(t));var n=Re(t,Xe);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,e){return n.value.evaluate(t,e)}}function Je(t,e){return t<e?-1:e<t?1:0}function Ye(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Qe(t[1],t[2],"=="):"!="===n?nn(Qe(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Qe(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Ye))):"all"===n?["all"].concat(t.slice(1).map(Ye)):"none"===n?["all"].concat(t.slice(1).map(Ye).map(nn)):"in"===n?tn(t[1],t.slice(2)):"!in"===n?nn(tn(t[1],t.slice(2))):"has"===n?en(t[1]):"!has"!==n||nn(en(t[1]))}function Qe(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function tn(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return 200<e.length&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(Je)]]:["filter-in-small",t,["literal",e]]}}function en(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function nn(t){return["!",t]}function rn(t){return We(G(t.value))?Ge(q({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==ke(n))return[new $(r,n,"array expected, "+ke(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new $(r,n,"filter array must have at least 1 element")];switch(a=a.concat(He({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Z(n[0])){case"<":case"<=":case">":case">=":2<=n.length&&"$type"===Z(n[1])&&a.push(new $(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new $(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":2<=n.length&&"string"!==(i=ke(n[1]))&&a.push(new $(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=ke(n[s]),"$type"===Z(n[1])?a=a.concat(He({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new $(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=ke(n[1]),2!==n.length?a.push(new $(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new $(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function on(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return fn({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new $(n,o,'unknown property "'+a+'"')];if("string"===ke(o)&&we(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new $(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new $(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Ee(G(o))&&"identity"===Z(o.type)&&p.push(new $(n,o,'"text-font" does not support identity functions'))),p.concat(fn({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function an(t){return on(t,"paint")}function sn(t){return on(t,"layout")}function ln(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new $(r,n,'either "type" or "ref" is required'));var a,s=Z(n.type),l=Z(n.ref);if(n.id)for(var u=Z(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];Z(p.id)===u&&e.push(new $(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new $(r,n[t],'"'+t+'" is prohibited for ref layers'))}),i.layers.forEach(function(t){Z(t.id)===l&&(a=t)}),a?a.ref?e.push(new $(r,n.ref,"ref cannot reference another ref layer")):s=Z(a.type):e.push(new $(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],f=h&&Z(h.type);h?"vector"===f&&"raster"===s?e.push(new $(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?e.push(new $(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new $(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||e.push(new $(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new $(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new $(r,n.source,'source "'+n.source+'" not found'))}else e.push(new $(r,n,'missing required property "source"'));return e=e.concat($e({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return fn({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:rn,layout:function(t){return $e({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return sn(q({layerType:s},t))}}})},paint:function(t){return $e({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return an(q({layerType:s},t))}}})}}}))}function un(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new $(n,e,'"type" is required')];var o=Z(e.type),a=[];switch(o){case"vector":case"raster":case"raster-dem":if(a=a.concat($e({key:n,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new $(n+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return $e({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r});case"video":return $e({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return $e({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return a.push(new $(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return He({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function cn(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=ke(e);if(void 0===e)return o;if("object"!==a)return o.concat([new $("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=l&&r[l[1]]&&r[l[1]].transition?o.concat(fn({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(fn({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new $(s,e[s],'unknown property "'+s+'"')])}return o}function pn(t){var e=t.value,n=t.key,r=ke(e);return"string"!==r?[new $(n,e,"string expected, "+r+" found")]:[]}var hn={"*":function(){return[]},array:Ue,boolean:function(t){var e=t.value,n=t.key,r=ke(e);return"boolean"!==r?[new $(n,e,"boolean expected, "+r+" found")]:[]},number:qe,color:function(t){var e=t.key,n=t.value,r=ke(n);return"string"!==r?[new $(e,n,"color expected, "+r+" found")]:null===ct(n)?[new $(e,n,'color expected, "'+n+'" found')]:[]},constants:U,enum:He,filter:rn,function:Ze,layer:ln,object:$e,source:un,light:cn,string:pn,formatted:function(t){return 0===pn(t).length?[]:Ge(t)}};function fn(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&Ee(Z(e))?Ze(t):n.expression&&De(G(e))?Ge(t):n.type&&hn[n.type]?hn[n.type](t):$e(q({},t,{valueSpec:n.type?r[n.type]:n}))}function dn(t){var e=t.value,n=t.key,r=pn(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new $(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new $(n,e,'"glyphs" url must include a "{range}" token'))),r}function mn(t,e){e=e||j;var n=[];return n=n.concat(fn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:dn,"*":function(){return[]}}})),t.constants&&(n=n.concat(U({key:"constants",value:t.constants,style:t,styleSpec:e}))),vn(n)}function vn(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function yn(t){return function(){return vn(t.apply(this,arguments))}}mn.source=yn(un),mn.light=yn(cn),mn.layer=yn(ln),mn.filter=yn(rn),mn.paintProperty=yn(an),mn.layoutProperty=yn(sn);var gn=mn,_n=mn.light,xn=mn.paintProperty,bn=mn.layoutProperty;function wn(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1){var o=i[r];t.fire(new N(new Error(o.message))),n=!0}return n}var An=kn,Sn=3;function kn(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var o=0;o<this.d*this.d;o++){var a=i[Sn+o],s=i[Sn+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[Sn+r.length],u=i[Sn+r.length+1];this.keys=i.subarray(l,u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}kn.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},kn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},kn.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},kn.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,n,r,this._queryCell,a,{}),a},kn.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var h=4*p;t<=u[2+h]&&e<=u[3+h]&&n>=u[0+h]&&r>=u[1+h]?(a[p]=!0,o.push(l[p])):a[p]=!1}}},kn.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),c=this._convertToCellCoord(r),p=s;p<=u;p++)for(var h=l;h<=c;h++){var f=this.d*h+p;if(i.call(this,t,e,n,r,f,o,a))return}},kn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},kn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=Sn+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[Sn+a]=o,i.set(s,o),o+=s.length}return i[Sn+t.length]=o,i.set(this.keys,o),o+=this.keys.length,i[Sn+t.length+1]=o,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var En=self.ImageData,Cn={};function Tn(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Cn[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var In in Tn("Object",Object),An.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},An.deserialize=function(t){return new An(t.buffer)},Tn("Grid",An),Tn("Color",pt),Tn("Error",Error),Tn("StylePropertyFunction",Ve),Tn("StyleExpression",Le,{omit:["_evaluator"]}),Tn("ZoomDependentExpression",Fe),Tn("ZoomConstantExpression",Be),Tn("CompoundExpression",Ct,{omit:["_evaluate"]}),me)me[In]._classRegistryKey||Tn("Expression_"+In,me[In]);function zn(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof En)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1){var a=o[i];r.push(zn(a,e))}return r}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);var s=t.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(0<=Cn[l].omit.indexOf(c))){var p=t[c];u[c]=0<=Cn[l].shallow.indexOf(c)?p:zn(p,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}function Mn(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof En)return t;if(Array.isArray(t))return t.map(Mn);if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);var e=t.$name||"Object",n=Cn[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=0<=Cn[e].shallow.indexOf(a)?s:Mn(s)}}return r}function Pn(){this.first=!0}var On={"Latin-1 Supplement":function(t){return 128<=t&&t<=255},Arabic:function(t){return 1536<=t&&t<=1791},"Arabic Supplement":function(t){return 1872<=t&&t<=1919},"Arabic Extended-A":function(t){return 2208<=t&&t<=2303},"Hangul Jamo":function(t){return 4352<=t&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return 5120<=t&&t<=5759},Khmer:function(t){return 6016<=t&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return 6320<=t&&t<=6399},"General Punctuation":function(t){return 8192<=t&&t<=8303},"Letterlike Symbols":function(t){return 8448<=t&&t<=8527},"Number Forms":function(t){return 8528<=t&&t<=8591},"Miscellaneous Technical":function(t){return 8960<=t&&t<=9215},"Control Pictures":function(t){return 9216<=t&&t<=9279},"Optical Character Recognition":function(t){return 9280<=t&&t<=9311},"Enclosed Alphanumerics":function(t){return 9312<=t&&t<=9471},"Geometric Shapes":function(t){return 9632<=t&&t<=9727},"Miscellaneous Symbols":function(t){return 9728<=t&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return 11008<=t&&t<=11263},"CJK Radicals Supplement":function(t){return 11904<=t&&t<=12031},"Kangxi Radicals":function(t){return 12032<=t&&t<=12255},"Ideographic Description Characters":function(t){return 12272<=t&&t<=12287},"CJK Symbols and Punctuation":function(t){return 12288<=t&&t<=12351},Hiragana:function(t){return 12352<=t&&t<=12447},Katakana:function(t){return 12448<=t&&t<=12543},Bopomofo:function(t){return 12544<=t&&t<=12591},"Hangul Compatibility Jamo":function(t){return 12592<=t&&t<=12687},Kanbun:function(t){return 12688<=t&&t<=12703},"Bopomofo Extended":function(t){return 12704<=t&&t<=12735},"CJK Strokes":function(t){return 12736<=t&&t<=12783},"Katakana Phonetic Extensions":function(t){return 12784<=t&&t<=12799},"Enclosed CJK Letters and Months":function(t){return 12800<=t&&t<=13055},"CJK Compatibility":function(t){return 13056<=t&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return 13312<=t&&t<=19903},"Yijing Hexagram Symbols":function(t){return 19904<=t&&t<=19967},"CJK Unified Ideographs":function(t){return 19968<=t&&t<=40959},"Yi Syllables":function(t){return 40960<=t&&t<=42127},"Yi Radicals":function(t){return 42128<=t&&t<=42191},"Hangul Jamo Extended-A":function(t){return 43360<=t&&t<=43391},"Hangul Syllables":function(t){return 44032<=t&&t<=55215},"Hangul Jamo Extended-B":function(t){return 55216<=t&&t<=55295},"Private Use Area":function(t){return 57344<=t&&t<=63743},"CJK Compatibility Ideographs":function(t){return 63744<=t&&t<=64255},"Arabic Presentation Forms-A":function(t){return 64336<=t&&t<=65023},"Vertical Forms":function(t){return 65040<=t&&t<=65055},"CJK Compatibility Forms":function(t){return 65072<=t&&t<=65103},"Small Form Variants":function(t){return 65104<=t&&t<=65135},"Arabic Presentation Forms-B":function(t){return 65136<=t&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return 65280<=t&&t<=65519}};function Ln(t){for(var e=0,n=t;e<n.length;e+=1)if(Dn(n[e].charCodeAt(0)))return!0;return!1}function Dn(t){return 746===t||747===t||!(t<4352)&&(On["Bopomofo Extended"](t)||On.Bopomofo(t)||On["CJK Compatibility Forms"](t)&&!(65097<=t&&t<=65103)||On["CJK Compatibility Ideographs"](t)||On["CJK Compatibility"](t)||On["CJK Radicals Supplement"](t)||On["CJK Strokes"](t)||!(!On["CJK Symbols and Punctuation"](t)||12296<=t&&t<=12305||12308<=t&&t<=12319||12336===t)||On["CJK Unified Ideographs Extension A"](t)||On["CJK Unified Ideographs"](t)||On["Enclosed CJK Letters and Months"](t)||On["Hangul Compatibility Jamo"](t)||On["Hangul Jamo Extended-A"](t)||On["Hangul Jamo Extended-B"](t)||On["Hangul Jamo"](t)||On["Hangul Syllables"](t)||On.Hiragana(t)||On["Ideographic Description Characters"](t)||On.Kanbun(t)||On["Kangxi Radicals"](t)||On["Katakana Phonetic Extensions"](t)||On.Katakana(t)&&12540!==t||!(!On["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||65306<=t&&t<=65310||65339===t||65341===t||65343===t||65371<=t&&t<=65503||65507===t||65512<=t&&t<=65519)||!(!On["Small Form Variants"](t)||65112<=t&&t<=65118||65123<=t&&t<=65126)||On["Unified Canadian Aboriginal Syllabics"](t)||On["Unified Canadian Aboriginal Syllabics Extended"](t)||On["Vertical Forms"](t)||On["Yijing Hexagram Symbols"](t)||On["Yi Syllables"](t)||On["Yi Radicals"](t))}function Rn(t){return!(Dn(t)||(e=t,On["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||On["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||On["Letterlike Symbols"](e)||On["Number Forms"](e)||On["Miscellaneous Technical"](e)&&(8960<=e&&e<=8967||8972<=e&&e<=8991||8996<=e&&e<=9e3||9003===e||9085<=e&&e<=9114||9150<=e&&e<=9165||9167===e||9169<=e&&e<=9179||9186<=e&&e<=9215)||On["Control Pictures"](e)&&9251!==e||On["Optical Character Recognition"](e)||On["Enclosed Alphanumerics"](e)||On["Geometric Shapes"](e)||On["Miscellaneous Symbols"](e)&&!(9754<=e&&e<=9759)||On["Miscellaneous Symbols and Arrows"](e)&&(11026<=e&&e<=11055||11088<=e&&e<=11097||11192<=e&&e<=11243)||On["CJK Symbols and Punctuation"](e)||On.Katakana(e)||On["Private Use Area"](e)||On["CJK Compatibility Forms"](e)||On["Small Form Variants"](e)||On["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||9984<=e&&e<=10087||10102<=e&&e<=10131||65532===e||65533===e));var e}function Bn(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pn,this.transition={})}var Fn,Nn=!(Pn.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}),Vn=null,jn=!1,$n=new B,Un={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return jn||null!=Un.applyArabicShaping}};Bn.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(i=r[n].charCodeAt(0),!e&&(1424<=i&&i<=2303||On["Arabic Presentation Forms-A"](i)||On["Arabic Presentation Forms-B"](i))||(2304<=i&&i<=3583||3840<=i&&i<=4255||On.Khmer(i)))return!1;var i;return!0}(t,Un.isLoaded())},Bn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Bn.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};function qn(t,e){this.property=t,this.value=e,this.expression=je(void 0===e?t.specification.default:e,t.specification)}qn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},qn.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};function Zn(t){this.property=t,this.value=new qn(t,void 0)}Zn.prototype.transitioned=function(t,e){return new Hn(this.property,this.value,e,l({},t.transition,this.transition),t.now)},Zn.prototype.untransitioned=function(){return new Hn(this.property,this.value,null,{},0)};function Gn(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}Gn.prototype.getValue=function(t){return g(this._values[t].value.value)},Gn.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Zn(this._values[t].property)),this._values[t].value=new qn(this._values[t].property,null===e?void 0:g(e))},Gn.prototype.getTransition=function(t){return g(this._values[t].transition)},Gn.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Zn(this._values[t].property)),this._values[t].transition=g(e)||void 0},Gn.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},Gn.prototype.transitioned=function(t,e){for(var n=new Wn(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},Gn.prototype.untransitioned=function(){for(var t=new Wn(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var Hn=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Hn.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,function(){if(i<=0)return 0;if(1<=i)return 1;var t=i*i,e=t*i;return 4*(i<.5?e:3*(i-t)+e-.75)}())}return n};var Wn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Wn.prototype.possiblyEvaluate=function(t){for(var e=new Jn(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e},Wn.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1};function Xn(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}Xn.prototype.getValue=function(t){return g(this._values[t].value)},Xn.prototype.setValue=function(t,e){this._values[t]=new qn(this._values[t].property,null===e?void 0:g(e))},Xn.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},Xn.prototype.possiblyEvaluate=function(t){for(var e=new Jn(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e};function Kn(t,e,n){this.property=t,this.value=e,this.parameters=n}Kn.prototype.isConstant=function(){return"constant"===this.value.kind},Kn.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Kn.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.parameters,t,e)};var Jn=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Jn.prototype.get=function(t){return this._values[t]};function Yn(t){this.specification=t}Yn.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Yn.prototype.interpolate=function(t,e,n){var r=Rt[this.specification.type];return r?r(t,e,n):t};function Qn(t){this.specification=t}Qn.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new Kn(this,{kind:"constant",value:t.expression.evaluate(e)},e):new Kn(this,t.expression,e)},Qn.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Kn(this,{kind:"constant",value:void 0},t.parameters);var r=Rt[this.specification.type];return r?new Kn(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Qn.prototype.evaluate=function(t,e,n,r){return"constant"===t.kind?t.value:t.evaluate(e,n,r)};function tr(t){this.specification=t}var er,nr=((er=Qn)&&(rr.__proto__=er),((rr.prototype=Object.create(er&&er.prototype)).constructor=rr).prototype.possiblyEvaluate=function(t,e){if(void 0===t.value)return new Kn(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var n=t.expression.evaluate(e),r=this._calculate(n,n,n,e);return new Kn(this,{kind:"constant",value:r},e)}if("camera"!==t.expression.kind)return new Kn(this,t.expression,e);var i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Kn(this,{kind:"constant",value:i},e)},rr.prototype.evaluate=function(t,e,n,r){if("source"!==t.kind)return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value;var i=t.evaluate(e,n,r);return this._calculate(i,i,i,e)},rr.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},rr.prototype.interpolate=function(t){return t},rr);function rr(){er.apply(this,arguments)}tr.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"!==t.expression.kind)return this._calculate(t.expression.evaluate(new Bn(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Bn(Math.floor(e.zoom),e)),t.expression.evaluate(new Bn(Math.floor(e.zoom+1),e)),e);var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}},tr.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},tr.prototype.interpolate=function(t){return t};function ir(t){this.specification=t}ir.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},ir.prototype.interpolate=function(){return!1};function or(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[e],r=this.defaultPropertyValues[e]=new qn(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new Zn(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}}Tn("DataDrivenProperty",Qn),Tn("DataConstantProperty",Yn),Tn("CrossFadedDataDrivenProperty",nr),Tn("CrossFadedProperty",tr),Tn("ColorRampProperty",ir);function ar(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function sr(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}var lr,ur=((lr=B)&&(pr.__proto__=lr),((pr.prototype=Object.create(lr&&lr.prototype)).constructor=pr).prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},pr.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},pr.prototype.setLayoutProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(bn,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},pr.prototype.getPaintProperty=function(t){return f(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},pr.prototype.setPaintProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(xn,r,t,e,n))return!1}if(f(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],o="cross-faded-data-driven"===i.property.specification["property-type"]&&!i.value.value&&e,a=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var s=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),s||a||o},pr.prototype._handleSpecialPaintPropertyUpdate=function(t){},pr.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},pr.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},pr.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},pr.prototype.recalculate=function(t){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},pr.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),y(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},pr.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&wn(this,t.call(gn,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:j,style:{glyphs:!0,sprite:!0}}))},pr.prototype.hasOffscreenPass=function(){return!1},pr.prototype.resize=function(){},pr.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Kn&&we(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},pr),cr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};function pr(t,e){for(var n in lr.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.visibility="visible","background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this._featureFilter=function(){return!0},e.layout&&(this._unevaluatedLayout=new Xn(e.layout)),this._transitionablePaint=new Gn(e.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var r in t.layout)this.setLayoutProperty(r,t.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}function hr(t,o){void 0===o&&(o=1);var a=0,s=0;return{members:t.map(function(t){var e,n=(e=t.type,cr[e].BYTES_PER_ELEMENT),r=a=fr(a,Math.max(o,n)),i=t.components||1;return s=Math.max(s,n),a+=n*i,{name:t.name,type:t.type,components:i,offset:r}}),size:fr(a,Math.max(s,o)),alignment:o}}function fr(t,e){return Math.ceil(t/e)*e}sr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},sr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},sr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},sr.prototype.clear=function(){this.length=0},sr.prototype.resize=function(t){this.reserve(t),this.length=t},sr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},sr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var dr,mr=((dr=sr)&&(vr.__proto__=dr),((vr.prototype=Object.create(dr&&dr.prototype)).constructor=vr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},vr.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[0+r]=t,this.int16[1+r]=e,n},vr.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[0+r]=e,this.int16[1+r]=n,t},vr);function vr(){dr.apply(this,arguments)}mr.prototype.bytesPerElement=4,Tn("StructArrayLayout2i4",mr);var yr,gr=((yr=sr)&&(_r.__proto__=yr),((_r.prototype=Object.create(yr&&yr.prototype)).constructor=_r).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_r.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[0+o]=t,this.int16[1+o]=e,this.int16[2+o]=n,this.int16[3+o]=r,i},_r.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[0+o]=e,this.int16[1+o]=n,this.int16[2+o]=r,this.int16[3+o]=i,t},_r);function _r(){yr.apply(this,arguments)}gr.prototype.bytesPerElement=8,Tn("StructArrayLayout4i8",gr);var xr,br=((xr=sr)&&(wr.__proto__=xr),((wr.prototype=Object.create(xr&&xr.prototype)).constructor=wr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},wr.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[0+s]=t,this.int16[1+s]=e,this.int16[2+s]=n,this.int16[3+s]=r,this.int16[4+s]=i,this.int16[5+s]=o,a},wr.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[0+s]=e,this.int16[1+s]=n,this.int16[2+s]=r,this.int16[3+s]=i,this.int16[4+s]=o,this.int16[5+s]=a,t},wr);function wr(){xr.apply(this,arguments)}br.prototype.bytesPerElement=12,Tn("StructArrayLayout2i4i12",br);var Ar,Sr=((Ar=sr)&&(kr.__proto__=Ar),((kr.prototype=Object.create(Ar&&Ar.prototype)).constructor=kr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},kr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;this.resize(l+1);var u=6*l,c=12*l;return this.int16[0+u]=t,this.int16[1+u]=e,this.int16[2+u]=n,this.int16[3+u]=r,this.uint8[8+c]=i,this.uint8[9+c]=o,this.uint8[10+c]=a,this.uint8[11+c]=s,l},kr.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=6*t,c=12*t;return this.int16[0+u]=e,this.int16[1+u]=n,this.int16[2+u]=r,this.int16[3+u]=i,this.uint8[8+c]=o,this.uint8[9+c]=a,this.uint8[10+c]=s,this.uint8[11+c]=l,t},kr);function kr(){Ar.apply(this,arguments)}Sr.prototype.bytesPerElement=12,Tn("StructArrayLayout4i4ub12",Sr);var Er,Cr=((Er=sr)&&(Tr.__proto__=Er),((Tr.prototype=Object.create(Er&&Er.prototype)).constructor=Tr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Tr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.uint16[0+u]=t,this.uint16[1+u]=e,this.uint16[2+u]=n,this.uint16[3+u]=r,this.uint16[4+u]=i,this.uint16[5+u]=o,this.uint16[6+u]=a,this.uint16[7+u]=s,l},Tr.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.uint16[0+u]=e,this.uint16[1+u]=n,this.uint16[2+u]=r,this.uint16[3+u]=i,this.uint16[4+u]=o,this.uint16[5+u]=a,this.uint16[6+u]=s,this.uint16[7+u]=l,t},Tr);function Tr(){Er.apply(this,arguments)}Cr.prototype.bytesPerElement=16,Tn("StructArrayLayout8ui16",Cr);var Ir,zr=((Ir=sr)&&(Mr.__proto__=Ir),((Mr.prototype=Object.create(Ir&&Ir.prototype)).constructor=Mr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Mr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.int16[0+u]=t,this.int16[1+u]=e,this.int16[2+u]=n,this.int16[3+u]=r,this.uint16[4+u]=i,this.uint16[5+u]=o,this.uint16[6+u]=a,this.uint16[7+u]=s,l},Mr.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.int16[0+u]=e,this.int16[1+u]=n,this.int16[2+u]=r,this.int16[3+u]=i,this.uint16[4+u]=o,this.uint16[5+u]=a,this.uint16[6+u]=s,this.uint16[7+u]=l,t},Mr);function Mr(){Ir.apply(this,arguments)}zr.prototype.bytesPerElement=16,Tn("StructArrayLayout4i4ui16",zr);var Pr,Or=((Pr=sr)&&(Lr.__proto__=Pr),((Lr.prototype=Object.create(Pr&&Pr.prototype)).constructor=Lr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},Lr.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[0+i]=t,this.float32[1+i]=e,this.float32[2+i]=n,r},Lr.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[0+i]=e,this.float32[1+i]=n,this.float32[2+i]=r,t},Lr);function Lr(){Pr.apply(this,arguments)}Or.prototype.bytesPerElement=12,Tn("StructArrayLayout3f12",Or);var Dr,Rr=((Dr=sr)&&(Br.__proto__=Dr),((Br.prototype=Object.create(Dr&&Dr.prototype)).constructor=Br).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},Br.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=+e;return this.uint32[0+n]=t,e},Br.prototype.emplace=function(t,e){var n=+t;return this.uint32[0+n]=e,t},Br);function Br(){Dr.apply(this,arguments)}Rr.prototype.bytesPerElement=4,Tn("StructArrayLayout1ul4",Rr);var Fr,Nr=((Fr=sr)&&(Vr.__proto__=Fr),((Vr.prototype=Object.create(Fr&&Fr.prototype)).constructor=Vr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},Vr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.length;this.resize(p+1);var h=12*p,f=6*p;return this.int16[0+h]=t,this.int16[1+h]=e,this.int16[2+h]=n,this.int16[3+h]=r,this.int16[4+h]=i,this.int16[5+h]=o,this.uint32[3+f]=a,this.uint16[8+h]=s,this.uint16[9+h]=l,this.int16[10+h]=u,this.int16[11+h]=c,p},Vr.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p){var h=12*t,f=6*t;return this.int16[0+h]=e,this.int16[1+h]=n,this.int16[2+h]=r,this.int16[3+h]=i,this.int16[4+h]=o,this.int16[5+h]=a,this.uint32[3+f]=s,this.uint16[8+h]=l,this.uint16[9+h]=u,this.int16[10+h]=c,this.int16[11+h]=p,t},Vr);function Vr(){Fr.apply(this,arguments)}Nr.prototype.bytesPerElement=24,Tn("StructArrayLayout6i1ul2ui2i24",Nr);var jr,$r=((jr=sr)&&(Ur.__proto__=jr),((Ur.prototype=Object.create(jr&&jr.prototype)).constructor=Ur).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},Ur.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[0+s]=t,this.int16[1+s]=e,this.int16[2+s]=n,this.int16[3+s]=r,this.int16[4+s]=i,this.int16[5+s]=o,a},Ur.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[0+s]=e,this.int16[1+s]=n,this.int16[2+s]=r,this.int16[3+s]=i,this.int16[4+s]=o,this.int16[5+s]=a,t},Ur);function Ur(){jr.apply(this,arguments)}$r.prototype.bytesPerElement=12,Tn("StructArrayLayout2i2i2i12",$r);var qr,Zr=((qr=sr)&&(Gr.__proto__=qr),((Gr.prototype=Object.create(qr&&qr.prototype)).constructor=Gr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},Gr.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[0+r]=t,this.uint8[1+r]=e,n},Gr.prototype.emplace=function(t,e,n){var r=4*t;return this.uint8[0+r]=e,this.uint8[1+r]=n,t},Gr);function Gr(){qr.apply(this,arguments)}Zr.prototype.bytesPerElement=4,Tn("StructArrayLayout2ub4",Zr);var Hr,Wr=((Hr=sr)&&(Xr.__proto__=Hr),((Xr.prototype=Object.create(Hr&&Hr.prototype)).constructor=Xr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},Xr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f){var d=this.length;this.resize(d+1);var m=20*d,v=10*d,y=40*d;return this.int16[0+m]=t,this.int16[1+m]=e,this.uint16[2+m]=n,this.uint16[3+m]=r,this.uint32[2+v]=i,this.uint32[3+v]=o,this.uint32[4+v]=a,this.uint16[10+m]=s,this.uint16[11+m]=l,this.uint16[12+m]=u,this.float32[7+v]=c,this.float32[8+v]=p,this.uint8[36+y]=h,this.uint8[37+y]=f,d},Xr.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d){var m=20*t,v=10*t,y=40*t;return this.int16[0+m]=e,this.int16[1+m]=n,this.uint16[2+m]=r,this.uint16[3+m]=i,this.uint32[2+v]=o,this.uint32[3+v]=a,this.uint32[4+v]=s,this.uint16[10+m]=l,this.uint16[11+m]=u,this.uint16[12+m]=c,this.float32[7+v]=p,this.float32[8+v]=h,this.uint8[36+y]=f,this.uint8[37+y]=d,t},Xr);function Xr(){Hr.apply(this,arguments)}Wr.prototype.bytesPerElement=40,Tn("StructArrayLayout2i2ui3ul3ui2f2ub40",Wr);var Kr,Jr=((Kr=sr)&&(Yr.__proto__=Kr),((Yr.prototype=Object.create(Kr&&Kr.prototype)).constructor=Yr).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},Yr.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f){var d=this.length;this.resize(d+1);var m=16*d,v=8*d;return this.int16[0+m]=t,this.int16[1+m]=e,this.int16[2+m]=n,this.int16[3+m]=r,this.uint16[4+m]=i,this.uint16[5+m]=o,this.uint16[6+m]=a,this.uint16[7+m]=s,this.uint16[8+m]=l,this.uint16[9+m]=u,this.uint16[10+m]=c,this.uint16[11+m]=p,this.uint16[12+m]=h,this.uint32[7+v]=f,d},Yr.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d){var m=16*t,v=8*t;return this.int16[0+m]=e,this.int16[1+m]=n,this.int16[2+m]=r,this.int16[3+m]=i,this.uint16[4+m]=o,this.uint16[5+m]=a,this.uint16[6+m]=s,this.uint16[7+m]=l,this.uint16[8+m]=u,this.uint16[9+m]=c,this.uint16[10+m]=p,this.uint16[11+m]=h,this.uint16[12+m]=f,this.uint32[7+v]=d,t},Yr);function Yr(){Kr.apply(this,arguments)}Jr.prototype.bytesPerElement=32,Tn("StructArrayLayout4i9ui1ul32",Jr);var Qr,ti=((Qr=sr)&&(ei.__proto__=Qr),((ei.prototype=Object.create(Qr&&Qr.prototype)).constructor=ei).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},ei.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=+e;return this.float32[0+n]=t,e},ei.prototype.emplace=function(t,e){var n=+t;return this.float32[0+n]=e,t},ei);function ei(){Qr.apply(this,arguments)}ti.prototype.bytesPerElement=4,Tn("StructArrayLayout1f4",ti);var ni,ri=((ni=sr)&&(ii.__proto__=ni),((ii.prototype=Object.create(ni&&ni.prototype)).constructor=ii).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},ii.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[0+i]=t,this.int16[1+i]=e,this.int16[2+i]=n,r},ii.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[0+i]=e,this.int16[1+i]=n,this.int16[2+i]=r,t},ii);function ii(){ni.apply(this,arguments)}ri.prototype.bytesPerElement=6,Tn("StructArrayLayout3i6",ri);var oi,ai=((oi=sr)&&(si.__proto__=oi),((si.prototype=Object.create(oi&&oi.prototype)).constructor=si).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},si.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[0+i]=t,this.uint16[2+o]=e,this.uint16[3+o]=n,r},si.prototype.emplace=function(t,e,n,r){var i=2*t,o=4*t;return this.uint32[0+i]=e,this.uint16[2+o]=n,this.uint16[3+o]=r,t},si);function si(){oi.apply(this,arguments)}ai.prototype.bytesPerElement=8,Tn("StructArrayLayout1ul2ui8",ai);var li,ui=((li=sr)&&(ci.__proto__=li),((ci.prototype=Object.create(li&&li.prototype)).constructor=ci).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},ci.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[0+i]=t,this.uint16[1+i]=e,this.uint16[2+i]=n,r},ci.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[0+i]=e,this.uint16[1+i]=n,this.uint16[2+i]=r,t},ci);function ci(){li.apply(this,arguments)}ui.prototype.bytesPerElement=6,Tn("StructArrayLayout3ui6",ui);var pi,hi=((pi=sr)&&(fi.__proto__=pi),((fi.prototype=Object.create(pi&&pi.prototype)).constructor=fi).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},fi.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[0+r]=t,this.uint16[1+r]=e,n},fi.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[0+r]=e,this.uint16[1+r]=n,t},fi);function fi(){pi.apply(this,arguments)}hi.prototype.bytesPerElement=4,Tn("StructArrayLayout2ui4",hi);var di,mi=((di=sr)&&(vi.__proto__=di),((vi.prototype=Object.create(di&&di.prototype)).constructor=vi).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},vi.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=+e;return this.uint16[0+n]=t,e},vi.prototype.emplace=function(t,e){var n=+t;return this.uint16[0+n]=e,t},vi);function vi(){di.apply(this,arguments)}mi.prototype.bytesPerElement=2,Tn("StructArrayLayout1ui2",mi);var yi,gi=((yi=sr)&&(_i.__proto__=yi),((_i.prototype=Object.create(yi&&yi.prototype)).constructor=_i).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_i.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[0+r]=t,this.float32[1+r]=e,n},_i.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[0+r]=e,this.float32[1+r]=n,t},_i);function _i(){yi.apply(this,arguments)}gi.prototype.bytesPerElement=8,Tn("StructArrayLayout2f8",gi);var xi,bi=((xi=sr)&&(wi.__proto__=xi),((wi.prototype=Object.create(xi&&xi.prototype)).constructor=wi).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},wi.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[0+o]=t,this.float32[1+o]=e,this.float32[2+o]=n,this.float32[3+o]=r,i},wi.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[0+o]=e,this.float32[1+o]=n,this.float32[2+o]=r,this.float32[3+o]=i,t},wi);function wi(){xi.apply(this,arguments)}bi.prototype.bytesPerElement=16,Tn("StructArrayLayout4f16",bi);var Ai=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new v(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(ar);Ai.prototype.size=24;var Si,ki=((Si=Nr)&&(Ei.__proto__=Si),((Ei.prototype=Object.create(Si&&Si.prototype)).constructor=Ei).prototype.get=function(t){return new Ai(this,t)},Ei);function Ei(){Si.apply(this,arguments)}Tn("CollisionBoxArray",ki);var Ci=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(ar);Ci.prototype.size=40;var Ti,Ii=((Ti=Wr)&&(zi.__proto__=Ti),((zi.prototype=Object.create(Ti&&Ti.prototype)).constructor=zi).prototype.get=function(t){return new Ci(this,t)},zi);function zi(){Ti.apply(this,arguments)}Tn("PlacedSymbolArray",Ii);var Mi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.horizontalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+4]},n.key.set=function(t){this._structArray.uint16[this._pos2+4]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+5]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+6]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+7]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},n.numGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+7]=t},Object.defineProperties(e.prototype,n),e}(ar);Mi.prototype.size=32;var Pi,Oi=((Pi=Jr)&&(Li.__proto__=Pi),((Li.prototype=Object.create(Pi&&Pi.prototype)).constructor=Li).prototype.get=function(t){return new Mi(this,t)},Li);function Li(){Pi.apply(this,arguments)}Tn("SymbolInstanceArray",Oi);var Di=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(ar);Di.prototype.size=4;var Ri,Bi=((Ri=ti)&&(Fi.__proto__=Ri),((Fi.prototype=Object.create(Ri&&Ri.prototype)).constructor=Fi).prototype.getoffsetX=function(t){return this.float32[+t+0]},Fi.prototype.get=function(t){return new Di(this,t)},Fi);function Fi(){Ri.apply(this,arguments)}Tn("GlyphOffsetArray",Bi);var Ni=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(ar);Ni.prototype.size=6;var Vi,ji=((Vi=ri)&&($i.__proto__=Vi),(($i.prototype=Object.create(Vi&&Vi.prototype)).constructor=$i).prototype.getx=function(t){return this.int16[3*t+0]},$i.prototype.gety=function(t){return this.int16[3*t+1]},$i.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},$i.prototype.get=function(t){return new Ni(this,t)},$i);function $i(){Vi.apply(this,arguments)}Tn("SymbolLineVertexArray",ji);var Ui=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(ar);Ui.prototype.size=8;var qi,Zi=((qi=ai)&&(Gi.__proto__=qi),((Gi.prototype=Object.create(qi&&qi.prototype)).constructor=Gi).prototype.get=function(t){return new Ui(this,t)},Gi);function Gi(){qi.apply(this,arguments)}Tn("FeatureIndexArray",Zi);var Hi=hr([{name:"a_pos",components:2,type:"Int16"}],4),Wi=Hi.members,Xi=(Hi.size,Hi.alignment,function(t){void 0===t&&(t=[]),this.segments=t});Xi.prototype.prepareSegment=function(t,e,n){var r=this.segments[this.segments.length-1];return t>Xi.MAX_VERTEX_ARRAY_LENGTH&&x("Max vertices per segment is "+Xi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>Xi.MAX_VERTEX_ARRAY_LENGTH)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},this.segments.push(r)),r},Xi.prototype.get=function(){return this.segments},Xi.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},Xi.simpleSegment=function(t,e,n,r){return new Xi([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{}}])},Xi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Tn("SegmentVector",Xi);function Ki(t,e){return 256*(t=m(Math.floor(t),0,255))+m(Math.floor(e),0,255)}function Ji(){this.ids=[],this.positions=[],this.indexed=!1}function Yi(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Ji.prototype.add=function(t,e,n,r){this.ids.push(t),this.positions.push(e,n,r)},Ji.prototype.getPositions=function(t){for(var e=0,n=this.ids.length-1;e<n;){var r=e+n>>1;this.ids[r]>=t?n=r:e=1+r}for(var i=[];this.ids[e]===t;){var o=this.positions[3*e],a=this.positions[3*e+1],s=this.positions[3*e+2];i.push({index:o,start:a,end:s}),e++}return i},Ji.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){if(!(i<=r)){for(var o=e[r+i>>1],a=r-1,s=i+1;;){for(;e[++a]<o;);for(;e[--s]>o;);if(s<=a)break;Yi(e,a,s),Yi(n,3*a,3*s),Yi(n,3*a+1,3*s+1),Yi(n,3*a+2,3*s+2)}t(e,n,r,s),t(e,n,s+1,i)}}(n,r,0,n.length-1),e.push(n.buffer,r.buffer),{ids:n,positions:r}},Ji.deserialize=function(t){var e=new Ji;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},Tn("FeaturePositionMap",Ji);function Qi(t,e){this.gl=t.gl,this.location=e}var to,eo,no,ro,io,oo,ao,so=((ao=Qi)&&(wo.__proto__=ao),((wo.prototype=Object.create(ao&&ao.prototype)).constructor=wo).prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},wo),lo=((oo=Qi)&&(bo.__proto__=oo),((bo.prototype=Object.create(oo&&oo.prototype)).constructor=bo).prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},bo),uo=((io=Qi)&&(xo.__proto__=io),((xo.prototype=Object.create(io&&io.prototype)).constructor=xo).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},xo),co=((ro=Qi)&&(_o.__proto__=ro),((_o.prototype=Object.create(ro&&ro.prototype)).constructor=_o).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},_o),po=((no=Qi)&&(go.__proto__=no),((go.prototype=Object.create(no&&no.prototype)).constructor=go).prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},go),ho=((eo=Qi)&&(yo.__proto__=eo),((yo.prototype=Object.create(eo&&eo.prototype)).constructor=yo).prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},yo),fo=new Float32Array(16),mo=((to=Qi)&&(vo.__proto__=to),((vo.prototype=Object.create(to&&to.prototype)).constructor=vo).prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},vo);function vo(t,e){to.call(this,t,e),this.current=fo}function yo(t,e){eo.call(this,t,e),this.current=pt.transparent}function go(t,e){no.call(this,t,e),this.current=[0,0,0,0]}function _o(t,e){ro.call(this,t,e),this.current=[0,0,0]}function xo(t,e){io.call(this,t,e),this.current=[0,0]}function bo(t,e){oo.call(this,t,e),this.current=0}function wo(t,e){ao.call(this,t,e),this.current=0}function Ao(t){return[Ki(255*t.r,255*t.g),Ki(255*t.b,255*t.a)]}function So(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=n,this.maxValue=-1/0}So.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},So.prototype.setConstantPatternPositions=function(){},So.prototype.populatePaintArray=function(){},So.prototype.updatePaintArray=function(){},So.prototype.upload=function(){},So.prototype.destroy=function(){},So.prototype.setUniforms=function(t,e,n,r){e.set(r.constantOr(this.value))},So.prototype.getBinding=function(t,e){return new("color"===this.type?ho:lo)(t,e)},So.serialize=function(t){var e=t.value,n=t.names,r=t.type;return{value:zn(e),names:n,type:r}},So.deserialize=function(t){var e=t.value,n=t.names,r=t.type;return new So(Mn(e),n,r)};function ko(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map(function(t){return"u_"+t}),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}}ko.prototype.defines=function(){return this.names.map(function(t){return"#define HAS_UNIFORM_u_"+t})},ko.prototype.populatePaintArray=function(){},ko.prototype.updatePaintArray=function(){},ko.prototype.upload=function(){},ko.prototype.destroy=function(){},ko.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},ko.prototype.setUniforms=function(t,e,n,r,i){var o=this.patternPositions;"u_pattern_to"===i&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===i&&o.patternFrom&&e.set(o.patternFrom)},ko.prototype.getBinding=function(t,e){return new po(t,e)};function Eo(t,e,n,r){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map(function(t){return"a_"+t}),this.maxValue=-1/0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}}),this.paintVertexArray=new r}Eo.prototype.defines=function(){return[]},Eo.prototype.setConstantPatternPositions=function(){},Eo.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Bn(0),e,{});if("color"===this.type)for(var o=Ao(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.maxValue=Math.max(this.maxValue,i)}},Eo.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=Ao(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var l=t;l<e;l++)i.emplace(l,o);this.maxValue=Math.max(this.maxValue,o)}},Eo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Eo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Eo.prototype.setUniforms=function(t,e){e.set(0)},Eo.prototype.getBinding=function(t,e){return new lo(t,e)};function Co(t,e,n,r,i,o){this.expression=t,this.names=e,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}}),this.paintVertexArray=new a}Co.prototype.defines=function(){return[]},Co.prototype.setConstantPatternPositions=function(){},Co.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Bn(this.zoom),e,{}),o=this.expression.evaluate(new Bn(this.zoom+1),e,{});if("color"===this.type)for(var a=Ao(i),s=Ao(o),l=r;l<t;l++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=r;u<t;u++)n.emplaceBack(i,o);this.maxValue=Math.max(this.maxValue,i,o)}},Co.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Ao(o),l=Ao(a),u=t;u<e;u++)i.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=t;c<e;c++)i.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Co.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Co.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Co.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Co.prototype.setUniforms=function(t,e,n){e.set(this.interpolationFactor(n.zoom))},Co.prototype.getBinding=function(t,e){return new lo(t,e)};function To(t,e,n,r,i,o,a){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map(function(t){return"a_"+t+"_t"}),this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}To.prototype.defines=function(){return[]},To.prototype.setConstantPatternPositions=function(){},To.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),i.reserve(t),n&&e.patterns&&e.patterns[o]){var s=e.patterns[o],l=s.min,u=s.mid,c=s.max,p=n[l],h=n[u],f=n[c];if(!p||!h||!f)return;for(var d=a;d<t;d++)r.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),i.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},To.prototype.updatePaintArray=function(t,e,n,r,i){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&n.patterns&&n.patterns[s]){var l=n.patterns[s],u=l.min,c=l.mid,p=l.max,h=i[u],f=i[c],d=i[p];if(!h||!f||!d)return;for(var m=t;m<e;m++)o.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),a.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},To.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},To.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},To.prototype.setUniforms=function(t,e){e.set(0)},To.prototype.getBinding=function(t,e){return new lo(t,e)};function Io(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Ji,this._bufferOffset=0}Io.createDynamic=function(t,e,n){var r,i,o=new Io,a=[];for(var s in t.paint._values)if(n(s)){var l=t.paint.get(s);if(l instanceof Kn&&we(l.property.specification)){var u=(r=s,i=t.type,{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[r]||[r.replace(i+"-","").replace(/-/g,"_")]),c=l.property.specification.type,p=l.property.useIntegerZoom;if("cross-faded"===l.property.specification["property-type"]||"cross-faded-data-driven"===l.property.specification["property-type"])if("constant"===l.value.kind)o.binders[s]=new ko(l.value.value,u,c),a.push("/u_"+s);else{var h=Mo(s,c,"source");o.binders[s]=new To(l.value,u,c,p,e,h,t.id),a.push("/a_"+s)}else if("constant"===l.value.kind)o.binders[s]=new So(l.value.value,u,c),a.push("/u_"+s);else if("source"===l.value.kind){var f=Mo(s,c,"source");o.binders[s]=new Eo(l.value,u,c,f),a.push("/a_"+s)}else{var d=Mo(s,c,"composite");o.binders[s]=new Co(l.value,u,c,p,e,d),a.push("/z_"+s)}}}return o.cacheKey=a.sort().join(""),o},Io.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.binders)this.binders[i].populatePaintArray(t,e,r);void 0!==e.id&&this._featureMap.add(+e.id,n,this._bufferOffset,t),this._bufferOffset=t},Io.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders)this.binders[n].setConstantPatternPositions(t,e)},Io.prototype.updatePaintArrays=function(t,e,n,r){var i=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var l=s[a],u=e.feature(l.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof So||p instanceof ko)&&!0===p.expression.isStateDependent){var h=n.paint.get(c);p.expression=h.value,p.updatePaintArray(l.start,l.end,u,t[o],r),i=!0}}}return i},Io.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Io.prototype.getPaintVertexBuffers=function(){return this._buffers},Io.prototype.getUniforms=function(t,e){var n={};for(var r in this.binders)for(var i=this.binders[r],o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];n[s]=i.getBinding(t,e[s])}return n},Io.prototype.setUniforms=function(t,e,n,r){for(var i in this.binders)for(var o=this.binders[i],a=0,s=o.uniformNames;a<s.length;a+=1){var l=s[a];o.setUniforms(t,e[l],r,n.get(i),l)}},Io.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof To){var i=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;i&&e.push(i)}else(r instanceof Eo||r instanceof Co)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},Io.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Eo||i instanceof Co)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Io.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};function zo(t,e,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Io.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1}function Mo(t,e,n){var r={color:{source:gi,composite:bi},number:{source:ti,composite:gi}},i={"line-pattern":{source:Cr,composite:Cr},"fill-pattern":{source:Cr,composite:Cr},"fill-extrusion-pattern":{source:Cr,composite:Cr}}[t];return i&&i[n]||r[e][n]}zo.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,n,r);this.needsUpload=!0},zo.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},zo.prototype.get=function(t){return this.programConfigurations[t]},zo.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},zo.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Tn("ConstantBinder",So),Tn("CrossFadedConstantBinder",ko),Tn("SourceExpressionBinder",Eo),Tn("CrossFadedCompositeBinder",To),Tn("CompositeExpressionBinder",Co),Tn("ProgramConfiguration",Io,{omit:["_buffers"]}),Tn("ProgramConfigurationSet",zo);var Po=8192,Oo={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function Lo(t){for(var e=Po/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<Oo.min||a.x>Oo.max||a.y<Oo.min||a.y>Oo.max)&&x("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Do(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}function Ro(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new mr,this.indexArray=new ui,this.segments=new Xi,this.programConfigurations=new zo(Wi,t.layers,t.zoom)}function Bo(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(Zo(i,e))return!0;if($o(e,i,n))return!0}return!1}function Fo(t,e){if(1===t.length&&1===t[0].length)return qo(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(qo(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(qo(e,a[s]))return!0;for(var l=0;l<e.length;l++)if(jo(a,e[l]))return!0}return!1}function No(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(3<=a.length)for(var s=0;s<i.length;s++)if(Zo(a,i[s]))return!0;if(Vo(a,i,n))return!0}return!1}function Vo(t,e,n){if(1<t.length){if(jo(t,e))return 1;for(var r=0;r<e.length;r++)if($o(e[r],t,n))return 1}for(var i=0;i<t.length;i++)if($o(t[i],e,n))return 1}function jo(t,e){var n,r,i,o;if(0!==t.length&&0!==e.length)for(var a=0;a<t.length-1;a++)for(var s=t[a],l=t[a+1],u=0;u<e.length-1;u++)if(n=s,r=l,i=e[u],o=e[u+1],b(n,i,o)!==b(r,i,o)&&b(n,r,i)!==b(n,r,o))return 1}function $o(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Uo(t,e[i-1],e[i])<r)return 1}function Uo(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):1<i?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function qo(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Zo(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Go(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].maxValue}function Ho(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Wo(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=v.convert(e);"viewport"===n&&o._rotate(-r);for(var a=[],s=0;s<t.length;s++){for(var l=t[s],u=[],c=0;c<l.length;c++)u.push(l[c].sub(o._mult(i)));a.push(u)}return a}Ro.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Bn(this.zoom),o)){var l=Lo(o);this.addFeature(o,l,a),e.featureIndex.insert(o,l,a,s,this.index)}}},Ro.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ro.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ro.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ro.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Wi),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ro.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ro.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],l=s.x,u=s.y;if(!(l<0||Po<=l||u<0||Po<=u)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=c.vertexLength;Do(this.layoutVertexArray,l,u,-1,-1),Do(this.layoutVertexArray,l,u,1,-1),Do(this.layoutVertexArray,l,u,1,1),Do(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},Tn("CircleBucket",Ro,{omit:["layers"]});var Xo={paint:new or({"circle-radius":new Qn(j.paint_circle["circle-radius"]),"circle-color":new Qn(j.paint_circle["circle-color"]),"circle-blur":new Qn(j.paint_circle["circle-blur"]),"circle-opacity":new Qn(j.paint_circle["circle-opacity"]),"circle-translate":new Yn(j.paint_circle["circle-translate"]),"circle-translate-anchor":new Yn(j.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yn(j.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yn(j.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qn(j.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qn(j.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qn(j.paint_circle["circle-stroke-opacity"])})},Ko="undefined"!=typeof Float32Array?Float32Array:Array;function Jo(){var t=new Ko(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Yo(){var t=new Ko(3);return t[0]=0,t[1]=0,t[2]=0,t}function Qo(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ta(t,e,n){var r=new Ko(3);return r[0]=t,r[1]=e,r[2]=n,r}Math.PI;var ea,na=Qo,ra=(ea=Yo(),function(t,e,n,r,i,o){var a,s;for(e=e||3,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)ea[0]=t[a],ea[1]=t[a+1],ea[2]=t[a+2],i(ea,ea,o),t[a]=ea[0],t[a+1]=ea[1],t[a+2]=ea[2];return t});function ia(){var t=new Ko(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function oa(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return 0<a&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function aa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}var sa,la=(sa=ia(),function(t,e,n,r,i,o){var a,s;for(e=e||4,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)sa[0]=t[a],sa[1]=t[a+1],sa[2]=t[a+2],sa[3]=t[a+3],i(sa,sa,o),t[a]=sa[0],t[a+1]=sa[1],t[a+2]=sa[2],t[a+3]=sa[3];return t});function ua(){var t=new Ko(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}var ca;Yo(),ta(1,0,0),ta(0,1,0),ua(),ua(),Jo(),(ca=new Ko(2))[0]=0,ca[1]=0;var pa,ha=((pa=ur)&&(fa.__proto__=pa),((fa.prototype=Object.create(pa&&pa.prototype)).constructor=fa).prototype.createBucket=function(t){return new Ro(t)},fa.prototype.queryRadius=function(t){var e=t;return Go("circle-radius",this,e)+Go("circle-stroke-width",this,e)+Ho(this.paint.get("circle-translate"))},fa.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=Wo(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(e,n){return l.map(function(t){return t.map(function(t){return da(t,e,n)})})}(s,o),h=c?u*a:u,f=0,d=r;f<d.length;f+=1)for(var m=0,v=d[f];m<v.length;m+=1){var y=v[m],g=c?y:da(y,s,o),_=h,x=aa([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=x[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/x[3]),Bo(p,g,_))return!0}return!1},fa);function fa(t){pa.call(this,t,Xo)}function da(t,e,n){var r=aa([],[t.x,t.y,0,1],e);return new v((r[0]/r[3]+1)*n.width*.5,(r[1]/r[3]+1)*n.height*.5)}var ma,va=((ma=Ro)&&(ya.__proto__=ma),(ya.prototype=Object.create(ma&&ma.prototype)).constructor=ya);function ya(){ma.apply(this,arguments)}function ga(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function _a(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ga({},{width:r,height:i},n);xa(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function xa(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}Tn("HeatmapBucket",va,{omit:["layers"]});var ba=function(t,e){ga(this,t,1,e)};ba.prototype.resize=function(t){_a(this,t,1)},ba.prototype.clone=function(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))},ba.copy=function(t,e,n,r,i){xa(t,e,n,r,i,1)};function wa(t,e){ga(this,t,4,e)}wa.prototype.resize=function(t){_a(this,t,4)},wa.prototype.clone=function(){return new wa({width:this.width,height:this.height},new Uint8Array(this.data))},wa.copy=function(t,e,n,r,i){xa(t,e,n,r,i,4)},Tn("AlphaImage",ba),Tn("RGBAImage",wa);var Aa={paint:new or({"heatmap-radius":new Qn(j.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qn(j.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yn(j.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ir(j.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yn(j.paint_heatmap["heatmap-opacity"])})};function Sa(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new wa({width:256,height:1},n)}var ka,Ea,Ca=((Ea=ur)&&(Da.__proto__=Ea),((Da.prototype=Object.create(Ea&&Ea.prototype)).constructor=Da).prototype.createBucket=function(t){return new va(t)},Da.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},Da.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Sa(t,"heatmapDensity"),this.colorRampTexture=null},Da.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},Da.prototype.queryRadius=function(){return 0},Da.prototype.queryIntersectsFeature=function(){return!1},Da.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},Da),Ta={paint:new or({"hillshade-illumination-direction":new Yn(j.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yn(j.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yn(j.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yn(j.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yn(j.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yn(j.paint_hillshade["hillshade-accent-color"])})},Ia=((ka=ur)&&(La.__proto__=ka),((La.prototype=Object.create(ka&&ka.prototype)).constructor=La).prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},La),za=hr([{name:"a_pos",components:2,type:"Int16"}],4),Ma=za.members,Pa=(za.size,za.alignment,Ra),Oa=Ra;function La(t){ka.call(this,t,Ta)}function Da(t){Ea.call(this,t,Aa),this._updateColorRamp()}function Ra(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,h=Ba(t,0,p,n,!0),f=[];if(!h)return f;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ba(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ha(a));for(s.sort(qa),i=0;i<s.length;i++)Za(s[i],n),n=Fa(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<p;d+=n)(s=t[d])<r&&(r=s),(l=t[d+1])<i&&(i=l),o<s&&(o=s),a<l&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Na(h,f,n,r,i,u),f}function Ba(t,e,n,r,i){var o,a;if(i===0<rs(t,e,n,r))for(o=e;o<n;o+=r)a=ts(o,t[o],t[o+1],a);else for(o=n-r;e<=o;o-=r)a=ts(o,t[o],t[o+1],a);return a&&Ka(a,a.next)&&(es(a),a=a.next),a}function Fa(t,e){if(!t)return t;e=e||t;var n,r=t;do{if(n=!1,r.steiner||!Ka(r,r.next)&&0!==Xa(r.prev,r,r.next))r=r.next;else{if(es(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Na(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){for(var i=t;null===i.z&&(i.z=Ga(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==t;);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,o=t=null,a=0;n;){for(a++,r=n,e=s=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;0<s||0<l&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(1<a)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?ja(t,r,i,o):Va(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),es(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Na(t=$a(t,e,n),e,n,r,i,o,2):2===a&&Ua(t,e,n,r,i,o):Na(Fa(t),e,n,r,i,o,1);break}}}function Va(t){var e=t.prev,n=t,r=t.next;if(!(0<=Xa(e,n,r))){for(var i=t.next.next;i!==t.prev;){if(Wa(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=Xa(i.prev,i,i.next))return;i=i.next}return 1}}function ja(t,e,n,r){var i=t.prev,o=t,a=t.next;if(!(0<=Xa(i,o,a))){for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=Ga(s,l,e,n,r),h=Ga(u,c,e,n,r),f=t.prevZ,d=t.nextZ;f&&f.z>=p&&d&&d.z<=h;){if(f!==t.prev&&f!==t.next&&Wa(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Xa(f.prev,f,f.next))return;if(f=f.prevZ,d!==t.prev&&d!==t.next&&Wa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=Xa(d.prev,d,d.next))return;d=d.nextZ}for(;f&&f.z>=p;){if(f!==t.prev&&f!==t.next&&Wa(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Xa(f.prev,f,f.next))return;f=f.prevZ}for(;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&Wa(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=Xa(d.prev,d,d.next))return;d=d.nextZ}return 1}}function $a(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ka(i,o)&&Ja(i,r,r.next,o)&&Ya(i,o)&&Ya(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),es(r),es(r.next),r=t=o),r=r.next}while(r!==t);return r}function Ua(t,e,n,r,i,o){var a,s,l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&(s=u,(a=l).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ja(n,n.next,t,e))return 1;n=n.next}while(n!==t)}(a,s)&&Ya(a,s)&&Ya(s,a)&&function(t,e){for(var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==t;);return r}(a,s))){var c=Qa(l,u);return l=Fa(l,l.next),c=Fa(c,c.next),Na(l,e,n,r,i,o),void Na(c,e,n,r,i,o)}u=u.next}l=l.next}while(l!==t)}function qa(t,e){return t.x-e.x}function Za(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,p=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&Wa(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&Ya(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=Qa(e,t);Fa(n,n.next)}}function Ga(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ha(t){for(var e=t,n=t;e.x<n.x&&(n=e),(e=e.next)!==t;);return n}function Wa(t,e,n,r,i,o,a,s){return 0<=(i-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(r-s)-(n-a)*(e-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function Xa(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ka(t,e){return t.x===e.x&&t.y===e.y}function Ja(t,e,n,r){return Ka(t,e)&&Ka(n,r)||Ka(t,r)&&Ka(n,e)||0<Xa(t,e,n)!=0<Xa(t,e,r)&&0<Xa(n,r,t)!=0<Xa(n,r,e)}function Ya(t,e){return Xa(t.prev,t,t.next)<0?0<=Xa(t,e,t.next)&&0<=Xa(t,t.prev,e):Xa(t,e,t.prev)<0||Xa(t,t.next,e)<0}function Qa(t,e){var n=new ns(t.i,t.x,t.y),r=new ns(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function ts(t,e,n,r){var i=new ns(t,e,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function es(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ns(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rs(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}Ra.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(rs(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(rs(t,u,c,n))}var p=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((t[h]-t[d])*(t[1+f]-t[1+h])-(t[h]-t[f])*(t[1+d]-t[1+h]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},Ra.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);0<i&&(r+=t[i-1].length,n.holes.push(r))}return n},Pa.default=Oa;var is=as,os=as;function as(t,e,n,r,i){!function t(e,n,r,i,o){for(;r<i;){if(600<i-r){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],h=r,f=i;for(ss(e,r,n),0<o(e[i],p)&&ss(e,r,i);h<f;){for(ss(e,h,f),h++,f--;o(e[h],p)<0;)h++;for(;0<o(e[f],p);)f--}0===o(e[r],p)?ss(e,r,f):ss(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||ls)}function ss(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ls(t,e){return t<e?-1:e<t?1:0}function us(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=w(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),1<e)for(var l=0;l<o.length;l++)o[l].length<=e||(is(o[l],e,1,o[l].length-1,cs),o[l]=o[l].slice(0,e));return o}function cs(t,e){return e.area-t.area}function ps(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function hs(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{}),p=u.evaluate({zoom:r},n,{}),h=u.evaluate({zoom:r+1},n,{});o[c]=!0,o[p]=!0,o[h]=!0,n.patterns[l.id]={min:c,mid:p,max:h}}}return n}is.default=os;function fs(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new mr,this.indexArray=new ui,this.indexArray2=new hi,this.programConfigurations=new zo(Ma,t.layers,t.zoom),this.segments=new Xi,this.segments2=new Xi}fs.prototype.populate=function(t,e){this.features=[],this.hasPattern=ps("fill",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Bn(this.zoom),o)){var l=Lo(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(hs("fill",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},fs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},fs.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},fs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},fs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ma),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},fs.prototype.addFeature=function(t,e,n,r){for(var i=0,o=us(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,h=[],f=[],d=0,m=a;d<m.length;d+=1){var v=m[d];if(0!==v.length){v!==a[0]&&f.push(h.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),g=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(g+v.length-1,g),h.push(v[0].x),h.push(v[0].y);for(var _=1;_<v.length;_++)this.layoutVertexArray.emplaceBack(v[_].x,v[_].y),this.indexArray2.emplaceBack(g+_-1,g+_),h.push(v[_].x),h.push(v[_].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}for(var x=Pa(h,f),b=0;b<x.length;b+=3)this.indexArray.emplaceBack(p+x[b],p+x[b+1],p+x[b+2]);c.vertexLength+=s,c.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},Tn("FillBucket",fs,{omit:["layers","features"]});var ds,ms={paint:new or({"fill-antialias":new Yn(j.paint_fill["fill-antialias"]),"fill-opacity":new Qn(j.paint_fill["fill-opacity"]),"fill-color":new Qn(j.paint_fill["fill-color"]),"fill-outline-color":new Qn(j.paint_fill["fill-outline-color"]),"fill-translate":new Yn(j.paint_fill["fill-translate"]),"fill-translate-anchor":new Yn(j.paint_fill["fill-translate-anchor"]),"fill-pattern":new nr(j.paint_fill["fill-pattern"])})},vs=((ds=ur)&&(xs.__proto__=ds),((xs.prototype=Object.create(ds&&ds.prototype)).constructor=xs).prototype.recalculate=function(t){ds.prototype.recalculate.call(this,t);var e=this.paint._values["fill-outline-color"];"constant"===e.value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},xs.prototype.createBucket=function(t){return new fs(t)},xs.prototype.queryRadius=function(){return Ho(this.paint.get("fill-translate"))},xs.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Fo(Wo(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},xs),ys=hr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),gs=ys.members,_s=(ys.size,ys.alignment,Math.pow(2,13));function xs(t){ds.call(this,t,ms)}function bs(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*_s)+a,i*_s*2,o*_s*2,Math.round(s))}function ws(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new br,this.indexArray=new ui,this.programConfigurations=new zo(gs,t.layers,t.zoom),this.segments=new Xi}ws.prototype.populate=function(t,e){this.features=[],this.hasPattern=ps("fill-extrusion",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Bn(this.zoom),o)){var l=Lo(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(hs("fill-extrusion",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},ws.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},ws.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,gs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(t,e,n,r){for(var i=0,o=us(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=a;p<h.length;p+=1){var f=h[p];if(0!==f.length&&!((O=f).every(function(t){return t.x<0})||O.every(function(t){return t.x>Po})||O.every(function(t){return t.y<0})||O.every(function(t){return t.y>Po})))for(var d=0,m=0;m<f.length;m++){var v=f[m];if(1<=m){var y=f[m-1];if(P=y,!((M=v).x===P.x&&(M.x<0||M.x>Po)||M.y===P.y&&(M.y<0||M.y>Po))){c.vertexLength+4>Xi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=v.sub(y)._perp()._unit(),_=y.dist(v);32768<d+_&&(d=0),bs(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,0,d),bs(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,1,d),d+=_,bs(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,0,d),bs(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,1,d);var x=c.vertexLength;this.indexArray.emplaceBack(x,x+1,x+2),this.indexArray.emplaceBack(x+1,x+2,x+3),c.vertexLength+=4,c.primitiveLength+=2}}}}c.vertexLength+s>Xi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var b=[],w=[],A=c.vertexLength,S=0,k=a;S<k.length;S+=1){var E=k[S];if(0!==E.length){E!==a[0]&&w.push(b.length/2);for(var C=0;C<E.length;C++){var T=E[C];bs(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),b.push(T.x),b.push(T.y)}}}for(var I=Pa(b,w),z=0;z<I.length;z+=3)this.indexArray.emplaceBack(A+I[z],A+I[z+1],A+I[z+2]);c.primitiveLength+=I.length/3,c.vertexLength+=s}var M,P,O;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},Tn("FillExtrusionBucket",ws,{omit:["layers","features"]});var As,Ss={paint:new or({"fill-extrusion-opacity":new Yn(j["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qn(j["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yn(j["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yn(j["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new nr(j["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qn(j["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qn(j["paint_fill-extrusion"]["fill-extrusion-base"])})},ks=((As=ur)&&(Is.__proto__=As),((Is.prototype=Object.create(As&&As.prototype)).constructor=Is).prototype.createBucket=function(t){return new ws(t)},Is.prototype.queryRadius=function(){return Ho(this.paint.get("fill-extrusion-translate"))},Is.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Fo(Wo(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),r)},Is.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},Is.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},Is),Es=hr([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Cs=Es.members,Ts=(Es.size,Es.alignment,zs);function Is(t){As.call(this,t,Ss)}function zs(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(Ms,this,e)}function Ms(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function Ps(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}zs.types=["Unknown","Point","LineString","Polygon"],zs.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(i<=0){var l=t.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new v(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},zs.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),s<i&&(s=i),(o+=t.readSVarint())<l&&(l=o),u<o&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},zs.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=zs.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+s)/o;t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=Ps(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Os=Ls;function Ls(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Ds,this,e),this.length=this._features.length}function Ds(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1==r?t.readString():2==r?t.readFloat():3==r?t.readDouble():4==r?t.readVarint64():5==r?t.readVarint():6==r?t.readSVarint():7==r?t.readBoolean():null}return e}(n))}function Rs(t,e,n){if(3===t){var r=new Os(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}Ls.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Ts(this._pbf,e,this.extent,this._keys,this._values)};var Bs={VectorTile:function(t,e){this.layers=t.readFields(Rs,{},e)},VectorTileFeature:Ts,VectorTileLayer:Os},Fs=Bs.VectorTileFeature.types,Ns=Math.cos(Math.PI/180*37.5),Vs=Math.pow(2,14)/.5;function js(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(63*n.x)+128,Math.round(63*n.y)+128,1+(0===o?0:o<0?-1:1)|(.5*a&63)<<2,.5*a>>6)}function $s(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Sr,this.indexArray=new ui,this.programConfigurations=new zo(Cs,t.layers,t.zoom),this.segments=new Xi}function Us(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(Vs-1)}$s.prototype.populate=function(t,e){this.features=[],this.hasPattern=ps("line",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Bn(this.zoom),o)){var l=Lo(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(hs("line",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},$s.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},$s.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},$s.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},$s.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$s.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Cs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},$s.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$s.prototype.addFeature=function(t,e,n,r){for(var i=this.layers[0].layout,o=i.get("line-join").evaluate(t,{}),a=i.get("line-cap"),s=i.get("line-miter-limit"),l=i.get("line-round-limit"),u=0,c=e;u<c.length;u+=1){var p=c[u];this.addLine(p,t,o,a,s,l,n,r)}},$s.prototype.addLine=function(t,e,n,r,i,o,a,s){var l=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Fs[e.type],c=t.length;2<=c&&t[c-1].equals(t[c-2]);)c--;for(var p=0;p<c-1&&t[p].equals(t[p+1]);)p++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(t,e){for(var n,r,i=0,o=p;o<e-1;o++)n=t[o],r=t[o+1],i+=n.dist(r);return i}(t,c)),"bevel"===n&&(i=1.05);var h,f,d,m=Po/(512*this.overscaling)*15,v=t[p],y=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray),g=r,_=u?"butt":r,x=!(this.distance=0),b=void 0,w=void 0,A=void 0,S=void 0;this.e1=this.e2=this.e3=-1,u&&(h=t[c-2],S=v.sub(h)._unit()._perp());for(var k=p;k<c;k++)if(!(w=u&&k===c-1?t[p+1]:t[k+1])||!t[k].equals(w)){S&&(A=S),h&&(b=h),h=t[k],S=w?w.sub(h)._unit()._perp():A;var E=(A=A||S).add(S);0===E.x&&0===E.y||E._unit();var C=E.x*S.x+E.y*S.y,T=0!=C?1/C:1/0,I=C<Ns&&b&&w;if(I&&p<k){var z=h.dist(b);if(2*m<z){var M=h.sub(h.sub(b)._mult(m/z)._round());this.distance+=M.dist(b),this.addCurrentVertex(M,this.distance,A.mult(1),0,0,!1,y,l),b=M}}var P=b&&w,O=P?n:w?g:_;if(P&&"round"===O&&(T<o?O="miter":T<=2&&(O="fakeround")),"miter"===O&&i<T&&(O="bevel"),"bevel"===O&&(2<T&&(O="flipbevel"),T<i&&(O="miter")),b&&(this.distance+=h.dist(b)),"miter"===O)E._mult(T),this.addCurrentVertex(h,this.distance,E,0,0,!1,y,l);else if("flipbevel"===O){if(100<T)E=S.clone().mult(-1);else{var L=0<A.x*S.y-A.y*S.x?-1:1,D=T*A.add(S).mag()/A.sub(S).mag();E._perp()._mult(D*L)}this.addCurrentVertex(h,this.distance,E,0,0,!1,y,l),this.addCurrentVertex(h,this.distance,E.mult(-1),0,0,!1,y,l)}else if("bevel"===O||"fakeround"===O){var R=0<A.x*S.y-A.y*S.x,B=-Math.sqrt(T*T-1);if(R?(d=0,f=B):(f=0,d=B),x||this.addCurrentVertex(h,this.distance,A,f,d,!1,y,l),"fakeround"===O){for(var F=Math.floor(8*(.5-(C-.5))),N=void 0,V=0;V<F;V++)N=S.mult((V+1)/(F+1))._add(A)._unit(),this.addPieSliceVertex(h,this.distance,N,R,y,l);this.addPieSliceVertex(h,this.distance,E,R,y,l);for(var j=F-1;0<=j;j--)N=A.mult((j+1)/(F+1))._add(S)._unit(),this.addPieSliceVertex(h,this.distance,N,R,y,l)}w&&this.addCurrentVertex(h,this.distance,S,-f,-d,!1,y,l)}else"butt"===O?(x||this.addCurrentVertex(h,this.distance,A,0,0,!1,y,l),w&&this.addCurrentVertex(h,this.distance,S,0,0,!1,y,l)):"square"===O?(x||(this.addCurrentVertex(h,this.distance,A,1,1,!1,y,l),this.e1=this.e2=-1),w&&this.addCurrentVertex(h,this.distance,S,-1,-1,!1,y,l)):"round"===O&&(x||(this.addCurrentVertex(h,this.distance,A,0,0,!1,y,l),this.addCurrentVertex(h,this.distance,A,1,1,!0,y,l),this.e1=this.e2=-1),w&&(this.addCurrentVertex(h,this.distance,S,-1,-1,!0,y,l),this.addCurrentVertex(h,this.distance,S,0,0,!1,y,l)));if(I&&k<c-1){var $=h.dist(w);if(2*m<$){var U=h.add(w.sub(h)._mult(m/$)._round());this.distance+=U.dist(h),this.addCurrentVertex(U,this.distance,S.mult(1),0,0,!1,y,l),h=U}}x=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},$s.prototype.addCurrentVertex=function(t,e,n,r,i,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(e=Us(e,s)),l=n.clone(),r&&l._sub(n.perp()._mult(r)),js(u,t,l,o,!1,r,e),this.e3=a.vertexLength++,0<=this.e1&&0<=this.e2&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),i&&l._sub(n.perp()._mult(i)),js(u,t,l,o,!0,-i,e),this.e3=a.vertexLength++,0<=this.e1&&0<=this.e2&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,Vs/2<e&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))},$s.prototype.addPieSliceVertex=function(t,e,n,r,i,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=Us(e,o)),js(a,t,n,!1,r,0,e),this.e3=i.vertexLength++,0<=this.e1&&0<=this.e2&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},Tn("LineBucket",$s,{omit:["layers","features"]});var qs,Zs=new or({"line-cap":new Yn(j.layout_line["line-cap"]),"line-join":new Qn(j.layout_line["line-join"]),"line-miter-limit":new Yn(j.layout_line["line-miter-limit"]),"line-round-limit":new Yn(j.layout_line["line-round-limit"])}),Gs={paint:new or({"line-opacity":new Qn(j.paint_line["line-opacity"]),"line-color":new Qn(j.paint_line["line-color"]),"line-translate":new Yn(j.paint_line["line-translate"]),"line-translate-anchor":new Yn(j.paint_line["line-translate-anchor"]),"line-width":new Qn(j.paint_line["line-width"]),"line-gap-width":new Qn(j.paint_line["line-gap-width"]),"line-offset":new Qn(j.paint_line["line-offset"]),"line-blur":new Qn(j.paint_line["line-blur"]),"line-dasharray":new tr(j.paint_line["line-dasharray"]),"line-pattern":new nr(j.paint_line["line-pattern"]),"line-gradient":new ir(j.paint_line["line-gradient"])}),layout:Zs},Hs=((qs=Qn)&&(Ws.__proto__=qs),((Ws.prototype=Object.create(qs&&qs.prototype)).constructor=Ws).prototype.possiblyEvaluate=function(t,e){return e=new Bn(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),qs.prototype.possiblyEvaluate.call(this,t,e)},Ws.prototype.evaluate=function(t,e,n,r){return e=l({},e,{zoom:Math.floor(e.zoom)}),qs.prototype.evaluate.call(this,t,e,n,r)},new Ws(Gs.paint.properties["line-width"].specification));function Ws(){qs.apply(this,arguments)}Hs.useIntegerZoom=!0;var Xs,Ks=((Xs=ur)&&(Js.__proto__=Xs),((Js.prototype=Object.create(Xs&&Xs.prototype)).constructor=Js).prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},Js.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Sa(t,"lineProgress"),this.gradientTexture=null},Js.prototype.recalculate=function(t){Xs.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=Hs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},Js.prototype.createBucket=function(t){return new $s(t)},Js.prototype.queryRadius=function(t){var e=t,n=Ys(Go("line-width",this,e),Go("line-gap-width",this,e)),r=Go("line-offset",this,e);return n/2+Math.abs(r)+Ho(this.paint.get("line-translate"))},Js.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){var s=Wo(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),l=a/2*Ys(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),u=this.paint.get("line-offset").evaluate(e,n);return u&&(r=function(t,e){for(var n=[],r=new v(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var l=o[s-1],u=o[s],c=o[s+1],p=0===s?r:u.sub(l)._unit()._perp(),h=s===o.length-1?r:c.sub(u)._unit()._perp(),f=p._add(h)._unit(),d=f.x*h.x+f.y*h.y;f._mult(1/d),a.push(f._mult(e)._add(u))}n.push(a)}return n}(r,u*a)),No(s,r,l)},Js);function Js(t){Xs.call(this,t,Gs)}function Ys(t,e){return 0<e?e+2*t:t}var Qs=hr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),tl=hr([{name:"a_projected_pos",components:3,type:"Float32"}],4),el=(hr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),hr([{name:"a_placed",components:2,type:"Uint8"}],4)),nl=(hr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),hr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),rl=hr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function il(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),Un.applyArabicShaping&&(t=Un.applyArabicShaping(t)),t}function ol(t,e,n){return t instanceof yt?(t.sections.forEach(function(t){t.text=il(t.text,e,n)}),t):il(t,e,n)}hr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),hr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),hr([{type:"Float32",name:"offsetX"}]),hr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var al,sl={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},ll=((al=v)&&(ul.__proto__=al),((ul.prototype=Object.create(al&&al.prototype)).constructor=ul).prototype.clone=function(){return new ul(this.x,this.y,this.angle,this.segment)},ul);function ul(t,e,n,r){al.call(this,t,e),this.angle=n,void 0!==r&&(this.segment=r)}Tn("Anchor",ll);function cl(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new Bn(t+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate(new Bn(t+1)),zoomRange:a,sizeRange:{min:n.evaluate(new Bn(a.min)),max:n.evaluate(new Bn(a.max))},propertyValue:e.value}}var pl=Bs.VectorTileFeature.types,hl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function fl(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function dl(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function ml(t){this.layoutVertexArray=new zr,this.indexArray=new ui,this.programConfigurations=t,this.segments=new Xi,this.dynamicLayoutVertexArray=new Or,this.opacityVertexArray=new Rr,this.placedSymbolArray=new Ii}ml.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qs.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,tl.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,hl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Tn("SymbolBuffers",ml);function vl(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new Xi,this.collisionVertexArray=new Zr}vl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,el.members,!0)},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Tn("CollisionBuffers",vl);function yl(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cl(this.zoom,e["text-size"]),this.iconSizeData=cl(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r="viewport-y"===n.get("symbol-z-order");this.sortFeaturesByY=r&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),this.sourceID=t.sourceID}yl.prototype.createArrays=function(){this.text=new ml(new zo(Qs.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new ml(new zo(Qs.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new vl($r,nl.members,hi),this.collisionCircle=new vl($r,rl.members,ui),this.glyphOffsetArray=new Bi,this.lineVertexArray=new ji,this.symbolInstances=new Oi},yl.prototype.calculateGlyphDependencies=function(t,e,n,r){for(var i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,n&&r){var o=sl[t.charAt(i)];o&&(e[o.charCodeAt(0)]=!0)}},yl.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||0<o.value.value.toString().length)&&("constant"!==i.value.kind||0<i.value.value.length),l="constant"!==a.value.kind||a.value.value&&0<a.value.value.length;if(this.features=[],s||l){for(var u=e.iconDependencies,c=e.glyphDependencies,p=new Bn(this.zoom),h=0,f=t;h<f.length;h+=1){var d=f[h],m=d.feature,v=d.index,y=d.sourceLayerIndex;if(n._featureFilter(p,m)){var g=void 0;s&&(g=ol(g=n.getValueAndResolveTokens("text-field",m),n,m));var _=void 0;if(l&&(_=n.getValueAndResolveTokens("icon-image",m)),g||_){var x={text:g,icon:_,index:v,sourceLayerIndex:y,geometry:Lo(m),properties:m.properties,type:pl[m.type]};if(void 0!==m.id&&(x.id=m.id),this.features.push(x),_&&(u[_]=!0),g){var b=i.evaluate(m,{}).join(","),w=c[b]=c[b]||{},A="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");if(g instanceof yt)for(var S=0,k=g.sections;S<k.length;S+=1){var E=k[S],C=Ln(g.toString()),T=E.fontStack||b,I=c[T]=c[T]||{};this.calculateGlyphDependencies(E.text,I,A,C)}else{var z=Ln(g);this.calculateGlyphDependencies(g,w,A,z)}}}}}"line"===r.get("symbol-placement")&&(this.features=function(e){var i={},o={},a=[],n=0;function t(t){a.push(e[t]),n++}function r(t,e,n){var r=o[t];return delete o[t],o[e]=r,a[r].geometry[0].pop(),a[r].geometry[0]=a[r].geometry[0].concat(n[0]),r}function s(t,e,n){var r=i[e];return delete i[e],i[t]=r,a[r].geometry[0].shift(),a[r].geometry[0]=n[0].concat(a[r].geometry[0]),r}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.text instanceof yt?c.text.toString():c.text;if(h){var f=l(h,p),d=l(h,p,!0);if(f in o&&d in i&&o[f]!==i[d]){var m=s(f,d,p),v=r(f,d,a[m].geometry);delete i[f],delete o[d],o[l(h,a[v].geometry,!0)]=v,a[m].geometry=null}else f in o?r(f,d,p):d in i?s(f,d,p):(t(u),i[f]=n-1,o[d]=n-1)}else t(u)}return a.filter(function(t){return t.geometry})}(this.features))}},yl.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},yl.prototype.isEmpty=function(){return 0===this.symbolInstances.length},yl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yl.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},yl.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;0<=s;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},0<s&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yl.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u){for(var c=t.indexArray,p=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,f=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),d=this.glyphOffsetArray.length,m=f.vertexLength,v=0,y=e;v<y.length;v+=1){var g=y[v],_=g.tl,x=g.tr,b=g.bl,w=g.br,A=g.tex,S=f.vertexLength,k=g.glyphOffset[1];fl(p,s.x,s.y,_.x,k+_.y,A.x,A.y,n),fl(p,s.x,s.y,x.x,k+x.y,A.x+A.w,A.y,n),fl(p,s.x,s.y,b.x,k+b.y,A.x,A.y+A.h,n),fl(p,s.x,s.y,w.x,k+w.y,A.x+A.w,A.y+A.h,n),dl(h,s,0),c.emplaceBack(S,S+1,S+2),c.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,m,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})},yl.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},yl.prototype.addCollisionDebugVertices=function(t,e,n,r,i,o,a,s){var l=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),u=l.vertexLength,c=i.layoutVertexArray,p=i.collisionVertexArray,h=a.anchorX,f=a.anchorY;if(this._addCollisionDebugVertex(c,p,o,h,f,new v(t,e)),this._addCollisionDebugVertex(c,p,o,h,f,new v(n,e)),this._addCollisionDebugVertex(c,p,o,h,f,new v(n,r)),this._addCollisionDebugVertex(c,p,o,h,f,new v(t,r)),l.vertexLength+=4,s){var d=i.indexArray;d.emplaceBack(u,u+1,u+2),d.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var m=i.indexArray;m.emplaceBack(u,u+1),m.emplaceBack(u+1,u+2),m.emplaceBack(u+2,u+3),m.emplaceBack(u+3,u),l.primitiveLength+=4}},yl.prototype.addDebugCollisionBoxes=function(t,e,n){for(var r=t;r<e;r++){var i=this.collisionBoxArray.get(r),o=i.x1,a=i.y1,s=i.x2,l=i.y2,u=0<i.radius;this.addCollisionDebugVertices(o,a,s,l,u?this.collisionCircle:this.collisionBox,i.anchorPoint,n,u)}},yl.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e)}},yl.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=r;l<i;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},o.iconFeatureIndex=u.featureIndex;break}}return o},yl.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},yl.prototype.hasTextData=function(){return 0<this.text.segments.get().length},yl.prototype.hasIconData=function(){return 0<this.icon.segments.get().length},yl.prototype.hasCollisionBoxData=function(){return 0<this.collisionBox.segments.get().length},yl.prototype.hasCollisionCircleData=function(){return 0<this.collisionCircle.segments.get().length},yl.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),n=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},yl.prototype.sortFeatures=function(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(1<this.text.segments.get().length||1<this.icon.segments.get().length))){for(var e=[],n=0;n<this.symbolInstances.length;n++)e.push(n);for(var r=Math.sin(t),i=Math.cos(t),o=[],a=[],s=0;s<this.symbolInstances.length;s++){var l=this.symbolInstances.get(s);o.push(0|Math.round(r*l.anchorX+i*l.anchorY)),a.push(l.featureIndex)}e.sort(function(t,e){return o[t]-o[e]||a[e]-a[t]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,c=e;u<c.length;u+=1){var p=c[u],h=this.symbolInstances.get(p);this.featureSortOrder.push(h.featureIndex),0<=h.horizontalPlacedTextSymbolIndex&&this.addIndicesForPlacedTextSymbol(h.horizontalPlacedTextSymbolIndex),0<=h.verticalPlacedTextSymbolIndex&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var f=this.icon.placedSymbolArray.get(p);if(f.numGlyphs){var d=f.vertexStartIndex;this.icon.indexArray.emplaceBack(d,d+1,d+2),this.icon.indexArray.emplaceBack(d+1,d+2,d+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Tn("SymbolBucket",yl,{omit:["layers","collisionBoxArray","features","compareText"]}),yl.MAX_GLYPHS=65535,yl.addDynamicAttributes=dl;var gl,_l,xl,bl=new or({"symbol-placement":new Yn(j.layout_symbol["symbol-placement"]),"symbol-spacing":new Yn(j.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yn(j.layout_symbol["symbol-avoid-edges"]),"symbol-z-order":new Yn(j.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yn(j.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yn(j.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yn(j.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yn(j.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qn(j.layout_symbol["icon-size"]),"icon-text-fit":new Yn(j.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yn(j.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qn(j.layout_symbol["icon-image"]),"icon-rotate":new Qn(j.layout_symbol["icon-rotate"]),"icon-padding":new Yn(j.layout_symbol["icon-padding"]),"icon-keep-upright":new Yn(j.layout_symbol["icon-keep-upright"]),"icon-offset":new Qn(j.layout_symbol["icon-offset"]),"icon-anchor":new Qn(j.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yn(j.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yn(j.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yn(j.layout_symbol["text-rotation-alignment"]),"text-field":new Qn(j.layout_symbol["text-field"]),"text-font":new Qn(j.layout_symbol["text-font"]),"text-size":new Qn(j.layout_symbol["text-size"]),"text-max-width":new Qn(j.layout_symbol["text-max-width"]),"text-line-height":new Yn(j.layout_symbol["text-line-height"]),"text-letter-spacing":new Qn(j.layout_symbol["text-letter-spacing"]),"text-justify":new Qn(j.layout_symbol["text-justify"]),"text-anchor":new Qn(j.layout_symbol["text-anchor"]),"text-max-angle":new Yn(j.layout_symbol["text-max-angle"]),"text-rotate":new Qn(j.layout_symbol["text-rotate"]),"text-padding":new Yn(j.layout_symbol["text-padding"]),"text-keep-upright":new Yn(j.layout_symbol["text-keep-upright"]),"text-transform":new Qn(j.layout_symbol["text-transform"]),"text-offset":new Qn(j.layout_symbol["text-offset"]),"text-allow-overlap":new Yn(j.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yn(j.layout_symbol["text-ignore-placement"]),"text-optional":new Yn(j.layout_symbol["text-optional"])}),wl={paint:new or({"icon-opacity":new Qn(j.paint_symbol["icon-opacity"]),"icon-color":new Qn(j.paint_symbol["icon-color"]),"icon-halo-color":new Qn(j.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qn(j.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qn(j.paint_symbol["icon-halo-blur"]),"icon-translate":new Yn(j.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yn(j.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qn(j.paint_symbol["text-opacity"]),"text-color":new Qn(j.paint_symbol["text-color"]),"text-halo-color":new Qn(j.paint_symbol["text-halo-color"]),"text-halo-width":new Qn(j.paint_symbol["text-halo-width"]),"text-halo-blur":new Qn(j.paint_symbol["text-halo-blur"]),"text-translate":new Yn(j.paint_symbol["text-translate"]),"text-translate-anchor":new Yn(j.paint_symbol["text-translate-anchor"])}),layout:bl},Al=((xl=ur)&&(zl.__proto__=xl),((zl.prototype=Object.create(xl&&xl.prototype)).constructor=zl).prototype.recalculate=function(t){xl.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},zl.prototype.getValueAndResolveTokens=function(t,e){var n,r=this.layout.get(t).evaluate(e,{}),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||De(i.value)?r:(n=e.properties,r.replace(/{([^{}]+)}/g,function(t,e){return e in n?String(n[e]):""}))},zl.prototype.createBucket=function(t){return new yl(t)},zl.prototype.queryRadius=function(){return 0},zl.prototype.queryIntersectsFeature=function(){return!1},zl),Sl={paint:new or({"background-color":new Yn(j.paint_background["background-color"]),"background-pattern":new tr(j.paint_background["background-pattern"]),"background-opacity":new Yn(j.paint_background["background-opacity"])})},kl=((_l=ur)&&(Il.__proto__=_l),(Il.prototype=Object.create(_l&&_l.prototype)).constructor=Il),El={paint:new or({"raster-opacity":new Yn(j.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yn(j.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yn(j.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yn(j.paint_raster["raster-brightness-max"]),"raster-saturation":new Yn(j.paint_raster["raster-saturation"]),"raster-contrast":new Yn(j.paint_raster["raster-contrast"]),"raster-resampling":new Yn(j.paint_raster["raster-resampling"]),"raster-fade-duration":new Yn(j.paint_raster["raster-fade-duration"])})},Cl={circle:ha,heatmap:Ca,hillshade:Ia,fill:vs,"fill-extrusion":ks,line:Ks,symbol:Al,background:kl,raster:((gl=ur)&&(Tl.__proto__=gl),(Tl.prototype=Object.create(gl&&gl.prototype)).constructor=Tl)};function Tl(t){gl.call(this,t,El)}function Il(t){_l.call(this,t,Sl)}function zl(t){xl.call(this,t,wl)}function Ml(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort(function(t,e){return e.h-t.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var p=c[u],h=a.length-1;0<=h;h--){var f=a[h];if(!(p.w>f.w||p.h>f.h)){if(p.x=f.x,p.y=f.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===f.w&&p.h===f.h){var d=a.pop();h<a.length&&(a[h]=d)}else p.h===f.h?(f.x+=p.w,f.w-=p.w):(p.w===f.w||a.push({x:f.x+p.w,y:f.y,w:f.w-p.w,h:p.h}),f.y+=p.h,f.h-=p.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}function Pl(t,e){var n=e.pixelRatio;this.paddedRect=t,this.pixelRatio=n}var Ol={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ol.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ol.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ol.tlbr.get=function(){return this.tl.concat(this.br)},Ol.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Pl.prototype,Ol);function Ll(t,e){var n={},r={},i=[];for(var o in t){var a=t[o],s={x:0,y:0,w:a.data.width+2,h:a.data.height+2};i.push(s),n[o]=new Pl(s,a)}for(var l in e){var u=e[l],c={x:0,y:0,w:u.data.width+2,h:u.data.height+2};i.push(c),r[l]=new Pl(c,u)}var p=Ml(i),h=p.w,f=p.h,d=new wa({width:h||1,height:f||1});for(var m in t){var v=t[m],y=n[m].paddedRect;wa.copy(v.data,d,{x:0,y:0},{x:y.x+1,y:y.y+1},v.data)}for(var g in e){var _=e[g],x=r[g].paddedRect,b=x.x+1,w=x.y+1,A=_.data.width,S=_.data.height;wa.copy(_.data,d,{x:0,y:0},{x:b,y:w},_.data),wa.copy(_.data,d,{x:0,y:S-1},{x:b,y:w-1},{width:A,height:1}),wa.copy(_.data,d,{x:0,y:0},{x:b,y:w+S},{width:A,height:1}),wa.copy(_.data,d,{x:A-1,y:0},{x:b-1,y:w},{width:1,height:S}),wa.copy(_.data,d,{x:0,y:0},{x:b+A,y:w},{width:1,height:S})}this.image=d,this.iconPositions=n,this.patternPositions=r}Tn("ImagePosition",Pl),Tn("ImageAtlas",Ll);function Dl(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)}var Rl=self.HTMLImageElement,Bl=self.HTMLCanvasElement,Fl=self.HTMLVideoElement,Nl=self.ImageData;Dl.prototype.update=function(t,e){var n=t.width,r=t.height,i=!this.size||this.size[0]!==n||this.size[1]!==r,o=this.context,a=o.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),i?(this.size=[n,r],o.pixelStoreUnpack.set(1),this.format!==a.RGBA||e&&!1===e.premultiply||o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof Rl||t instanceof Bl||t instanceof Fl||t instanceof Nl?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof Rl||t instanceof Bl||t instanceof Fl||t instanceof Nl?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,n,r,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Dl.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Dl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Dl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};function Vl(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;0<c;o=256*o+t[e+p],p+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+t[e+p],p+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)}function jl(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(e+=1<=a+p?h/l:h*Math.pow(2,1-p))*l&&(a++,l/=2),c<=a+p?(s=0,a=c):1<=a+p?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));8<=i;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;t[n+f]=255&a,f+=d,a/=256,u-=8);t[n+f-d]|=128*m}var $l=Ul;function Ul(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function ql(t){return t.type===Ul.Bytes?t.readVarint()+t.pos:t.pos+1}function Zl(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Gl(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;t<=i;i--)n.buf[i+r]=n.buf[i]}function Hl(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Wl(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Xl(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Kl(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Jl(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Yl(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Ql(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function tu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function eu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function nu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ru(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function iu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Ul.Varint=0,Ul.Fixed64=1,Ul.Bytes=2,Ul.Fixed32=5,Ul.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=nu(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=iu(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=nu(this.buf,this.pos)+4294967296*nu(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=nu(this.buf,this.pos)+4294967296*iu(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Vl(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Vl(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return Zl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return Zl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return Zl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return Zl(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return Zl(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return Zl(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=239<l?4:223<l?3:191<l?2:1;if(n<i+c)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||55296<=u&&u<=57343)&&(u=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||1114112<=u)&&(u=null)),null===u?(u=65533,c=1):65535<u&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=ql(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=ql(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Ul.Varint)for(;127<this.buf[this.pos++];);else if(e===Ul.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ul.Fixed32)this.pos+=4;else{if(e!==Ul.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),ru(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),ru(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),ru(this.buf,-1&t,this.pos),ru(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),ru(this.buf,-1&t,this.pos),ru(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(l){268435455<(l=+l||0)||l<0?function(t){var e,n,r,i,o,a,s;if(0<=l?(e=l%4294967296|0,n=l/4294967296|0):(n=~(-l/4294967296),4294967295^(e=~(-l%4294967296))?e=e+1|0:n=n+1|(e=0)),0x10000000000000000<=l||l<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),a=e,(s=t).buf[s.pos++]=127&a|128,a>>>=7,s.buf[s.pos++]=127&a|128,a>>>=7,s.buf[s.pos++]=127&a|128,a>>>=7,s.buf[s.pos++]=127&a|128,a>>>=7,s.buf[s.pos]=127&a,o=(7&(r=n))<<4,(i=t).buf[i.pos++]|=o|((r>>>=3)?128:0),r&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r&&(i.buf[i.pos++]=127&r|((r>>>=7)?128:0),r&&(i.buf[i.pos++]=127&r)))))}(this):(this.realloc(4),this.buf[this.pos++]=127&l|(127<l?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(127<l?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(127<l?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){56319<r||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;128<=n&&Gl(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),jl(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),jl(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;128<=r&&Gl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Ul.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Hl,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Wl,e)},writePackedBoolean:function(t,e){this.writeMessage(t,Jl,e)},writePackedFloat:function(t,e){this.writeMessage(t,Xl,e)},writePackedDouble:function(t,e){this.writeMessage(t,Kl,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Yl,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Ql,e)},writePackedFixed64:function(t,e){this.writeMessage(t,tu,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,eu,e)},writeBytesField:function(t,e){this.writeTag(t,Ul.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Ul.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Ul.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Ul.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Ul.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Ul.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Ul.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Ul.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Ul.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Ul.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var ou=3;function au(t,e,n){1===t&&n.readMessage(su,e)}function su(t,e,n){if(3===t){var r=n.readMessage(lu,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,l=r.left,u=r.top,c=r.advance;e.push({id:i,bitmap:new ba({width:a+2*ou,height:s+2*ou},o),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function lu(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function uu(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,p(["receive"],this),this.target.addEventListener("message",this.receive,!1)}var cu=ou;function pu(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}uu.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:zn(e,o)},o)},uu.prototype.receive=function(t){var e,r=this,n=t.data,i=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var o=function(t,e){var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(i),error:t?zn(t):null,data:zn(e,n)},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(Mn(n.error)):e&&e(null,Mn(n.data));else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,Mn(n.data),o);else if(void 0!==n.id&&this.parent.getWorkerSource){var a=n.type.split("."),s=Mn(n.data);this.parent.getWorkerSource(n.sourceMapId,a[0],s.source)[a[1]](s,o)}else this.parent[n.type](Mn(n.data))}},uu.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};function hu(t,e,n){this.z=t,this.x=e,this.y=n,this.key=mu(0,t,e,n)}hu.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},hu.prototype.url=function(t,e){var n,r,i,o,a,s=(n=this.x,r=this.y,i=this.z,o=pu(256*n,256*(r=Math.pow(2,i)-r-1),i),a=pu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;0<o;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)};function fu(t,e){this.wrap=t,this.canonical=e,this.key=mu(t,e.z,e.x,e.y)}function du(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new hu(n,+r,+i),this.key=mu(e,t,r,i)}function mu(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}du.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},du.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new du(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new du(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},du.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},du.prototype.children=function(t){if(this.overscaledZ>=t)return[new du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new du(e,this.wrap,e,n,r),new du(e,this.wrap,e,1+n,r),new du(e,this.wrap,e,n,1+r),new du(e,this.wrap,e,1+n,1+r)]},du.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},du.prototype.wrapped=function(){return new du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},du.prototype.unwrapTo=function(t){return new du(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},du.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},du.prototype.toUnwrapped=function(){return new fu(this.wrap,this.canonical)},du.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},du.prototype.toCoordinate=function(){return new c(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},Tn("CanonicalTileID",hu),Tn("OverscaledTileID",du,{omit:["posMatrix"]});function vu(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return x('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.dim=e.height;this.border=Math.max(Math.ceil(e.height/2),1),this.stride=this.dim+2*this.border,this.data=new Int32Array(this.stride*this.stride);for(var i=e.data,o="terrarium"===n?this._unpackTerrarium:this._unpackMapbox,a=0;a<r;a++)for(var s=0;s<r;s++){var l=4*(a*r+s);this.set(s,a,o(i[l],i[1+l],i[2+l]))}for(var u=0;u<r;u++)this.set(-1,u,this.get(0,u)),this.set(r,u,this.get(r-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,r,this.get(u,r-1));this.set(-1,-1,this.get(0,0)),this.set(r,-1,this.get(r-1,0)),this.set(-1,r,this.get(0,r-1)),this.set(r,r,this.get(r-1,r-1))}vu.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},vu.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},vu.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},vu.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},vu.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},vu.prototype.getPixels=function(){return new wa({width:this.dim+2*this.border,height:this.dim+2*this.border},new Uint8Array(this.data.buffer))},vu.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=m(r,-this.border,this.dim+this.border),l=m(i,-this.border,this.dim+this.border),u=m(o,-this.border,this.dim+this.border),c=m(a,-this.border,this.dim+this.border),p=-e*this.dim,h=-n*this.dim,f=u;f<c;f++)for(var d=s;d<l;d++)this.set(d,f,t.get(d+p,f+h))},Tn("DEMData",vu);function yu(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}var gu=hr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);yu.prototype.encode=function(t){return this._stringToNumber[t]},yu.prototype.decode=function(t){return this._numberToString[t]};function _u(t,e,n,r){this.type="Feature",(this._vectorTileFeature=t)._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)}var xu={geometry:{configurable:!0}};xu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},xu.geometry.set=function(t){this._geometry=t},_u.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(_u.prototype,xu);function bu(){this.state={},this.stateChanges={}}bu.prototype.updateState=function(t,e,n){var r=String(e);this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},l(this.stateChanges[t][r],n)},bu.prototype.getState=function(t,e){var n=String(e),r=this.state[t]||{},i=this.stateChanges[t]||{};return l({},r[n],i[n])},bu.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},bu.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),l(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}if(this.stateChanges={},0!==Object.keys(n).length)for(var a in t)t[a].setFeatureState(n,e)};function wu(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new An(Po,16,0),this.featureIndexArray=n||new Zi}function Au(t,e){return e-t}wu.prototype.insert=function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<e.length;a++){for(var s=e[a],l=[1/0,1/0,-1/0,-1/0],u=0;u<s.length;u++){var c=s[u];l[0]=Math.min(l[0],c.x),l[1]=Math.min(l[1],c.y),l[2]=Math.max(l[2],c.x),l[3]=Math.max(l[3],c.y)}l[0]<Po&&l[1]<Po&&0<=l[2]&&0<=l[3]&&this.grid.insert(o,l[0],l[1],l[2],l[3])}},wu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Bs.VectorTile(new $l(this.rawTileData)).layers,this.sourceLayerCoder=new yu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},wu.prototype.query=function(i,o,a){var s=this;this.loadVTLayers();for(var l=i.params||{},u=Po/i.tileSize/i.scale,c=Ke(l.filter),p=i.queryGeometry,t=i.queryPadding*u,e=1/0,n=1/0,r=-1/0,h=-1/0,f=0;f<p.length;f++)for(var d=p[f],m=0;m<d.length;m++){var v=d[m];e=Math.min(e,v.x),n=Math.min(n,v.y),r=Math.max(r,v.x),h=Math.max(h,v.y)}var y=this.grid.query(e-t,n-t,r+t,h+t);y.sort(Au);for(var g,_={},x=function(t){var e=y[t];if(e!==g){g=e;var n=s.featureIndexArray.get(e),r=null;s.loadMatchingFeature(_,n.bucketIndex,n.sourceLayerIndex,n.featureIndex,c,l.layers,o,function(t,e){r=r||Lo(t);var n={};return t.id&&(n=a.getState(e.sourceLayer||"_geojsonTileLayer",t.id)),e.queryIntersectsFeature(p,t,n,r,s.z,i.transform,u,i.posMatrix)})}},b=0;b<y.length;b++)x(b);return _},wu.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var l=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return 1}(o,l)){var u=this.sourceLayerCoder.decode(n),c=this.vtLayers[u].feature(r);if(i(new Bn(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var h=l[p];if(!(o&&o.indexOf(h)<0)){var f=a[h];if(f&&(!s||s(c,f))){var d=new _u(c,this.z,this.x,this.y);d.layer=f.serialize();var m=t[h];void 0===m&&(m=t[h]=[]),m.push({featureIndex:r,feature:d})}}}}},wu.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=Ke(r),l=0,u=t;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(a,e,n,c,s,i,o)}return a},wu.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},Tn("FeatureIndex",wu,{omit:["rawTileData","sourceLayerCoder"]});function Su(t,e){this.tileID=t,this.uid=u(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"}Su.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<E.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Su.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Su.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a,o.stateDependentLayers=a.filter(function(t){return t.isStateDependent()});for(var s=0,l=a;s<l.length;s+=1)n[l[s].id]=o}}return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ki},Su.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Su.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Su.prototype.getBucket=function(t){return this.buckets[t.id]},Su.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Dl(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Dl(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},Su.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,scale:r,tileSize:this.tileSize,posMatrix:s,transform:o,params:i,queryPadding:this.queryPadding*a},t,e):{}},Su.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=e?e.sourceLayer:"",i=n._geojsonTileLayer||n[r];if(i)for(var o=Ke(e&&e.filter),a=this.tileID.canonical,s=a.z,l=a.x,u=a.y,c={z:s,x:l,y:u},p=0;p<i.length;p++){var h=i.feature(p);if(o(new Bn(this.tileID.overscaledZ),h)){var f=new _u(h,s,l,u);f.tile=c,t.push(f)}}}},Su.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Su.prototype.setMask=function(t,e){if(!h(this.mask,t)&&(this.mask=t,this.clearMask(),!h(t,{0:!0}))){var n=new gr,r=new ui;this.segments=new Xi,this.segments.prepareSegment(0,n,r);for(var i=Object.keys(t),o=0;o<i.length;o++){var a=t[i[o]],s=Po>>a.z,l=new v(a.x*s,a.y*s),u=new v(l.x+s,l.y+s),c=this.segments.prepareSegment(4,n,r);n.emplaceBack(l.x,l.y,l.x,l.y),n.emplaceBack(u.x,l.y,u.x,l.y),n.emplaceBack(l.x,u.y,l.x,u.y),n.emplaceBack(u.x,u.y,u.x,u.y);var p=c.vertexLength;r.emplaceBack(p,p+1,p+2),r.emplaceBack(p+1,p+2,p+3),c.vertexLength+=4,c.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,gu.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},Su.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Su.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Su.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=function(t){var o={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,e,n,r){var i=n||r;return o[e]=!i||i.toLowerCase(),""}),o["max-age"]){var e=parseInt(o["max-age"],10);isNaN(e)?delete o["max-age"]:o["max-age"]=e}return o}(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Su.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Su.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(i))))}}},Su.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Su.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<E.now()},Su.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Su.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=E.now()+t};function ku(){this.text="",this.sectionIndex=[],this.sections=[]}var Eu={horizontal:1,vertical:2,horizontalOnly:3};ku.fromFeature=function(t,e){var n=new ku;if(t instanceof yt)for(var r=0;r<t.sections.length;r++){var i=t.sections[r];n.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),n.text+=i.text;for(var o=0;o<i.text.length;o++)n.sectionIndex.push(r)}else{n.text=t,n.sections.push({scale:1,fontStack:e});for(var a=0;a<t.length;a++)n.sectionIndex.push(0)}return n},ku.prototype.length=function(){return this.text.length},ku.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},ku.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},ku.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&Rn(r)&&!sl[t[n+1]]||i&&Rn(i)&&!sl[t[n-1]]||!sl[t[n]]?e+=t[n]:e+=sl[t[n]]}return e}(this.text)},ku.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Cu[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;0<=r&&t<=r&&Cu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},ku.prototype.substring=function(t,e){var n=new ku;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},ku.prototype.toString=function(){return this.text},ku.prototype.getMaxScale=function(){var n=this;return this.sectionIndex.reduce(function(t,e){return Math.max(t,n.sections[e].scale)},0)};var Cu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Tu={};function Iu(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function zu(t,e,n,r,i,o){for(var a=null,s=Iu(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=Iu(e-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Mu(t,e,n,r){if(!n)return[];if(!t)return[];for(var i,o=[],a=function(t,e,n,r){for(var i=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],l=s&&s[t.getCharCode(o)];l&&(i+=l.metrics.advance*a.scale+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,l=0;l<t.length();l++){var u=t.getSection(l),c=t.getCharCode(l),p=r[u.fontStack],h=p&&p[c];h&&!Cu[c]&&(s+=h.metrics.advance*u.scale+e),l<t.length()-1&&(Tu[c]||!((i=c)<11904)&&(On["Bopomofo Extended"](i)||On.Bopomofo(i)||On["CJK Compatibility Forms"](i)||On["CJK Compatibility Ideographs"](i)||On["CJK Compatibility"](i)||On["CJK Radicals Supplement"](i)||On["CJK Strokes"](i)||On["CJK Symbols and Punctuation"](i)||On["CJK Unified Ideographs Extension A"](i)||On["CJK Unified Ideographs"](i)||On["Enclosed CJK Letters and Months"](i)||On["Halfwidth and Fullwidth Forms"](i)||On.Hiragana(i)||On["Ideographic Description Characters"](i)||On["Kangxi Radicals"](i)||On["Katakana Phonetic Extensions"](i)||On.Katakana(i)||On["Vertical Forms"](i)||On["Yi Radicals"](i)||On["Yi Syllables"](i)))&&o.push(zu(l+1,s,a,o,(f=c,d=t.getCharCode(l+1),m=void 0,m=0,10===f&&(m-=1e4),40!==f&&65288!==f||(m+=50),41!==d&&65289!==d||(m+=50),m),!1))}var f,d,m;return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(zu(t.length(),s,a,o,0,!0))}function Pu(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Ou(t,e,n,r,i){if(i){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var l=s.metrics.advance*o.scale,u=(t[r].x+l)*i,c=n;c<=r;c++)t[c].x-=u}}Tu[10]=!0,Tu[32]=!0,Tu[38]=!0,Tu[40]=!0,Tu[41]=!0,Tu[43]=!0,Tu[45]=!0,Tu[47]=!0,Tu[173]=!0,Tu[183]=!0,Tu[8203]=!0,Tu[8208]=!0,Tu[8211]=!0,Tu[8231]=!0,t.createCommonjsModule=e,t.Point=v,t.window=self,t.browser=E,t.uuid=function(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()},t.validateUuid=function(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},t.storageAvailable=function(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}},t.warnOnce=x,t.postData=function(t,e,n){var r=P(l(t,{method:"POST"}));return r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){200<=r.status&&r.status<300?n(null,r.response):n(new z(r.statusText,r.status,t.url))},r.send(e),{cancel:function(){return r.abort()}}},t.getJSON=function(e,n){var r=P(e);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){if((200<=r.status&&r.status<300||0===r.status)&&r.response){var t;try{t=JSON.parse(r.response)}catch(t){return n(t)}n(null,t)}else 401===r.status&&e.url.match(/mapbox.com/)?n(new z(r.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",r.status,e.url)):n(new z(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}},t.getImage=function(t,o){return O(t,function(t,e){if(t)o(t);else if(e){var n=new self.Image,r=self.URL||self.webkitURL;n.onload=function(){o(null,n),r.revokeObjectURL(n.src)};var i=new self.Blob([new Uint8Array(e.data)],{type:"image/png"});n.cacheControl=e.cacheControl,n.expires=e.expires,n.src=e.data.byteLength?r.createObjectURL(i):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},t.ResourceType=T,t.RGBAImage=wa,t.potpack=Ml,t.ImagePosition=Pl,t.Texture=Dl,t.getArrayBuffer=O,t.parseGlyphPBF=function(t){return new $l(t).readFields(au,[])},t.isChar=On,t.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var i=t.length,o=new Array(t.length),a=null;t.forEach(function(t,n){e(t,function(t,e){t&&(a=t),o[n]=e,0==--i&&r(a,o)})})},t.AlphaImage=ba,t.styleSpec=j,t.endsWith=f,t.extend=l,t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.Evented=B,t.validateStyle=gn,t.validateLight=_n,t.emitValidationErrors=wn,t.Color=pt,t.number=Dt,t.Properties=or,t.Transitionable=Gn,t.Transitioning=Wn,t.PossiblyEvaluated=Jn,t.DataConstantProperty=Yn,t.uniqueId=u,t.Actor=uu,t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},t.clamp=m,t.Event=R,t.ErrorEvent=N,t.OverscaledTileID=du,t.EXTENT=Po,t.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++)e=Math.min(e,t[o].column),n=Math.min(n,t[o].row),r=Math.max(r,t[o].column),i=Math.max(i,t[o].row);var a=r-e,s=i-n,l=Math.max(a,s),u=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new c((e+r)/2,(n+i)/2,0).zoomTo(u)},t.CanonicalTileID=hu,t.StructArrayLayout4i8=gr,t.rasterBoundsAttributes=gu,t.SegmentVector=Xi,t.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,r.protocol===self.document.location.protocol&&r.host===self.document.location.host||(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.ValidationError=$,t.bindAll=p,t.deepEqual=h,t.Tile=Su,t.Coordinate=c,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.SourceFeatureState=bu,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.create=function(){var t=new Ko(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],m=e[13],v=e[14],y=e[15],g=n*s-r*a,_=n*l-i*a,x=n*u-o*a,b=r*l-i*s,w=r*u-o*s,A=i*u-o*l,S=c*m-p*d,k=c*v-h*d,E=c*y-f*d,C=p*v-h*m,T=p*y-f*m,I=h*y-f*v,z=g*I-_*T+x*C+b*E-w*k+A*S;return z?(z=1/z,t[0]=(s*I-l*T+u*C)*z,t[1]=(i*T-r*I-o*C)*z,t[2]=(m*A-v*w+y*b)*z,t[3]=(h*w-p*A-f*b)*z,t[4]=(l*E-a*I-u*k)*z,t[5]=(n*I-i*E+o*k)*z,t[6]=(v*x-d*A-y*_)*z,t[7]=(c*A-h*x+f*_)*z,t[8]=(a*T-s*E+u*S)*z,t[9]=(r*E-n*T-o*S)*z,t[10]=(d*w-m*x+y*g)*z,t[11]=(p*x-c*w-f*g)*z,t[12]=(s*k-a*C-l*S)*z,t[13]=(n*C-r*k+i*S)*z,t[14]=(m*_-d*b-v*g)*z,t[15]=(c*b-p*_+h*g)*z,t):null},t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],m=e[12],v=e[13],y=e[14],g=e[15],_=n[0],x=n[1],b=n[2],w=n[3];return t[0]=_*r+x*s+b*p+w*m,t[1]=_*i+x*l+b*h+w*v,t[2]=_*o+x*u+b*f+w*y,t[3]=_*a+x*c+b*d+w*g,_=n[4],x=n[5],b=n[6],w=n[7],t[4]=_*r+x*s+b*p+w*m,t[5]=_*i+x*l+b*h+w*v,t[6]=_*o+x*u+b*f+w*y,t[7]=_*a+x*c+b*d+w*g,_=n[8],x=n[9],b=n[10],w=n[11],t[8]=_*r+x*s+b*p+w*m,t[9]=_*i+x*l+b*h+w*v,t[10]=_*o+x*u+b*f+w*y,t[11]=_*a+x*c+b*d+w*g,_=n[12],x=n[13],b=n[14],w=n[15],t[12]=_*r+x*s+b*p+w*m,t[13]=_*i+x*l+b*h+w*v,t[14]=_*o+x*u+b*f+w*y,t[15]=_*a+x*c+b*d+w*g,t},t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,p,h,f,d,m=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*y+e[12],t[13]=e[1]*m+e[5]*v+e[9]*y+e[13],t[14]=e[2]*m+e[6]*v+e[10]*y+e[14],t[15]=e[3]*m+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=h,t[10]=f,t[11]=d,t[12]=r*m+s*v+p*y+e[12],t[13]=i*m+l*v+h*y+e[13],t[14]=o*m+u*v+f*y+e[14],t[15]=a*m+c*v+d*y+e[15]),t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=h*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=h*i-l*r,t},t.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.create$1=ia,t.normalize=oa,t.transformMat4=aa,t.forEach=la,t.getSizeData=cl,t.evaluateSizeForFeature=function(t,e,n){return"source"===t.functionType?n.lowerSize/256:"composite"===t.functionType?Dt(n.lowerSize/256,n.upperSize/256,e.uSizeT):e.uSize},t.evaluateSizeForZoom=function(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=m(je(r,n.specification).interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+a*(o.max-o.min)}}var s=t.propertyValue,l=t.zoomRange;return{uSizeT:m(je(s,n.specification).interpolationFactor(e,l.min,l.max),0,1),uSize:0}},t.SIZE_PACK_FACTOR=256,t.addDynamicAttributes=dl,t.properties=wl,t.WritingMode=Eu,t.multiPolygonIntersectsBufferedPoint=Bo,t.multiPolygonIntersectsMultiPolygon=Fo,t.multiPolygonIntersectsBufferedMultiLine=No,t.polygonIntersectsPolygon=function(t,e){for(var n=0;n<t.length;n++)if(Zo(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(Zo(t,e[r]))return!0;return!!jo(t,e)},t.distToSegmentSquared=Uo,t.SymbolInstanceArray=Oi,t.StyleLayer=ur,t.createStyleLayer=function(t){return new Cl[t.type](t)},t.clone=g,t.filterObject=y,t.mapObject=d,t.registerForPluginAvailability=function(t){return Vn?t({pluginURL:Vn,completionCallback:Fn}):$n.once("pluginAvailable",t),t},t.evented=$n,t.ZoomHistory=Pn,t.createLayout=hr,t.ProgramConfiguration=Io,t.Uniform1i=so,t.Uniform1f=lo,t.Uniform2f=uo,t.Uniform4f=po,t.Uniform3f=co,t.UniformMatrix4f=mo,t.create$2=Jo,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.create$3=Yo,t.length=Qo,t.fromValues=ta,t.normalize$1=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t},t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.len=na,t.forEach$1=ra,t.UniformColor=ho,t.StructArrayLayout2i4=mr,t.StructArrayLayout2ui4=hi,t.StructArrayLayout3ui6=ui,t.StructArrayLayout1ui2=mi,t.UnwrappedTileID=fu,t.create$4=function(){var t=new Ko(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.ease=o,t.bezier=i,t.EvaluationParameters=Bn,t.setRTLTextPlugin=function(t,e){if(Nn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Nn=!0,Vn=E.resolveURL(t),Fn=function(t){t?(Nn=!1,Vn=null,e&&e(t)):jn=!0},$n.fire(new R("pluginAvailable",{pluginURL:Vn,completionCallback:Fn}))},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.featureFilter=Ke,t.Anchor=ll,t.GLYPH_PBF_BORDER=cu,t.shapeText=function(t,e,n,r,i,o,I,a,s,l,u){var c=ku.fromFeature(t,n);u===Eu.vertical&&c.verticalizePunctuation();var p,h=[],f={positionedGlyphs:h,text:c,top:s[1],bottom:s[1],left:s[0],right:s[0],writingMode:u},d=Un.processBidirectionalText,m=Un.processStyledBidirectionalText;if(d&&1===c.sections.length){p=[];for(var v=0,y=d(c.toString(),Mu(c,a,r,e));v<y.length;v+=1){var g=y[v],_=new ku;_.text=g,_.sections=c.sections;for(var x=0;x<g.length;x++)_.sectionIndex.push(0);p.push(_)}}else if(m){p=[];for(var b=0,w=m(c.text,c.sectionIndex,Mu(c,a,r,e));b<w.length;b+=1){var A=w[b],S=new ku;S.text=A[0],S.sectionIndex=A[1],S.sections=c.sections,p.push(S)}}else p=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(c,Mu(c,a,r,e));return function(t,e,o,n,r,i,a,s){for(var l=0,u=-17,c=0,p=t.positionedGlyphs,h="right"===I?1:"left"===I?0:.5,f=0,d=o;f<d.length;f+=1){var m=d[f];m.trim();var v=m.getMaxScale();if(m.length()){for(var y=p.length,g=0;g<m.length();g++){var _=m.getSection(g),x=m.getCharCode(g),b=24*(v-_.scale),w=e[_.fontStack],A=w&&w[x];A&&(Dn(x)&&i!==Eu.horizontal?(p.push({glyph:x,x:l,y:b,vertical:!0,scale:_.scale,fontStack:_.fontStack}),l+=s*_.scale+a):(p.push({glyph:x,x:l,y:u+b,vertical:!1,scale:_.scale,fontStack:_.fontStack}),l+=A.metrics.advance*_.scale+a))}if(p.length!==y){var S=l-a;c=Math.max(S,c),Ou(p,e,y,p.length-1,h)}l=0,u+=n*v}else u+=n}var k=Pu(r),E=k.horizontalAlign,C=k.verticalAlign;!function(t,e){for(var n=(h-E)*c,r=(-C*o.length+.5)*e,i=0;i<t.length;i++)t[i].x+=n,t[i].y+=r}(p,n);var T=u- -17;t.top+=-C*T,t.bottom=t.top+T,t.left+=-E*c,t.right=t.left+c}(f,e,p,i,o,u,a,l),!!h.length&&(f.text=f.text.toString(),f)},t.shapeIcon=function(t,e,n){var r=Pu(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*i,u=l+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:l,right:u}},t.allowsVerticalWritingMode=Ln,t.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),On.Arabic(r)||On["Arabic Supplement"](r)||On["Arabic Extended-A"](r)||On["Arabic Presentation Forms-A"](r)||On["Arabic Presentation Forms-B"](r))return!1;var r;return!0},t.classifyRings=us,t.SymbolBucket=yl,t.Formatted=yt,t.register=Tn,t.FeatureIndex=wu,t.CollisionBoxArray=ki,t.DictionaryCoder=yu,t.LineBucket=$s,t.FillBucket=fs,t.FillExtrusionBucket=ws,t.ImageAtlas=Ll,t.mvt=Bs,t.Protobuf=$l,t.DEMData=vu,t.vectorTile=Bs,t.Point$1=v,t.pbf=$l,t.plugin=Un}),t(0,function(st){function l(t){var e=typeof t;if("number"==e||"boolean"==e||"string"==e||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",r=0,i=t;r<i.length;r+=1)n+=l(i[r])+",";return n+"]"}for(var o=Object.keys(t).sort(),a="{",s=0;s<o.length;s++)a+=JSON.stringify(o[s])+":"+l(t[o[s]])+",";return a+"}"}function g(t){for(var e="",n=0,r=st.refProperties;n<r.length;n+=1)e+="/"+l(t[r[n]]);return e}function n(t){t&&this.replace(t)}function lt(t,e,n,r,i){if(void 0===e.segment)return 1;for(var o=e,a=e.segment+1,s=0;-n/2<s;){if(--a<0)return;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a-1],p=t[a],h=t[a+1];if(!h)return;var f=c.angleTo(p)-p.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),u+=f;s-l[0].distance>r;)u-=l.shift().angleDelta;if(i<u)return;a++,s+=p.dist(h)}return 1}function ut(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function ct(t,e,n){return t?.6*e*n:0}function pt(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ht(t,e,n,r,i,o){for(var a=ct(n,i,o),s=pt(n,r)*o,l=0,u=ut(t)/2,c=0;c<t.length-1;c++){var p=t[c],h=t[c+1],f=p.dist(h);if(u<l+f){var d=(u-l)/f,m=st.number(p.x,h.x,d),v=st.number(p.y,h.y,d),y=new st.Anchor(m,v,h.angleTo(p),c);return y._round(),!a||lt(t,y,s,a,e)?y:void 0}l+=f}}n.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},n.prototype.update=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r];n._layerConfigs[o.id]=o;var a=n._layers[o.id]=st.createStyleLayer(o);a._featureFilter=st.featureFilter(a.filter)}for(var s=0,l=e;s<l.length;s+=1){var u=l[s];delete n._layerConfigs[u],delete n._layers[u]}this.familiesBySource={};for(var c=0,p=function(t){for(var e={},n=0;n<t.length;n++){var r=g(t[n]),i=e[r];(i=i||(e[r]=[])).push(t[n])}var o=[];for(var a in e)o.push(e[a]);return o}(st.values(this._layerConfigs));c<p.length;c+=1){var h=p[c].map(function(t){return n._layers[t.id]}),f=h[0];if("none"!==f.visibility){var d=f.source||"",m=n.familiesBySource[d];m=m||(n.familiesBySource[d]={});var v=f.sourceLayer||"_geojsonTileLayer",y=m[v];(y=y||(m[v]=[])).push(h)}}};var ft=function(t,e,n,r,i,o,a,s,l,u,c,p){var h=a.top*s-l,f=a.bottom*s+l,d=a.left*s-l,m=a.right*s+l;if(this.boxStartIndex=t.length,u){var v=f-h,y=m-d;0<v&&(v=Math.max(10*s,v),this._addLineCollisionCircles(t,e,n,n.segment,y,v,r,i,o,c))}else{if(p){var g=new st.Point(d,h),_=new st.Point(m,h),x=new st.Point(d,f),b=new st.Point(m,f),w=p*Math.PI/180;g._rotate(w),_._rotate(w),x._rotate(w),b._rotate(w),d=Math.min(g.x,_.x,x.x,b.x),m=Math.max(g.x,_.x,x.x,b.x),h=Math.min(g.y,_.y,x.y,b.y),f=Math.max(g.y,_.y,x.y,b.y)}t.emplaceBack(n.x,n.y,d,h,m,f,r,i,o,0,0)}this.boxEndIndex=t.length};ft.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,l,u){var c=o/2,p=Math.floor(i/c)||1,h=1+.4*Math.log(u)/Math.LN2,f=Math.floor(p*h/2),d=-o/2,m=n,v=r+1,y=d,g=-i/2,_=g-i/4;do{if(--v<0){if(g<y)return;v=0;break}y-=e[v].dist(m),m=e[v]}while(_<y);for(var x=e[v].dist(e[v+1]),b=-f;b<p+f;b++){var w=b*c,A=g+w;if(w<0&&(A+=w),i<w&&(A+=w-i),!(A<y)){for(;y+x<A;){if(y+=x,++v+1>=e.length)return;x=e[v].dist(e[v+1])}var S=A-y,k=e[v],E=e[v+1].sub(k)._unit()._mult(S)._add(k)._round(),C=Math.abs(A-d)<c?0:.8*(A-d);t.emplaceBack(E.x,E.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,C)}}};var x=r,t=r;function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,0<this.length)for(var n=(this.length>>1)-1;0<=n;n--)this._down(n)}function i(t,e){return t<e?-1:e<t?1:0}function dt(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,i=1/0,o=-1/0,a=-1/0,s=t[0],l=0;l<s.length;l++){var u=s[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<i)&&(i=u.y),(!l||u.x>o)&&(o=u.x),(!l||u.y>a)&&(a=u.y)}var c=o-r,p=a-i,h=Math.min(c,p),f=h/2,d=new x(null,b);if(0===h)return new st.Point(r,i);for(var m=r;m<o;m+=h)for(var v=i;v<a;v+=h)d.push(new w(m+f,v+f,f,t));for(var y=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new w(n/e,r/e,0,t)}(t),g=d.length;d.length;){var _=d.pop();(_.d>y.d||!y.d)&&(y=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,g)),_.max-y.d<=e||(f=_.h/2,d.push(new w(_.p.x-f,_.p.y-f,f,t)),d.push(new w(_.p.x+f,_.p.y-f,f,t)),d.push(new w(_.p.x-f,_.p.y+f,f,t)),d.push(new w(_.p.x+f,_.p.y+f,f,t)),g+=4)}return n&&(console.log("num probes: "+g),console.log("best distance: "+y.d)),y.p}function b(t,e){return e.max-t.max}function w(t,e,n,r){this.p=new st.Point(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,st.distToSegmentSquared(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];0<t;){var i=t-1>>1,o=e[i];if(0<=n(r,o))break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(s=e[o=a]),0<=n(s,i))break;e[t]=s,t=o}e[t]=i}},x.default=t;var e=st.createCommonjsModule(function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(n=3&t.length,r=t.length-n,i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}}),o=st.createCommonjsModule(function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;4<=r;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}}),mt=e,a=e,s=o;function T(t,e,n,r,i,o){t.createArrays();var a=512*t.overscaling;t.tilePixelRatio=st.EXTENT/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.functionType){var c=t.textSizeData.zoomRange,p=c.min,h=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new st.EvaluationParameters(p)),l["text-size"].possiblyEvaluate(new st.EvaluationParameters(h))]}if("composite"===t.iconSizeData.functionType){var f=t.iconSizeData.zoomRange,d=f.min,m=f.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new st.EvaluationParameters(d)),l["icon-size"].possiblyEvaluate(new st.EvaluationParameters(m))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new st.EvaluationParameters(t.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new st.EvaluationParameters(t.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new st.EvaluationParameters(18));for(var v=24*s.get("text-line-height"),y="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),_=0,x=t.features;_<x.length;_+=1){var b=x[_],w=s.get("text-font").evaluate(b,{}).join(","),A=n,S={},k=b.text;if(k){var E=k instanceof st.Formatted?k.toString():k,C=s.get("text-offset").evaluate(b,{}).map(function(t){return 24*t}),T=24*s.get("text-letter-spacing").evaluate(b,{}),I=st.allowsLetterSpacing(E)?T:0,z=s.get("text-anchor").evaluate(b,{}),M=s.get("text-justify").evaluate(b,{}),P="point"===s.get("symbol-placement")?24*s.get("text-max-width").evaluate(b,{}):0;S.horizontal=st.shapeText(k,e,w,P,v,z,M,I,C,24,st.WritingMode.horizontal),st.allowsVerticalWritingMode(E)&&y&&g&&(S.vertical=st.shapeText(k,e,w,P,v,z,M,I,C,24,st.WritingMode.vertical))}var O=void 0;if(b.icon){var L=r[b.icon];L&&(O=st.shapeIcon(i[b.icon],s.get("icon-offset").evaluate(b,{}),s.get("icon-anchor").evaluate(b,{})),void 0===t.sdfIcons?t.sdfIcons=L.sdf:t.sdfIcons!==L.sdf&&st.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),L.pixelRatio===t.pixelRatio&&0===s.get("icon-rotate").constantOr(1)||(t.iconsNeedLinear=!0))}(S.horizontal||O)&&D(t,b,S,O,A,u)}o&&t.generateCollisionDebugBuffers()}function D(n,r,i,o,a,s){var t=s.layoutTextSize.evaluate(r,{}),e=s.layoutIconSize.evaluate(r,{}),l=s.textMaxSize.evaluate(r,{});void 0===l&&(l=t);function u(t,e){e.x<0||e.x>=st.EXTENT||e.y<0||e.y>=st.EXTENT||function(t,e,n,r,O,i,o,a,s,l,u,c,p,h,f,d,m,v,y,g,_){var x,b,w=t.addToLineVertexArray(e,n),A=0,S=0,k=0,E=mt(r.horizontal?r.horizontal.text:""),C=[];if(r.horizontal){var T=i.layout.get("text-rotate").evaluate(y,{});x=new ft(o,n,e,a,s,l,r.horizontal,u,c,p,t.overscaling,T),S+=yt(t,e,r.horizontal,i,p,y,h,w,r.vertical?st.WritingMode.horizontal:st.WritingMode.horizontalOnly,C,g,_),r.vertical&&(k+=yt(t,e,r.vertical,i,p,y,h,w,st.WritingMode.vertical,C,g,_))}var I=x?x.boxStartIndex:t.collisionBoxArray.length,z=x?x.boxEndIndex:t.collisionBoxArray.length;if(O){var M=function(t,e,n){var r,i,o,a,s=O.image,l=t.layout,u=O.top-1/s.pixelRatio,c=O.left-1/s.pixelRatio,p=O.bottom+1/s.pixelRatio,h=O.right+1/s.pixelRatio;if("none"!==l.get("icon-text-fit")&&e){var f=h-c,d=p-u,m=l.get("text-size").evaluate(n,{})/24,v=e.left*m,y=e.right*m,g=e.top*m,_=y-v,x=e.bottom*m-g,b=l.get("icon-text-fit-padding")[0],w=l.get("icon-text-fit-padding")[1],A=l.get("icon-text-fit-padding")[2],S=l.get("icon-text-fit-padding")[3],k="width"===l.get("icon-text-fit")?.5*(x-d):0,E="height"===l.get("icon-text-fit")?.5*(_-f):0,C="width"===l.get("icon-text-fit")||"both"===l.get("icon-text-fit")?_:f,T="height"===l.get("icon-text-fit")||"both"===l.get("icon-text-fit")?x:d;r=new st.Point(v+E-S,g+k-b),i=new st.Point(v+E+w+C,g+k-b),o=new st.Point(v+E+w+C,g+k+A+T),a=new st.Point(v+E-S,g+k+A+T)}else r=new st.Point(c,u),i=new st.Point(h,u),o=new st.Point(h,p),a=new st.Point(c,p);var I=t.layout.get("icon-rotate").evaluate(n,{})*Math.PI/180;if(I){var z=Math.sin(I),M=Math.cos(I),P=[M,-z,z,M];r._matMult(P),i._matMult(P),a._matMult(P),o._matMult(P)}return[{tl:r,tr:i,bl:a,br:o,tex:s.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(i,r.horizontal,y),P=i.layout.get("icon-rotate").evaluate(y,{});b=new ft(o,n,e,a,s,l,O,f,d,!1,t.overscaling,P),A=4*M.length;var L=t.iconSizeData,D=null;"source"===L.functionType?(D=[st.SIZE_PACK_FACTOR*i.layout.get("icon-size").evaluate(y,{})])[0]>vt&&st.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===L.functionType&&((D=[st.SIZE_PACK_FACTOR*_.compositeIconSizes[0].evaluate(y,{}),st.SIZE_PACK_FACTOR*_.compositeIconSizes[1].evaluate(y,{})])[0]>vt||D[1]>vt)&&st.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,M,D,v,m,y,!1,e,w.lineStartIndex,w.lineLength)}var R=b?b.boxStartIndex:t.collisionBoxArray.length,B=b?b.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=st.SymbolBucket.MAX_GLYPHS&&st.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(e.x,e.y,0<C.length?C[0]:-1,1<C.length?C[1]:-1,E,I,z,R,B,a,S,k,A,0)}(n,e,t,i,o,n.layers[0],n.collisionBoxArray,r.index,r.sourceLayerIndex,n.index,C,M,L,S,I,P,D,k,r,a,s)}var c,p,h,f,d,m,v,y,g,_,x,b,w,A=n.layers[0].layout,S=A.get("text-offset").evaluate(r,{}),k=A.get("icon-offset").evaluate(r,{}),E=t/24,C=n.tilePixelRatio*E,T=n.tilePixelRatio*l/24,I=n.tilePixelRatio*e,z=n.tilePixelRatio*A.get("symbol-spacing"),M=A.get("text-padding")*n.tilePixelRatio,P=A.get("icon-padding")*n.tilePixelRatio,O=A.get("text-max-angle")/180*Math.PI,L="map"===A.get("text-rotation-alignment")&&"point"!==A.get("symbol-placement"),D="map"===A.get("icon-rotation-alignment")&&"point"!==A.get("symbol-placement"),R=A.get("symbol-placement"),B=z/2;if("line"===R)for(var F=0,N=function(t,e,n){for(var r=[],i=0;i<t.length;i++)for(var o=t[i],a=void 0,s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];l.x<0&&u.x<0||(l.x<0?l=new st.Point(0,l.y+(u.y-l.y)*((0-l.x)/(u.x-l.x)))._round():u.x<0&&(u=new st.Point(0,l.y+(u.y-l.y)*((0-l.x)/(u.x-l.x)))._round()),l.y<0&&u.y<0||(l.y<0?l=new st.Point(l.x+(u.x-l.x)*((0-l.y)/(u.y-l.y)),0)._round():u.y<0&&(u=new st.Point(l.x+(u.x-l.x)*((0-l.y)/(u.y-l.y)),0)._round()),l.x>=e&&u.x>=e||(l.x>=e?l=new st.Point(e,l.y+(u.y-l.y)*((e-l.x)/(u.x-l.x)))._round():u.x>=e&&(u=new st.Point(e,l.y+(u.y-l.y)*((e-l.x)/(u.x-l.x)))._round()),l.y>=n&&u.y>=n||(l.y>=n?l=new st.Point(l.x+(u.x-l.x)*((n-l.y)/(u.y-l.y)),n)._round():u.y>=n&&(u=new st.Point(l.x+(u.x-l.x)*((n-l.y)/(u.y-l.y)),n)._round()),a&&l.equals(a[a.length-1])||(a=[l],r.push(a)),a.push(u)))))}return r}(r.geometry,st.EXTENT,st.EXTENT);F<N.length;F+=1)for(var V=N[F],j=0,$=(c=V,p=z,h=O,f=i.vertical||i.horizontal,d=o,m=24,v=T,y=n.overscaling,g=st.EXTENT,0,_=ct(f,m,v),x=pt(f,d),b=x*v,w=0===c[0].x||c[0].x===g||0===c[0].y||c[0].y===g,p-b<p/4&&(p=b+p/4),function t(e,n,r,i,o,a,s,l,u){for(var c=a/2,p=ut(e),h=0,f=n-r,d=[],m=0;m<e.length-1;m++){for(var v=e[m],y=e[m+1],g=v.dist(y),_=y.angleTo(v);f+r<h+g;){var x=((f+=r)-h)/g,b=st.number(v.x,y.x,x),w=st.number(v.y,y.y,x);if(0<=b&&b<u&&0<=w&&w<u&&0<=f-c&&f+c<=p){var A=new st.Anchor(b,w,_,m);A._round(),i&&!lt(e,A,a,i,o)||d.push(A)}}h+=g}return l||d.length||s||(d=t(e,h/2,r,i,o,a,s,!0,u)),d}(c,w?p/2*y%p:(x/2+2*m)*v*y%p,p,_,h,b,w,!1,g));j<$.length;j+=1){var U=$[j],q=i.horizontal;q&&gt(n,q.text,B,U)||u(V,U)}else if("line-center"===R)for(var Z=0,G=r.geometry;Z<G.length;Z+=1){var H=G[Z];if(1<H.length){var W=ht(H,O,i.vertical||i.horizontal,o,24,T);W&&u(H,W)}}else if("Polygon"===r.type)for(var X=0,K=st.classifyRings(r.geometry,0);X<K.length;X+=1){var J=K[X],Y=dt(J,16);u(J[0],new st.Anchor(Y.x,Y.y,0))}else if("LineString"===r.type)for(var Q=0,tt=r.geometry;Q<tt.length;Q+=1){var et=tt[Q];u(et,new st.Anchor(et[0].x,et[0].y,0))}else if("Point"===r.type)for(var nt=0,rt=r.geometry;nt<rt.length;nt+=1)for(var it=0,ot=rt[nt];it<ot.length;it+=1){var at=ot[it];u([at],new st.Anchor(at.x,at.y,0))}}mt.murmur3=a,mt.murmur2=s;var vt=65535;function yt(t,e,n,r,i,o,a,s,l,u,c,p){var h=function(t,e,n,r,i){for(var o=e.layout.get("text-rotate").evaluate(r,{})*Math.PI/180,a=e.layout.get("text-offset").evaluate(r,{}).map(function(t){return 24*t}),s=t.positionedGlyphs,l=[],u=0;u<s.length;u++){var c=s[u],p=i[c.fontStack],h=p&&p[c.glyph];if(h){var f=h.rect;if(f){var d=st.GLYPH_PBF_BORDER+1,m=h.metrics.advance*c.scale/2,v=n?[c.x+m,c.y]:[0,0],y=n?[0,0]:[c.x+m+a[0],c.y+a[1]],g=(h.metrics.left-d)*c.scale-m+y[0],_=(-h.metrics.top-d)*c.scale+y[1],x=g+f.w*c.scale,b=_+f.h*c.scale,w=new st.Point(g,_),A=new st.Point(x,_),S=new st.Point(g,b),k=new st.Point(x,b);if(n&&c.vertical){var E=new st.Point(-m,m),C=-Math.PI/2,T=new st.Point(5,0);w._rotateAround(C,E)._add(T),A._rotateAround(C,E)._add(T),S._rotateAround(C,E)._add(T),k._rotateAround(C,E)._add(T)}if(o){var I=Math.sin(o),z=Math.cos(o),M=[z,-I,I,z];w._matMult(M),A._matMult(M),S._matMult(M),k._matMult(M)}l.push({tl:w,tr:A,bl:S,br:k,tex:f,writingMode:t.writingMode,glyphOffset:v})}}}return l}(n,r,i,o,c),f=t.textSizeData,d=null;return"source"===f.functionType?(d=[st.SIZE_PACK_FACTOR*r.layout.get("text-size").evaluate(o,{})])[0]>vt&&st.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===f.functionType&&((d=[st.SIZE_PACK_FACTOR*p.compositeTextSizes[0].evaluate(o,{}),st.SIZE_PACK_FACTOR*p.compositeTextSizes[1].evaluate(o,{})])[0]>vt||d[1]>vt)&&st.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,h,d,a,i,o,l,e,s.lineStartIndex,s.lineLength),u.push(t.text.placedSymbolArray.length-1),4*h.length}function gt(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;0<=a;a--)if(r.dist(o[a])<n)return 1}else i[e]=[];return i[e].push(r),0}function I(t){var e={},n=[];for(var r in t){var i=t[r],o=e[r]={};for(var a in i){var s=i[+a];if(s&&0!==s.bitmap.width&&0!==s.bitmap.height){var l={x:0,y:0,w:s.bitmap.width+2,h:s.bitmap.height+2};n.push(l),o[a]={rect:l,metrics:s.metrics}}}}var u=st.potpack(n),c=u.w,p=u.h,h=new st.AlphaImage({width:c||1,height:p||1});for(var f in t){var d=t[f];for(var m in d){var v=d[+m];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var y=e[f][m].rect;st.AlphaImage.copy(v.bitmap,h,{x:0,y:0},{x:y.x+1,y:y.y+1},v.bitmap)}}}this.image=h,this.positions=e}st.register("GlyphAtlas",I);function p(t){this.tileID=new st.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming}function z(t,e){for(var n=new st.EvaluationParameters(e),r=0,i=t;r<i.length;r+=1)i[r].recalculate(n)}p.prototype.parse=function(t,e,n,i){var r=this;this.status="parsing",this.data=t,this.collisionBoxArray=new st.CollisionBoxArray;var o=new st.DictionaryCoder(Object.keys(t.layers).sort()),a=new st.FeatureIndex(this.tileID);a.bucketLayerIDs=[];var s,l,u,c,p={},h={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},f=e.familiesBySource[this.source];for(var d in f){var m=t.layers[d];if(m){1===m.version&&st.warnOnce('Vector tile source "'+r.source+'" layer "'+d+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=o.encode(d),y=[],g=0;g<m.length;g++){var _=m.feature(g);y.push({feature:_,index:g,sourceLayerIndex:v})}for(var x=0,b=f[d];x<b.length;x+=1){var w=b[x],A=w[0];A.minzoom&&r.zoom<Math.floor(A.minzoom)||A.maxzoom&&r.zoom>=A.maxzoom||"none"!==A.visibility&&(z(w,r.zoom),(p[A.id]=A.createBucket({index:a.bucketLayerIDs.length,layers:w,zoom:r.zoom,pixelRatio:r.pixelRatio,overscaling:r.overscaling,collisionBoxArray:r.collisionBoxArray,sourceLayerIndex:v,sourceID:r.source})).populate(y,h),a.bucketLayerIDs.push(w.map(function(t){return t.id})))}}}var S=st.mapObject(h.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(S).length?n.send("getGlyphs",{uid:this.uid,stacks:S},function(t,e){s||(s=t,l=e,C.call(r))}):l={};var k=Object.keys(h.iconDependencies);k.length?n.send("getImages",{icons:k},function(t,e){s||(s=t,u=e,C.call(r))}):u={};var E=Object.keys(h.patternDependencies);function C(){if(s)return i(s);if(l&&u&&c){var t=new I(l),e=new st.ImageAtlas(u,c);for(var n in p){var r=p[n];r instanceof st.SymbolBucket?(z(r.layers,this.zoom),T(r,l,t.positions,u,e.iconPositions,this.showCollisionBoxes)):r.hasPattern&&(r instanceof st.LineBucket||r instanceof st.FillBucket||r instanceof st.FillExtrusionBucket)&&(z(r.layers,this.zoom),r.addFeatures(h,e.patternPositions))}this.status="done",i(null,{buckets:st.values(p).filter(function(t){return!t.isEmpty()}),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:e})}}E.length?n.send("getImages",{icons:E},function(t,e){s||(s=t,c=e,C.call(r))}):c={},C.call(this)};function u(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},h.mark(this._marks.start)}var c="undefined"!=typeof performance,h={getEntriesByName:function(t){return!!(c&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(c&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,n){return!!(c&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function(t){return!!(c&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(c&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}};function f(t,n){var e=st.getArrayBuffer(t.request,function(t,e){t?n(t):e&&n(null,{vectorTile:new st.mvt.VectorTile(new st.Protobuf(e.data)),rawData:e.data,cacheControl:e.cacheControl,expires:e.expires})});return function(){e.cancel(),n()}}u.prototype.finish=function(){h.mark(this._marks.end);var t=h.getEntriesByName(this._marks.measure);return 0===t.length&&(h.measure(this._marks.measure,this._marks.start,this._marks.end),t=h.getEntriesByName(this._marks.measure),h.clearMarks(this._marks.start),h.clearMarks(this._marks.end),h.clearMeasures(this._marks.measure)),t},h.Performance=u;function d(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||f,this.loading={},this.loaded={}}d.prototype.loadTile=function(t,a){var s=this,l=t.uid;this.loading||(this.loading={});var u=!!(t&&t.request&&t.request.collectResourceTiming)&&new h.Performance(t.request),c=this.loading[l]=new p(t);c.abort=this.loadVectorData(t,function(t,e){if(delete s.loading[l],t||!e)return a(t);var n=e.rawData,r={};e.expires&&(r.expires=e.expires),e.cacheControl&&(r.cacheControl=e.cacheControl);var i={};if(u){var o=u.finish();o&&(i.resourceTiming=JSON.parse(JSON.stringify(o)))}c.vectorTile=e.vectorTile,c.parse(e.vectorTile,s.layerIndex,s.actor,function(t,e){if(t||!e)return a(t);a(null,st.extend({rawTileData:n.slice(0)},e,r,i))}),s.loaded=s.loaded||{},s.loaded[l]=c})},d.prototype.reloadTile=function(t,r){var e=this.loaded,n=t.uid,i=this;if(e&&e[n]){var o=e[n];o.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,e){var n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,i.actor,n)),r(t,e)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&o.parse(o.vectorTile,this.layerIndex,this.actor,a)}},d.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},d.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};function m(){this.loaded={}}m.prototype.loadTile=function(t,e){var n=t.uid,r=t.encoding,i=t.rawImageData,o=new st.DEMData(n,i,r);this.loaded=this.loaded||{},e(null,this.loaded[n]=o)},m.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var v={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function y(t){var e=0;if(t&&0<t.length){e+=Math.abs(_(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(_(t[n]))}return e}function _(t){var e,n,r,i,o,a,s=0,l=t.length;if(2<l){for(a=0;a<l;a++)o=a===l-2?(r=l-2,i=l-1,0):a===l-1?(r=l-1,i=0,1):(i=(r=a)+1,a+2),e=t[r],n=t[i],s+=(A(t[o][0])-A(e[0]))*Math.sin(A(n[1]));s=s*v.RADIUS*v.RADIUS/2}return s}function A(t){return t*Math.PI/180}var S={geometry:function t(e){var n,r=0;switch(e.type){case"Polygon":return y(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=y(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},ring:_};function k(e,n){return function(t){return e(t,n)}}function E(t,e){e=!!e,t[0]=C(t[0],e);for(var n=1;n<t.length;n++)t[n]=C(t[n],!e);return t}function C(t,e){return n=t,0<=S.ring(n)===e?t:t.reverse();var n}function M(t){this._feature=t,this.extent=st.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}var P=st.mvt.VectorTileFeature.prototype.toGeoJSON;M.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,n=this._feature.geometry;e<n.length;e+=1){var r=n[e];t.push([new st.Point(r[0],r[1])])}return t}for(var i=[],o=0,a=this._feature.geometry;o<a.length;o+=1){for(var s=[],l=0,u=a[o];l<u.length;l+=1){var c=u[l];s.push(new st.Point(c[0],c[1]))}i.push(s)}return i},M.prototype.toGeoJSON=function(t,e,n){return P.call(this,t,e,n)};var O=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=st.EXTENT,this.length=t.length,this._features=t};O.prototype.feature=function(t){return new M(this._features[t])};var L=st.vectorTile.VectorTileFeature,R=B;function B(t,e){this.options=e||{},this.features=t,this.length=t.length}function F(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}B.prototype.feature=function(t){return new F(this.features[t],this.options.extent)},F.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new st.Point$1(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},F.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},F.prototype.toGeoJSON=L.prototype.toGeoJSON;var N=$,V=$,j=R;function $(t){var e=new st.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,U,t.layers[n])}(t,e),e.finish()}function U(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,q,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,X,o[n])}function q(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,Z,t),e.writeVarintField(3,n.type),e.writeMessage(4,W,n)}function Z(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),l=r.length-1,o[s]=l),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!=c&&"boolean"!=c&&"number"!=c&&(u=JSON.stringify(u));var p=c+":"+u,h=a[p];void 0===h&&(i.push(u),h=i.length-1,a[p]=h),e.writeVarint(h)}}function G(t,e){return(e<<3)+(7&t)}function H(t){return t<<1^t>>31}function W(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(G(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&e.writeVarint(G(2,c-1));var h=l[p].x-i,f=l[p].y-o;e.writeVarint(H(h)),e.writeVarint(H(f)),i+=h,o+=f}3===r&&e.writeVarint(7)}}function X(t,e){var n=typeof t;"string"==n?e.writeStringField(1,t):"boolean"==n?e.writeBooleanField(7,t):"number"==n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function K(t,e,n,r){J(t,n,r),J(e,2*n,2*r),J(e,2*n+1,2*r+1)}function J(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Y(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function Q(t,e,n,r,i){return new tt(t,e,n,r,i)}function tt(t,e,n,r,i){e=e||et,n=n||nt,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var o=0;o<t.length;o++)this.ids[o]=o,this.coords[2*o]=e(t[o]),this.coords[2*o+1]=n(t[o]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=Math.floor((i+o)/2);!function t(e,n,r,i,o,a){for(;i<o;){if(600<o-i){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var h=n[2*r+a],f=i,d=o;for(K(e,n,i,r),n[2*o+a]>h&&K(e,n,i,o);f<d;){for(K(e,n,f,d),f++,d--;n[2*f+a]<h;)f++;for(;n[2*d+a]>h;)d--}n[2*i+a]===h?K(e,n,i,d):K(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function et(t){return t[0]}function nt(t){return t[1]}function rt(t){this.options=xt(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function it(t){return{type:"Feature",id:t.id,properties:ot(t),geometry:{type:"Point",coordinates:[360*(t.x-.5),(e=(180-360*t.y)*Math.PI/180,360*Math.atan(Math.exp(e))/Math.PI-90)]}};var e}function ot(t){var e=t.numPoints,n=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return xt(xt({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function at(t){return t/360+.5}function _t(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function xt(t,e){for(var n in e)t[n]=e[n];return t}function bt(t){return t.x}function wt(t){return t.y}function At(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);1<l?(n=i,r=o):0<l&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function St(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)kt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)kt(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)kt(t,e[r][i])}(i),i}function kt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function Et(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)Ct(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)Ct(i[u],s);else if("LineString"===o)Tt(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)s=[],Tt(i[u],s,a,!1),t.push(St(l,"LineString",s,e.properties));return}It(i,s,a,!1)}else if("Polygon"===o)It(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"!==o)throw new Error("Input data is not a valid GeoJSON object.");for(u=0;u<e.geometry.geometries.length;u++)Et(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}for(u=0;u<i.length;u++){var c=[];It(i[u],c,a,!0),s.push(c)}}t.push(St(l,o,s,e.properties))}}function Ct(t,e){e.push(zt(t[0])),e.push(Mt(t[1])),e.push(0)}function Tt(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=zt(t[s][0]),u=Mt(t[s][1]);e.push(l),e.push(u),e.push(0),0<s&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],p=e[r],h=e[r+1],f=n+3;f<r;f+=3){var d=At(e[f],e[f+1],u,c,p,h);if(a<d)o=f,a=d;else if(d===a){var m=Math.abs(f-s);m<l&&(o=f,l=m)}}i<a&&(3<o-n&&t(e,n,o,i),e[o+2]=a,3<r-o&&t(e,o,r,i))}(e,0,c,n),e[2+c]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function It(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];Tt(t[i],o,n,r),e.push(o)}}function zt(t){return t/360+.5}function Mt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function Pt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||r<=o)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],p=c.geometry,h=c.type,f=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(n<=f&&d<r)l.push(c);else if(!(d<n||r<=f)){var m=[];if("Point"===h||"MultiPoint"===h)Ot(p,m,n,r,i);else if("LineString"===h)Lt(p,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)Rt(p,m,n,r,i,!1);else if("Polygon"===h)Rt(p,m,n,r,i,!0);else if("MultiPolygon"===h)for(var v=0;v<p.length;v++){var y=[];Rt(p[v],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(v=0;v<m.length;v++)l.push(St(c.id,h,m[v],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(St(c.id,h,m,c.tags))}}}return l.length?l:null}function Ot(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];n<=a&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function Lt(t,e,n,r,i,o,a){for(var s,l,u=Dt(t),c=0===i?Ft:Nt,p=t.start,h=0;h<t.length-3;h+=3){var f=t[h],d=t[h+1],m=t[h+2],v=t[h+3],y=t[h+4],g=0===i?f:d,_=0===i?v:y,x=!1;a&&(s=Math.sqrt(Math.pow(f-v,2)+Math.pow(d-y,2))),g<n?n<=_&&(l=c(u,f,d,v,y,n),a&&(u.start=p+s*l)):r<=g?_<r&&(l=c(u,f,d,v,y,r),a&&(u.start=p+s*l)):Bt(u,f,d,m),_<n&&n<=g&&(l=c(u,f,d,v,y,n),x=!0),r<_&&g<=r&&(l=c(u,f,d,v,y,r),x=!0),!o&&x&&(a&&(u.end=p+s*l),e.push(u),u=Dt(t)),a&&(p+=s)}var b=t.length-3;f=t[b],d=t[b+1],m=t[b+2],(g=0===i?f:d)>=n&&g<=r&&Bt(u,f,d,m),b=u.length-3,o&&3<=b&&(u[b]!==u[0]||u[b+1]!==u[1])&&Bt(u,u[0],u[1],u[2]),u.length&&e.push(u)}function Dt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Rt(t,e,n,r,i,o){for(var a=0;a<t.length;a++)Lt(t[a],e,n,r,i,o,!1)}function Bt(t,e,n,r){t.push(e),t.push(n),t.push(r)}function Ft(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function Nt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function Vt(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=jt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(jt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(jt(o.geometry[s][u],e));i.push(l)}n.push(St(o.id,a,i,o.tags))}return n}function jt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function $t(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(Ut(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(Ut(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(p)}}return t.transformed=!0,t}function Ut(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function qt(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Zt(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,p=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Zt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Gt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Gt(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Gt(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function Gt(t,e,n,r,i,o){var a=r*r;if(0<r&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(0<n===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Ht(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||24<e.maxZoom)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r,i,o,a,s,l,u=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)Et(n,t.features[r],e,r);else"Feature"===t.type?Et(n,t,e):Et(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=u,o=(i=e).buffer/i.extent,s=Pt(a=r,1,-1-o,o,0,-1,2,i),l=Pt(r,1,1-o,2+o,0,-1,2,i),(s||l)&&(a=Pt(r,1,-o,1+o,0,-1,2,i)||[],s&&(a=Vt(s,1).concat(a)),l&&(a=a.concat(Vt(l,-1)))),(u=a).length&&this.splitTile(u,0,0,0),n&&(u.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Wt(t,e,n){return 32*((1<<t)*n+e)+t}function Xt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new O(r.features),o=N(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}N.fromVectorTileJs=V,N.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new R(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return $({layers:n})},N.GeoJSONWrapper=j,Ht.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!(rt.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!(tt.prototype={range:function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),f=u.pop();if(h-f<=a)for(var d=f;d<=h;d++)s=e[2*d],l=e[2*d+1],n<=s&&s<=i&&r<=l&&l<=o&&c.push(t[d]);else{var m=Math.floor((f+h)/2);s=e[2*m],l=e[2*m+1],n<=s&&s<=i&&r<=l&&l<=o&&c.push(t[m]);var v=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(f),u.push(m-1),u.push(v)),(0===p?s<=i:l<=o)&&(u.push(m+1),u.push(h),u.push(v))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var h=p;h<=c;h++)Y(e[2*h],e[2*h+1],n,r)<=l&&s.push(t[h]);else{var f=Math.floor((p+c)/2),d=e[2*f],m=e[2*f+1];Y(d,m,n,r)<=l&&s.push(t[f]);var v=(u+1)%2;(0===u?n-i<=d:r-i<=m)&&(a.push(p),a.push(f-1),a.push(v)),(0===u?d<=n+i:m<=r+i)&&(a.push(f+1),a.push(c),a.push(v))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}}),reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;for(var r,i,o=[],a=0;a<t.length;a++)t[a].geometry&&o.push({x:at((i=t[r=a].geometry.coordinates)[0]),y:_t(i[1]),zoom:1/0,index:r,parentId:-1});this.trees[this.options.maxZoom+1]=Q(o,bt,wt,this.options.nodeSize,Float32Array),e&&console.timeEnd(n);for(var s=this.options.maxZoom;s>=this.options.minZoom;s--){var l=+Date.now();o=this._cluster(o,s),this.trees[s]=Q(o,bt,wt,this.options.nodeSize,Float32Array),e&&console.log("z%d: %d clusters in %dms",s,o.length,Date.now()-l)}return e&&console.timeEnd("total time"),this},getClusters:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(360<=t[2]-t[0])n=-180,i=180;else if(i<n){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=l.range(at(n),_t(o),at(i),_t(r)),c=[],p=0;p<u.length;p++){var h=l.points[u[p]];c.push(h.numPoints?it(h):this.points[h.index])}return c},getChildren:function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[],u=0;u<s.length;u++){var c=i.points[s[u]];c.parentId===t&&l.push(c.numPoints?it(c):this.points[c.index])}if(0===l.length)throw new Error(r);return l},getLeaves:function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius/o,s=(n-a)/i,l=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,l),r.points,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,l),r.points,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,l),r.points,-1,n,i,u),u.features.length?u:null},getClusterExpansionZoom:function(t){for(var e=t%32-1;e<this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i){for(var o=this.getChildren(e),a=0;a<o.length;a++){var s=o[a].properties;if(s&&s.cluster?i+s.point_count<=r?i+=s.point_count:i=this._appendLeaves(t,s.cluster_id,n,r,i):i<r?i++:t.push(o[a]),t.length===n)break}return i},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]],l={type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?ot(s):this.points[s.index].properties},u=s.numPoints?s.id:this.points[s.index].id;void 0!==u&&(l.id=u),o.features.push(l)}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var o=t[i];if(!(o.zoom<=e)){o.zoom=e;var a=this.trees[e+1],s=a.within(o.x,o.y,r),l=o.numPoints||1,u=o.x*l,c=o.y*l,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,o));for(var h=(i<<5)+(e+1),f=0;f<s.length;f++){var d=a.points[s[f]];if(!(d.zoom<=e)){d.zoom=e;var m=d.numPoints||1;u+=d.x*m,c+=d.y*m,l+=m,d.parentId=h,this.options.reduce&&this._accumulate(p,d)}}1===l?n.push(o):(o.parentId=h,n.push({x:u/l,y:c/l,zoom:1/0,id:h,parentId:-1,numPoints:l,properties:p}))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.index].properties);this.options.reduce(t,n)}}),promoteId:null,generateId:!1,debug:0},Ht.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=Wt(e,n,r),h=this.tiles[p];if(!h&&(1<u&&console.time("creation"),h=this.tiles[p]=qt(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){1<u&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=t,i){if(e===l.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==t.length){1<u&&console.time("clipping");var m,v,y,g,_,x,b=.5*l.buffer/l.extent,w=.5-b,A=.5+b,S=1+b;m=v=y=g=null,_=Pt(t,c,n-b,n+A,0,h.minX,h.maxX,l),x=Pt(t,c,n+w,n+S,0,h.minX,h.maxX,l),t=null,_&&(m=Pt(_,c,r-b,r+A,1,h.minY,h.maxY,l),v=Pt(_,c,r+w,r+S,1,h.minY,h.maxY,l),_=null),x&&(y=Pt(x,c,r-b,r+A,1,h.minY,h.maxY,l),g=Pt(x,c,r+w,r+S,1,h.minY,h.maxY,l),x=null),1<u&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(v||[],e+1,2*n,2*r+1),s.push(y||[],e+1,2*n+1,2*r),s.push(g||[],e+1,2*n+1,2*r+1)}}},Ht.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||24<t)return null;var a=1<<t,s=Wt(t,e=(e%a+a)%a,n);if(this.tiles[s])return $t(this.tiles[s],i);1<o&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,p=n;!l&&0<u;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[Wt(u,c,p)];return l&&l.source?(1<o&&console.log("found parent tile z%d-%d-%d",u,c,p),1<o&&console.time("drilling down"),this.splitTile(l.source,u,c,p,t,e,n),1<o&&console.timeEnd("drilling down"),this.tiles[s]?$t(this.tiles[s],i):null):null};function Kt(t){var n=this;this.self=t,this.actor=new st.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:d,geojson:Yt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(t){if(st.plugin.isLoaded())throw new Error("RTL text plugin already registered.");st.plugin.applyArabicShaping=t.applyArabicShaping,st.plugin.processBidirectionalText=t.processBidirectionalText,st.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}var Jt,Yt=((Jt=d)&&(Qt.__proto__=Jt),((Qt.prototype=Object.create(Jt&&Jt.prototype)).constructor=Qt).prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Qt.prototype._loadData=function(){var i=this;if(this._pendingCallback&&this._pendingLoadDataParams){var o=this._pendingCallback,a=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var s=!!(a&&a.request&&a.request.collectResourceTiming)&&new h.Performance(a.request);this.loadGeoJSON(a,function(t,e){if(t||!e)return o(t);if("object"!=typeof e)return o(new Error("Input data is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(k(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return i=n,"Polygon"===(r=e).type?r.coordinates=E(r.coordinates,i):"MultiPolygon"===r.type&&(r.coordinates=r.coordinates.map(k(E,i))),r;default:return e}var r,i}(e,!0);try{i._geoJSONIndex=a.cluster?new rt(a.superclusterOptions).load(e.features):new Ht(e,a.geojsonVtOptions)}catch(t){return o(t)}i.loaded={};var n={};if(s){var r=s.finish();r&&(n.resourceTiming={},n.resourceTiming[a.source]=JSON.parse(JSON.stringify(r)))}o(null,n)})}},Qt.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},Qt.prototype.reloadTile=function(t,e){var n=this.loaded,r=t.uid;return n&&n[r]?Jt.prototype.reloadTile.call(this,t,e):this.loadTile(t,e)},Qt.prototype.loadGeoJSON=function(t,e){if(t.request)st.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},Qt.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},Qt.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},Qt.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},Qt.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},Qt);function Qt(t,e,n){Jt.call(this,t,e,Xt),n&&(this.loadGeoJSON=n)}return Kt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},Kt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},Kt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},Kt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},Kt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},Kt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},Kt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},Kt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Kt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},Kt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},Kt.prototype.loadRTLTextPlugin=function(t,e,n){try{st.plugin.isLoaded()||(this.self.importScripts(e),n(st.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t.toString())}},Kt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e=e||(this.layerIndexes[t]=new n)},Kt.prototype.getWorkerSource=function(r,t,e){var i=this;if(this.workerSources[r]||(this.workerSources[r]={}),this.workerSources[r][t]||(this.workerSources[r][t]={}),!this.workerSources[r][t][e]){var n={send:function(t,e,n){i.actor.send(t,e,n,r)}};this.workerSources[r][t][e]=new this.workerSourceTypes[t](n,this.getLayerIndex(r))}return this.workerSources[r][t][e]},Kt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new m),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new Kt(self),Kt}),t(0,function(at){var n=at.createCommonjsModule(function(t){function o(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if("Worker"in window&&"Blob"in window&&"URL"in window){var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&(e=t&&t.failIfMajorPerformanceCaveat,void 0===a[e]&&(a[e]=(n=e,r=document.createElement("canvas"),(i=Object.create(o.webGLContextAttributes)).failIfMajorPerformanceCaveat=n,r.probablySupportsContext?r.probablySupportsContext("webgl",i)||r.probablySupportsContext("experimental-webgl",i):r.supportsContext?r.supportsContext("webgl",i)||r.supportsContext("experimental-webgl",i):r.getContext("webgl",i)||r.getContext("experimental-webgl",i))),a[e]));var e,n,r,i}t.exports?t.exports=o:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=o);var a={};o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),y={create:function(t,e,n){var r=at.window.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r},createNS:function(t,e){return at.window.document.createElementNS(t,e)}},r=at.window.document?at.window.document.documentElement.style:null;function t(t){if(!r)return null;for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var e,i=t(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);y.disableDrag=function(){r&&i&&(e=r[i],r[i]="none")},y.enableDrag=function(){r&&i&&(r[i]=e)};var o=t(["transform","WebkitTransform"]),a=!(y.setTransform=function(t,e){t.style[o]=e});try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});at.window.addEventListener("test",s,s),at.window.removeEventListener("test",s,s)}catch(at){a=!1}y.addEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&a?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},y.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&a?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var l=function(t){t.preventDefault(),t.stopPropagation(),at.window.removeEventListener("click",l,!0)};y.suppressClick=function(){at.window.addEventListener("click",l,!0),at.window.setTimeout(function(){at.window.removeEventListener("click",l,!0)},0)},y.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new at.Point(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},y.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i="touchend"===e.type?e.changedTouches:e.touches,o=0;o<i.length;o++)r.push(new at.Point(i[o].clientX-n.left-t.clientLeft,i[o].clientY-n.top-t.clientTop));return r},y.mouseButton=function(t){return void 0!==at.window.InstallTrigger&&2===t.button&&t.ctrlKey&&0<=at.window.navigator.platform.toUpperCase().indexOf("MAC")?0:t.button},y.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return 0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":"https://events.mapbox.com/events/v2"},REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},u="See https://www.mapbox.com/api-documentation/#access-tokens";function c(t,e){var n=v(h.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!h.REQUIRE_ACCESS_TOKEN)return _(t);if(!(e=e||h.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return t.params.push("access_token="+e),_(t)}function p(t){return 0===t.indexOf("mapbox:")}function g(t,e,n,r){var i=v(t);return p(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,c(i,r)):(i.path+=""+e+n,_(i))}function f(t,e,n){if(!e||!p(e))return t;var r=v(t),i=2<=at.browser.devicePixelRatio||512===n?"@2x":"",o=at.browser.supportsWebp?".webp":"$1";return r.path=r.path.replace(d,i+o),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(h.ACCESS_TOKEN||""))}(r.params),_(r)}var d=/(\.(png|jpg)\d*)(?=$)/,m=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function v(t){var e=t.match(m);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function _(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function x(){this.eventData={anonId:null,lastSuccess:null,accessToken:h.ACCESS_TOKEN},this.queue=[],this.pending=!1,this.pendingRequest=null}x.prototype.postTurnstileEvent=function(t){h.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return/(mapbox\.c)(n|om)/i.test(t)})&&this.queueRequest(at.browser.now())},x.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests()},x.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n="mapbox.turnstileEventData:"+(h.ACCESS_TOKEN||""),r=at.storageAvailable("localStorage"),t=!!this.eventData.accessToken&&this.eventData.accessToken!==h.ACCESS_TOKEN;if(t&&(this.eventData.anonId=this.eventData.lastSuccess=null),(!this.eventData.anonId||!this.eventData.lastSuccess)&&r)try{var i=at.window.localStorage.getItem(n);i&&(this.eventData=JSON.parse(i))}catch(e){at.warnOnce("Unable to read from LocalStorage")}at.validateUuid(this.eventData.anonId)||(this.eventData.anonId=at.uuid(),t=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),l=(o-this.eventData.lastSuccess)/864e5;t=t||1<=l||l<-1||a.getDate()!==s.getDate()}if(!t)return this.processRequests();var u=v(h.EVENTS_URL);u.params.push("access_token="+(h.ACCESS_TOKEN||""));var c={url:_(u),headers:{"Content-Type":"text/plain"}},p=JSON.stringify([{event:"appUserTurnstile",created:new Date(o).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.49.0","enabled.telemetry":!1,userId:this.eventData.anonId}]);this.pendingRequest=at.postData(c,p,function(t){if(e.pendingRequest=null,!t){if(e.eventData.lastSuccess=o,e.eventData.accessToken=h.ACCESS_TOKEN,r)try{at.window.localStorage.setItem(n,JSON.stringify(e.eventData))}catch(t){at.warnOnce("Unable to write to LocalStorage")}e.processRequests()}})}};function b(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new at.RGBAImage({width:1,height:1}),this.dirty=!0}var w=new x,A=w.postTurnstileEvent.bind(w);b.prototype.isLoaded=function(){return this.loaded},b.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},b.prototype.getImage=function(t){return this.images[t]},b.prototype.addImage=function(t,e){this.images[t]=e},b.prototype.removeImage=function(t){delete this.images[t],delete this.patterns[t]},b.prototype.listImages=function(){return Object.keys(this.images)},b.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},b.prototype._notify=function(t,e){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=this.images[o];a&&(n[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,n)},b.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},b.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new at.ImagePosition(r,n);return this.patterns[t]={bin:r,position:i},this._updatePatternAtlas(),i},b.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new at.Texture(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)},b.prototype._updatePatternAtlas=function(){var t=[];for(var e in this.patterns)t.push(this.patterns[e].bin);var n=at.potpack(t),r=n.w,i=n.h,o=this.atlasImage;for(var a in o.resize({width:r||1,height:i||1}),this.patterns){var s=this.patterns[a].bin,l=s.x+1,u=s.y+1,c=this.images[a].data,p=c.width,h=c.height;at.RGBAImage.copy(c,o,{x:0,y:0},{x:l,y:u},{width:p,height:h}),at.RGBAImage.copy(c,o,{x:0,y:h-1},{x:l,y:u-1},{width:p,height:1}),at.RGBAImage.copy(c,o,{x:0,y:0},{x:l,y:u+h},{width:p,height:1}),at.RGBAImage.copy(c,o,{x:p-1,y:0},{x:l-1,y:u},{width:1,height:h}),at.RGBAImage.copy(c,o,{x:0,y:0},{x:l+p,y:u},{width:1,height:h})}this.dirty=!0};var S=E,k=1e20;function E(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(0<=navigator.userAgent.indexOf("Gecko/")?1.2:1))}function C(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var l=0;l<n;l++)r[l]=t[l*e+s];for(T(r,i,o,a,n),l=0;l<n;l++)t[l*e+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(T(r,i,o,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(i[s])}}function T(t,e,n,r,i){r[n[0]=0]=-k,r[1]=+k;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+k}for(a=o=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}E.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1==i?0:0==i?k:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1==i?k:0==i?0:Math.pow(Math.max(0,i-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var o=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n};function I(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}}I.prototype.setURL=function(t){this.url=t},I.prototype.getGlyphs=function(t,u){var l=this,e=[];for(var n in t)for(var r=0,i=t[n];r<i.length;r+=1){var o=i[r];e.push({stack:n,id:o})}at.asyncAll(e,function(t,n){var r=t.stack,i=t.id,o=l.entries[r],e=(o=o||(l.entries[r]={glyphs:{},requests:{}})).glyphs[i];if(void 0===e)if(e=l._tinySDF(o,r,i))n(null,{stack:r,id:i,glyph:e});else{var a=Math.floor(i/256);if(65535<256*a)n(new Error("glyphs > 65535 not supported"));else{var s=o.requests[a];s||(s=o.requests[a]=[],I.loadGlyphRange(r,a,l.url,l.requestTransform,function(t,e){if(e)for(var n in e)o.glyphs[+n]=e[+n];for(var r=0,i=s;r<i.length;r+=1)(0,i[r])(t,e);delete o.requests[a]})),s.push(function(t,e){t?n(t):e&&n(null,{stack:r,id:i,glyph:e[i]||null})})}}else n(null,{stack:r,id:i,glyph:e})},function(t,e){if(t)u(t);else if(e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.stack,s=o.id,l=o.glyph;(n[a]||(n[a]={}))[s]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}u(null,n)}})},I.prototype._tinySDF=function(t,e,n){var r=this.localIdeographFontFamily;if(r&&(at.isChar["CJK Unified Ideographs"](n)||at.isChar["Hangul Syllables"](n))){var i=t.tinySDF;if(!i){var o="400";/bold/i.test(e)?o="900":/medium/i.test(e)?o="500":/light/i.test(e)&&(o="200"),i=t.tinySDF=new I.TinySDF(24,3,8,.25,r,o)}return{id:n,bitmap:new at.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},I.loadGlyphRange=function(t,e,n,r,a){var i=256*e,o=255+i,s=r(function(t,e){if(!p(t))return t;var n=v(t);return n.path="/fonts/v1"+n.path,c(n,e)}(n).replace("{fontstack}",t).replace("{range}",i+"-"+o),at.ResourceType.Glyphs);at.getArrayBuffer(s,function(t,e){if(t)a(t);else if(e){for(var n={},r=0,i=at.parseGlyphPBF(e.data);r<i.length;r+=1){var o=i[r];n[o.id]=o}a(null,n)}})},I.TinySDF=S;function z(){this.specification=at.styleSpec.light.position}z.prototype.possiblyEvaluate=function(t,e){return at.sphericalToCartesian(t.expression.evaluate(e))},z.prototype.interpolate=function(t,e,n){return{x:at.number(t.x,e.x,n),y:at.number(t.y,e.y,n),z:at.number(t.z,e.z,n)}};function M(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}var P,O=new at.Properties({anchor:new at.DataConstantProperty(at.styleSpec.light.anchor),position:new z,color:new at.DataConstantProperty(at.styleSpec.light.color),intensity:new at.DataConstantProperty(at.styleSpec.light.intensity)}),L=((P=at.Evented)&&(D.__proto__=P),((D.prototype=Object.create(P&&P.prototype)).constructor=D).prototype.getLight=function(){return this._transitionable.serialize()},D.prototype.setLight=function(t){if(!this._validate(at.validateLight,t))for(var e in t){var n=t[e];at.endsWith(e,"-transition")?this._transitionable.setTransition(e.slice(0,-"-transition".length),n):this._transitionable.setValue(e,n)}},D.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},D.prototype.hasTransition=function(){return this._transitioning.hasTransition()},D.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},D.prototype._validate=function(t,e){return at.emitValidationErrors(this,t.call(at.validateStyle,at.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:at.styleSpec})))},D);function D(t){P.call(this),this._transitionable=new at.Transitionable(O),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}M.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},M.prototype.addDash=function(t,e){var n=e?7:0,r=2*n+1;if(this.nextRow+r>this.height)return at.warnOnce("LineAtlas out of space"),null;for(var i=0,o=0;o<t.length;o++)i+=t[o];for(var a=this.width/i,s=a/2,l=t.length%2==1,u=-n;u<=n;u++)for(var c=this.nextRow+n+u,p=this.width*c,h=l?-t[t.length-1]:0,f=t[0],d=1,m=0;m<this.width;m++){for(;f<m/a;)h=f,f+=t[d],l&&d===t.length-1&&(f+=t[0]),d++;var v=Math.abs(m-h*a),y=Math.abs(m-f*a),g=Math.min(v,y),_=d%2==1,x=void 0;if(e){var b=n?u/n*(1+s):0;if(_){var w=s-Math.abs(b);x=Math.sqrt(g*g+w*w)}else x=s-Math.sqrt(g*g+b*b)}else x=(_?1:-1)*g;this.data[3+4*(p+m)]=Math.max(0,Math.min(255,x+128))}var A={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=r,this.dirty=!0,A},M.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};function R(t,e){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=at.uniqueId();for(var n=this.workerPool.acquire(this.id),r=0;r<n.length;r++){var i=n[r],o=new R.Actor(i,e,this.id);o.name="Worker "+r,this.actors.push(o)}}function B(t,e,r){function n(t,e){if(t)return r(t);if(e){var n=at.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(n.vectorLayers=e.vector_layers,n.vectorLayerIds=n.vectorLayers.map(function(t){return t.id})),r(null,n)}}return t.url?at.getJSON(e(function(t,e){if(!p(t))return t;var n=v(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),c(n,e)}(t.url),at.ResourceType.Source),n):at.browser.frame(function(){return n(null,t)})}R.prototype.broadcast=function(n,r,t){t=t||function(){},at.asyncAll(this.actors,function(t,e){t.send(n,r,e)},t)},R.prototype.send=function(t,e,n,r){return"number"==typeof r&&!isNaN(r)||(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},R.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=at.Actor;function F(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}F.prototype.wrap=function(){return new F(at.wrap(this.lng,-180,180),this.lat)},F.prototype.toArray=function(){return[this.lng,this.lat]},F.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},F.prototype.toBounds=function(t){var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new N(new F(this.lng-n,this.lat-e),new F(this.lng+n,this.lat+e))},F.convert=function(t){if(t instanceof F)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new F(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new F(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var N=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};N.prototype.setNorthEast=function(t){return this._ne=t instanceof F?new F(t.lng,t.lat):F.convert(t),this},N.prototype.setSouthWest=function(t){return this._sw=t instanceof F?new F(t.lng,t.lat):F.convert(t),this},N.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof F)n=e=t;else{if(!(t instanceof N))return Array.isArray(t)?t.every(Array.isArray)?this.extend(N.convert(t)):this.extend(F.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new F(e.lng,e.lat),this._ne=new F(n.lng,n.lat)),this},N.prototype.getCenter=function(){return new F((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},N.prototype.getSouthWest=function(){return this._sw},N.prototype.getNorthEast=function(){return this._ne},N.prototype.getNorthWest=function(){return new F(this.getWest(),this.getNorth())},N.prototype.getSouthEast=function(){return new F(this.getEast(),this.getSouth())},N.prototype.getWest=function(){return this._sw.lng},N.prototype.getSouth=function(){return this._sw.lat},N.prototype.getEast=function(){return this._ne.lng},N.prototype.getNorth=function(){return this._ne.lat},N.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},N.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},N.prototype.isEmpty=function(){return!(this._sw&&this._ne)},N.convert=function(t){return!t||t instanceof N?t:new N(t)};function V(t,e,n){this.bounds=N.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24}V.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},V.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),n=Math.floor(this.latY(this.bounds.getNorth(),t.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),i=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<r&&t.y>=n&&t.y<i},V.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},V.prototype.latY=function(t,e){var n=at.clamp(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r};var j,$,U,q,Z,G,H,W=((H=at.Evented)&&(ut.__proto__=H),((ut.prototype=Object.create(H&&H.prototype)).constructor=ut).prototype.load=function(){var n=this;this.fire(new at.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._transformRequest,function(t,e){n._tileJSONRequest=null,t?n.fire(new at.ErrorEvent(t)):e&&(at.extend(n,e),e.bounds&&(n.tileBounds=new V(e.bounds,n.minzoom,n.maxzoom)),A(e.tiles),n.fire(new at.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new at.Event("data",{dataType:"source",sourceDataType:"content"})))})},ut.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},ut.prototype.onAdd=function(t){this.map=t,this.load()},ut.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},ut.prototype.serialize=function(){return at.extend({},this._options)},ut.prototype.loadTile=function(n,r){var t=f(n.tileID.canonical.url(this.tiles,this.scheme),this.url),e={request:this.map._transformRequest(t,at.ResourceType.Tile),uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:at.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(t,e){return n.aborted?r(null):t&&404!==t.status?r(t):(e&&e.resourceTiming&&(n.resourceTiming=e.resourceTiming),this.map._refreshExpiredTiles&&e&&n.setExpiryData(e),n.loadVectorData(e,this.map.painter),r(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}e.request.collectResourceTiming=this._collectResourceTiming,void 0===n.workerID||"expired"===n.state?n.workerID=this.dispatcher.send("loadTile",e,i.bind(this)):"loading"===n.state?n.reloadCallback=r:this.dispatcher.send("reloadTile",e,i.bind(this),n.workerID)},ut.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},ut.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},ut.prototype.hasTransition=function(){return!1},ut),X=((G=at.Evented)&&(lt.__proto__=G),((lt.prototype=Object.create(G&&G.prototype)).constructor=lt).prototype.load=function(){var n=this;this.fire(new at.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._transformRequest,function(t,e){n._tileJSONRequest=null,t?n.fire(new at.ErrorEvent(t)):e&&(at.extend(n,e),e.bounds&&(n.tileBounds=new V(e.bounds,n.minzoom,n.maxzoom)),A(e.tiles),n.fire(new at.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new at.Event("data",{dataType:"source",sourceDataType:"content"})))})},lt.prototype.onAdd=function(t){this.map=t,this.load()},lt.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},lt.prototype.serialize=function(){return at.extend({},this._options)},lt.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},lt.prototype.loadTile=function(i,o){var a=this,t=f(i.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);i.request=at.getImage(this.map._transformRequest(t,at.ResourceType.Tile),function(t,e){if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(t)i.state="errored",o(t);else if(e){a.map._refreshExpiredTiles&&i.setExpiryData(e),delete e.cacheControl,delete e.expires;var n=a.map.painter.context,r=n.gl;i.texture=a.map.painter.getTileTexture(e.width),i.texture?i.texture.update(e,{useMipmap:!0}):(i.texture=new at.Texture(n,e,r.RGBA,{useMipmap:!0}),i.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),i.state="loaded",o(null)}})},lt.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},lt.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},lt.prototype.hasTransition=function(){return!1},lt),K=((Z=X)&&(st.__proto__=Z),((st.prototype=Object.create(Z&&Z.prototype)).constructor=st).prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},st.prototype.loadTile=function(i,o){var t=f(i.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);i.request=at.getImage(this.map._transformRequest(t,at.ResourceType.Tile),function(t,e){if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(t)i.state="errored",o(t);else if(e){this.map._refreshExpiredTiles&&i.setExpiryData(e),delete e.cacheControl,delete e.expires;var n=at.browser.getImageData(e),r={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:n,encoding:this.encoding};i.workerID&&"expired"!==i.state||(i.workerID=this.dispatcher.send("loadDEMTile",r,function(t,e){t&&(i.state="errored",o(t)),e&&(i.dem=e,i.needsHillshadePrepare=!0,i.state="loaded",o(null))}.bind(this)))}}.bind(this)),i.neighboringTiles=this._getNeighboringTiles(i.tileID)},st.prototype._getNeighboringTiles=function(t){var e=t.canonical,n=Math.pow(2,e.z),r=(e.x-1+n)%n,i=0===e.x?t.wrap-1:t.wrap,o=(e.x+1+n)%n,a=e.x+1===n?t.wrap+1:t.wrap,s={};return s[new at.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y).key]={backfilled:!1},s[new at.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y).key]={backfilled:!1},0<e.y&&(s[new at.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y-1).key]={backfilled:!1},s[new at.OverscaledTileID(t.overscaledZ,t.wrap,e.z,e.x,e.y-1).key]={backfilled:!1},s[new at.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y-1).key]={backfilled:!1}),e.y+1<n&&(s[new at.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y+1).key]={backfilled:!1},s[new at.OverscaledTileID(t.overscaledZ,t.wrap,e.z,e.x,e.y+1).key]={backfilled:!1},s[new at.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y+1).key]={backfilled:!1}),s},st.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},st),J=((q=at.Evented)&&(ot.__proto__=q),((ot.prototype=Object.create(q&&q.prototype)).constructor=ot).prototype.load=function(){var n=this;this.fire(new at.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)n.fire(new at.ErrorEvent(t));else{var e={dataType:"source",sourceDataType:"metadata"};n._collectResourceTiming&&n._resourceTiming&&0<n._resourceTiming.length&&(e.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new at.Event("data",e))}})},ot.prototype.onAdd=function(t){this.map=t,this.load()},ot.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new at.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)n.fire(new at.ErrorEvent(t));else{var e={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&0<n._resourceTiming.length&&(e.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new at.Event("data",e))}}),this},ot.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},ot.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},ot.prototype.getClusterLeaves=function(t,e,n,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r,this.workerID),this},ot.prototype._updateWorkerData=function(n){var r=this,i=at.extend({},this.workerOptions),t=this._data;"string"==typeof t?(i.request=this.map._transformRequest(at.browser.resolveURL(t),at.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(t),this.workerID=this.dispatcher.send(this.type+".loadData",i,function(t,e){r._removed||e&&e.abandoned||(r._loaded=!0,e&&e.resourceTiming&&e.resourceTiming[r.id]&&(r._resourceTiming=e.resourceTiming[r.id].slice(0)),r.dispatcher.send(r.type+".coalesce",{source:i.source},null,r.workerID),n(t))},this.workerID)},ot.prototype.loadTile=function(n,r){var i=this,o=void 0===n.workerID?"loadTile":"reloadTile",t={type:this.type,uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:at.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};n.workerID=this.dispatcher.send(o,t,function(t,e){return n.unloadVectorData(),n.aborted?r(null):t?r(t):(n.loadVectorData(e,i.map.painter,"reloadTile"==o),r(null))},this.workerID)},ot.prototype.abortTile=function(t){t.aborted=!0},ot.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},ot.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},ot.prototype.serialize=function(){return at.extend({},this._options,{type:this.type,data:this._data})},ot.prototype.hasTransition=function(){return!1},ot),Y=((U=at.Evented)&&(it.__proto__=U),((it.prototype=Object.create(U&&U.prototype)).constructor=it).prototype.load=function(){var n=this;this.fire(new at.Event("dataloading",{dataType:"source"})),this.url=this.options.url,at.getImage(this.map._transformRequest(this.url,at.ResourceType.Image),function(t,e){t?n.fire(new at.ErrorEvent(t)):e&&(n.image=at.browser.getImageData(e),n._finishLoading())})},it.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new at.Event("data",{dataType:"source",sourceDataType:"metadata"})))},it.prototype.onAdd=function(t){this.map=t,this.load()},it.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(F.convert(t)).zoomTo(0)}),r=this.centerCoord=at.getCoordinatesCenter(n);r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.tileID=new at.CanonicalTileID(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom;var i=n.map(function(t){var e=t.zoomTo(r.zoom);return new at.Point(Math.round((e.column-r.column)*at.EXTENT),Math.round((e.row-r.row)*at.EXTENT))});return this._boundsArray=new at.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,at.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,at.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,at.EXTENT,at.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new at.Event("data",{dataType:"source",sourceDataType:"content"})),this},it.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,at.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=at.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new at.Texture(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},it.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t).buckets={}:t.state="errored",e(null)},it.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},it.prototype.hasTransition=function(){return!1},it),Q=(($=Y)&&(rt.__proto__=$),((rt.prototype=Object.create($&&$.prototype)).constructor=rt).prototype.load=function(){var n=this,t=this.options;this.urls=[];for(var e=0,r=t.urls;e<r.length;e+=1){var i=r[e];n.urls.push(n.map._transformRequest(i,at.ResourceType.Source).url)}at.getVideo(this.urls,function(t,e){t?n.fire(new at.ErrorEvent(t)):e&&(n.video=e,n.video.loop=!0,n.video.addEventListener("playing",function(){n.map._rerender()}),n.map&&n.video.play(),n._finishLoading())})},rt.prototype.getVideo=function(){return this.video},rt.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},rt.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,at.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=at.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new at.Texture(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},rt.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},rt.prototype.hasTransition=function(){return this.video&&!this.video.paused},rt),tt=((j=Y)&&(nt.__proto__=j),((nt.prototype=Object.create(j&&j.prototype)).constructor=nt).prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof at.window.HTMLCanvasElement?this.options.canvas:at.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new at.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},nt.prototype.getCanvas=function(){return this.canvas},nt.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},nt.prototype.onRemove=function(){this.pause()},nt.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,at.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=at.SegmentVector.simpleSegment(0,0,4,2)),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.canvas)):(this.texture=new at.Texture(e,this.canvas,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},nt.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},nt.prototype.hasTransition=function(){return this._playing},nt.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},nt),et={vector:W,raster:X,"raster-dem":K,geojson:J,video:Q,image:Y,canvas:tt};function nt(t,e,n,r){j.call(this,t,e,n,r),e.coordinates?Array.isArray(e.coordinates)&&4===e.coordinates.length&&!e.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new at.ErrorEvent(new at.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new at.ErrorEvent(new at.ValidationError("sources."+t,null,'missing required property "coordinates"'))),e.animate&&"boolean"!=typeof e.animate&&this.fire(new at.ErrorEvent(new at.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),e.canvas?"string"==typeof e.canvas||e.canvas instanceof at.window.HTMLCanvasElement||this.fire(new at.ErrorEvent(new at.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new at.ErrorEvent(new at.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=e,this.animate=void 0===e.animate||e.animate}function rt(t,e,n,r){$.call(this,t,e,n,r),this.roundZoom=!0,this.type="video",this.options=e}function it(t,e,n,r){U.call(this),this.id=t,this.dispatcher=n,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=e}function ot(t,e,n,r){q.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=n,this.setEventedParent(r),this._data=e.data,this._options=at.extend({},e),this._collectResourceTiming=e.collectResourceTiming,this._resourceTiming=[],void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type),e.attribution&&(this.attribution=e.attribution);var i=at.EXTENT/this.tileSize;this.workerOptions=at.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*i,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*i,extent:at.EXTENT,maxZoom:this.maxzoom,lineMetrics:e.lineMetrics||!1,generateId:e.generateId||!1},superclusterOptions:{maxZoom:void 0!==e.clusterMaxZoom?Math.min(e.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:at.EXTENT,radius:(e.clusterRadius||50)*i,log:!1}},e.workerOptions)}function st(t,e,n,r){Z.call(this,t,e,n,r),this.type="raster-dem",this.maxzoom=22,this._options=at.extend({},e),this.encoding=e.encoding||"mapbox"}function lt(t,e,n,r){G.call(this),this.id=t,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=at.extend({},e),at.extend(this,at.pick(e,["url","scheme","tileSize"]))}function ut(t,e,n,r){if(H.call(this),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,at.extend(this,at.pick(e,["url","scheme","tileSize"])),this._options=at.extend({type:"vector"},e),this._collectResourceTiming=e.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}function ct(n,t,e,r,i){var o=i.maxPitchScaleFactor(),a=n.tilesIn(e,o);a.sort(pt);for(var m=[],s=0,l=a;s<l.length;s+=1){var u=l[s];m.push({wrappedTileID:u.tileID.wrapped().key,queryResults:u.tile.queryRenderedFeatures(t,n._state,u.queryGeometry,u.scale,r,i,o,n.transform.calculatePosMatrix(u.tileID.toUnwrapped()))})}var c=function(){for(var t={},e={},n=0,r=m;n<r.length;n+=1){var i=r[n],o=i.queryResults,a=i.wrappedTileID,s=e[a]=e[a]||{};for(var l in o)for(var u=o[l],c=s[l]=s[l]||{},p=t[l]=t[l]||[],h=0,f=u;h<f.length;h+=1){var d=f[h];c[d.featureIndex]||(c[d.featureIndex]=!0,p.push(d.feature))}}return t}();for(var p in c)c[p].forEach(function(t){var e=n.getFeatureState(t.layer["source-layer"],t.id);t.source=t.layer.source,t.layer["source-layer"]&&(t.sourceLayer=t.layer["source-layer"]),t.state=e});return c}function pt(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function ht(t,e){this.max=t,this.onRemove=e,this.reset()}ht.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},ht.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout(function(){r.remove(t,o)},n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},ht.prototype.has=function(t){return t.wrapped().key in this.data},ht.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},ht.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},ht.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},ht.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},ht.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};function ft(t,e,n){var r=(this.context=t).gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}ft.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},ft.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ft.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},ft.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};function dt(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r;var i=(this.context=t).gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer}var mt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};dt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},dt.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},dt.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.attributes[r.name];void 0!==i&&t.enableVertexAttribArray(i)}},dt.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[mt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},dt.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};function vt(t){this.context=t,this.current=at.Color.transparent}vt.prototype.get=function(){return this.current},vt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};function yt(t){this.context=t,this.current=1}yt.prototype.get=function(){return this.current},yt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};function gt(t){this.context=t,this.current=0}gt.prototype.get=function(){return this.current},gt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};function _t(t){this.context=t,this.current=[!0,!0,!0,!0]}_t.prototype.get=function(){return this.current},_t.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};function xt(t){this.context=t,this.current=!0}xt.prototype.get=function(){return this.current},xt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};function bt(t){this.context=t,this.current=255}bt.prototype.get=function(){return this.current},bt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};function wt(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}}wt.prototype.get=function(){return this.current},wt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};function At(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]}At.prototype.get=function(){return this.current},At.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};function St(t){this.context=t,this.current=!1}St.prototype.get=function(){return this.current},St.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};function kt(t){this.context=t,this.current=[0,1]}kt.prototype.get=function(){return this.current},kt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};function Et(t){this.context=t,this.current=!1}Et.prototype.get=function(){return this.current},Et.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};function Ct(t){this.context=t,this.current=t.gl.LESS}Ct.prototype.get=function(){return this.current},Ct.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};function Tt(t){this.context=t,this.current=!1}Tt.prototype.get=function(){return this.current},Tt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};function It(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]}It.prototype.get=function(){return this.current},It.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};function zt(t){this.context=t,this.current=at.Color.transparent}zt.prototype.get=function(){return this.current},zt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};function Mt(t){this.context=t,this.current=null}Mt.prototype.get=function(){return this.current},Mt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};function Pt(t){this.context=t,this.current=t.gl.TEXTURE0}Pt.prototype.get=function(){return this.current},Pt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};function Ot(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};function Lt(t){this.context=t,this.current=null}Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};function Dt(t){this.context=t,this.current=null}Dt.prototype.get=function(){return this.current},Dt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};function Rt(t){this.context=t,this.current=null}Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};function Bt(t){this.context=t,this.current=null}Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};function Ft(t){this.context=t,this.current=null}Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};function Nt(t){this.context=t,this.current=null}Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};function Vt(t){this.context=t,this.current=4}Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};function jt(t){this.context=t,this.current=!1}jt.prototype.get=function(){return this.current},jt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};function $t(t,e){this.context=t,this.current=null,this.parent=e}$t.prototype.get=function(){return this.current};function Ut(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,i=this.framebuffer=r.createFramebuffer();this.colorAttachment=new Gt(t,i),this.depthAttachment=new Ht(t,i)}var qt,Zt,Gt=((Zt=$t)&&(Xt.__proto__=Zt),((Xt.prototype=Object.create(Zt&&Zt.prototype)).constructor=Xt).prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},Xt.prototype.setDirty=function(){this.dirty=!0},Xt),Ht=((qt=$t)&&(Wt.__proto__=qt),((Wt.prototype=Object.create(qt&&qt.prototype)).constructor=Wt).prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},Wt);function Wt(){qt.apply(this,arguments)}function Xt(t,e){Zt.call(this,t,e),this.dirty=!1}Ut.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var Kt=function(t,e,n){this.func=t,this.mask=e,this.range=n};Kt.ReadOnly=!1,Kt.ReadWrite=!0,Kt.disabled=new Kt(519,Kt.ReadOnly,[0,1]);var Jt=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Jt.disabled=new Jt({func:519,mask:0},0,0,7680,7680,7680);function Yt(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n}Yt.disabled=new Yt(Yt.Replace=[1,0],at.Color.transparent,[!1,!1,!1,!1]),Yt.unblended=new Yt(Yt.Replace,at.Color.transparent,[!0,!0,!0,!0]),Yt.alphaBlended=new Yt([1,771],at.Color.transparent,[!0,!0,!0,!0]);function Qt(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new vt(this),this.clearDepth=new yt(this),this.clearStencil=new gt(this),this.colorMask=new _t(this),this.depthMask=new xt(this),this.stencilMask=new bt(this),this.stencilFunc=new wt(this),this.stencilOp=new At(this),this.stencilTest=new St(this),this.depthRange=new kt(this),this.depthTest=new Et(this),this.depthFunc=new Ct(this),this.blend=new Tt(this),this.blendFunc=new It(this),this.blendColor=new zt(this),this.program=new Mt(this),this.activeTexture=new Pt(this),this.viewport=new Ot(this),this.bindFramebuffer=new Lt(this),this.bindRenderbuffer=new Dt(this),this.bindTexture=new Rt(this),this.bindVertexBuffer=new Bt(this),this.bindElementBuffer=new Ft(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Nt(this),this.pixelStoreUnpack=new Vt(this),this.pixelStoreUnpackPremultiplyAlpha=new jt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")}Qt.prototype.createIndexBuffer=function(t,e){return new ft(this,t,e)},Qt.prototype.createVertexBuffer=function(t,e,n){return new dt(this,t,e,n)},Qt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Qt.prototype.createFramebuffer=function(t,e){return new Ut(this,t,e)},Qt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Qt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Qt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Qt.prototype.setColorMode=function(t){at.deepEqual(t.blendFunction,Yt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)};var te,ee=((te=at.Evented)&&(ne.__proto__=te),((ne.prototype=Object.create(te&&te.prototype)).constructor=ne).prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},ne.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},ne.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},ne.prototype.getSource=function(){return this._source},ne.prototype.pause=function(){this._paused=!0},ne.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},ne.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},ne.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},ne.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},ne.prototype.serialize=function(){return this._source.serialize()},ne.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t)},ne.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(ie)},ne.prototype.getRenderableIds=function(t){var a=this,e=[];for(var n in a._tiles)a._isIdRenderable(+n,t)&&e.push(+n);return t?e.sort(function(t,e){var n=a._tiles[t].tileID,r=a._tiles[e].tileID,i=new at.Point(n.canonical.x,n.canonical.y)._rotate(a.transform.angle),o=new at.Point(r.canonical.x,r.canonical.y)._rotate(a.transform.angle);return n.overscaledZ-r.overscaledZ||o.y-i.y||o.x-i.x}):e.sort(ie)},ne.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},ne.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},ne.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},ne.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},ne.prototype._tileLoaded=function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new at.ErrorEvent(r,{tile:t})):this.update(this.transform));t.timeAdded=at.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new at.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},ne.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0==r||1<Math.abs(r)||(1<Math.abs(n)&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},ne.prototype.getTile=function(t){return this.getTileByID(t.key)},ne.prototype.getTileByID=function(t){return this._tiles[t]},ne.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},ne.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},ne.prototype.findLoadedParent=function(t,e){for(var n=t.overscaledZ-1;e<=n;n--){var r=t.scaledTo(n);if(!r)return;var i=String(r.key),o=this._tiles[i];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},ne.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},ne.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var r={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},ne.prototype.update=function(t){var e=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new at.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(t){return e._source.hasTile(t)}))):n=[];var r=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),i=Math.max(r-ne.maxOverzooming,this._source.minzoom),o=Math.max(r+ne.maxUnderzooming,this._source.minzoom),a=this._updateRetainedTiles(n,r);if(oe(this._source.type)){for(var s={},l={},u=0,c=Object.keys(a);u<c.length;u+=1){var p=c[u],h=a[p],f=e._tiles[p];if(f&&!(f.fadeEndTime&&f.fadeEndTime<=at.browser.now())){var d=e.findLoadedParent(h,i);d&&(e._addTile(d.tileID),s[d.tileID.key]=d.tileID),l[p]=h}}for(var m in this._retainLoadedChildren(l,r,o,a),s)a[m]||(e._coveredTiles[m]=!0,a[m]=s[m])}for(var v in a)e._tiles[v].clearFadeHold();for(var y=0,g=at.keysDifference(this._tiles,a);y<g.length;y+=1){var _=g[y],x=e._tiles[_];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(e.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||e._removeTile(_)}}},ne.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},ne.prototype._updateRetainedTiles=function(t,e){for(var n={},r={},i=Math.max(e-ne.maxOverzooming,this._source.minzoom),o=Math.max(e+ne.maxUnderzooming,this._source.minzoom),a={},s=0,l=t;s<l.length;s+=1){var u=l[s],c=this._addTile(u);n[u.key]=u,c.hasData()||e<this._source.maxzoom&&(a[u.key]=u)}this._retainLoadedChildren(a,e,o,n);for(var p=0,h=t;p<h.length;p+=1){var f=h[p],d=this._tiles[f.key];if(!d.hasData()){if(e+1>this._source.maxzoom){var m=f.children(this._source.maxzoom)[0],v=this.getTile(m);if(v&&v.hasData()){n[m.key]=m;continue}}else{var y=f.children(this._source.maxzoom);if(n[y[0].key]&&n[y[1].key]&&n[y[2].key]&&n[y[3].key])continue}for(var g=d.wasRequested(),_=f.overscaledZ-1;i<=_;--_){var x=f.scaledTo(_);if(r[x.key])break;if(r[x.key]=!0,!(d=this.getTile(x))&&g&&(d=this._addTile(x)),d&&(n[x.key]=x,g=d.wasRequested(),d.hasData()))break}}}return n},ne.prototype._addTile=function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));var n=Boolean(e);return n||(e=new at.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire(new at.Event("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null},ne.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},ne.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),0<e.uses||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},ne.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},ne.prototype.tilesIn=function(t,e){for(var n=[],r=this.getIds(),i=1/0,o=1/0,a=-1/0,s=-1/0,l=t[0].zoom,u=0;u<t.length;u++){var c=t[u];i=Math.min(i,c.column),o=Math.min(o,c.row),a=Math.max(a,c.column),s=Math.max(s,c.row)}for(var p=0;p<r.length;p++){var h=this._tiles[r[p]];if(!h.holdingForFade()){var f=h.tileID,d=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),m=e*h.queryPadding*at.EXTENT/h.tileSize/d,v=[re(f,new at.Coordinate(i,o,l)),re(f,new at.Coordinate(a,s,l))];if(v[0].x-m<at.EXTENT&&v[0].y-m<at.EXTENT&&0<=v[1].x+m&&0<=v[1].y+m){for(var y=[],g=0;g<t.length;g++)y.push(re(f,t[g]));n.push({tile:h,tileID:f,queryGeometry:[y],scale:d})}}}return n},ne.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=e.transform.calculatePosMatrix(o.toUnwrapped())}return n},ne.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(oe(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=at.browser.now())return!0}return!1},ne.prototype.setFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.updateState(t,e,n)},ne.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},ne);function ne(t,e,n){var r=this;te.call(this),this.id=t,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=function(t,e,n,r){var i=new et[e.type](t,e,n,r);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return at.bindAll(["load","abort","unload","serialize","prepare"],i),i}(t,e,n,this),this._tiles={},this._cache=new ht(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new at.SourceFeatureState}function re(t,e){var n=e.zoomTo(t.canonical.z);return new at.Point((n.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*at.EXTENT,(n.row-t.canonical.y)*at.EXTENT)}function ie(t,e){return t%32-e%32||e-t}function oe(t){return"raster"===t||"image"===t||"video"===t}function ae(){return new at.window.Worker(Hr.workerUrl)}ee.maxOverzooming=10,ee.maxUnderzooming=3;function se(){this.active={}}var le;function ue(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return at.refProperties.forEach(function(t){t in e&&(n[t]=e[t])}),n}function ce(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=ue(t[r],e[t[r].ref]));return t}se.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<se.workerCount;)this.workers.push(new ae);return this.active[t]=!0,this.workers.slice()},se.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},se.workerCount=Math.max(Math.floor(at.browser.hardwareConcurrency/2),1);var pe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function he(t,e,n){n.push({command:pe.addSource,args:[t,e[t]]})}function fe(t,e,n){e.push({command:pe.removeSource,args:[t]}),n[t]=!0}function de(t,e,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!at.deepEqual(t[n][r],e[n][r]))return;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!at.deepEqual(t[n][r],e[n][r]))return;return 1}function me(t,e,n,r,i,o){var a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(at.deepEqual(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(at.deepEqual(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function ve(t){return t.id}function ye(t,e){return t[e.id]=e,t}function ge(t,e){if(!t)return[{command:pe.setStyle,args:[e]}];var n=[];try{if(!at.deepEqual(t.version,e.version))return[{command:pe.setStyle,args:[e]}];at.deepEqual(t.center,e.center)||n.push({command:pe.setCenter,args:[e.center]}),at.deepEqual(t.zoom,e.zoom)||n.push({command:pe.setZoom,args:[e.zoom]}),at.deepEqual(t.bearing,e.bearing)||n.push({command:pe.setBearing,args:[e.bearing]}),at.deepEqual(t.pitch,e.pitch)||n.push({command:pe.setPitch,args:[e.pitch]}),at.deepEqual(t.sprite,e.sprite)||n.push({command:pe.setSprite,args:[e.sprite]}),at.deepEqual(t.glyphs,e.glyphs)||n.push({command:pe.setGlyphs,args:[e.glyphs]}),at.deepEqual(t.transition,e.transition)||n.push({command:pe.setTransition,args:[e.transition]}),at.deepEqual(t.light,e.light)||n.push({command:pe.setLight,args:[e.light]});var r={},i=[];!function(t,e,n,r){var i,o,a,s;for(i in e=e||{},t=t||{})t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||fe(i,n,r));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?at.deepEqual(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&de(t,e,i)?n.push({command:pe.setGeoJSONSourceData,args:[i,e[i].data]}):(a=e,fe(o=i,s=n,r),he(o,a,s))):he(i,e,n))}(t.sources,e.sources,i,r);var o=[];t.layers&&t.layers.forEach(function(t){r[t.source]?n.push({command:pe.removeLayer,args:[t.id]}):o.push(t)}),n=n.concat(i),function(t,e,n){e=e||[];var r,i,o,a,s,l,u,c=(t=t||[]).map(ve),p=e.map(ve),h=t.reduce(ye,{}),f=e.reduce(ye,{}),d=c.slice(),m=Object.create(null);for(i=r=0;r<c.length;r++)o=c[r],f.hasOwnProperty(o)?i++:(n.push({command:pe.removeLayer,args:[o]}),d.splice(d.indexOf(o,i),1));for(i=r=0;r<p.length;r++)o=p[p.length-1-r],d[d.length-1-r]!==o&&(h.hasOwnProperty(o)?(n.push({command:pe.removeLayer,args:[o]}),d.splice(d.lastIndexOf(o,d.length-i),1)):i++,l=d[d.length-r],n.push({command:pe.addLayer,args:[f[o],l]}),d.splice(d.length-r,0,o),m[o]=!0);for(r=0;r<p.length;r++)if(a=h[o=p[r]],s=f[o],!m[o]&&!at.deepEqual(a,s))if(at.deepEqual(a.source,s.source)&&at.deepEqual(a["source-layer"],s["source-layer"])&&at.deepEqual(a.type,s.type)){for(u in me(a.layout,s.layout,n,o,null,pe.setLayoutProperty),me(a.paint,s.paint,n,o,null,pe.setPaintProperty),at.deepEqual(a.filter,s.filter)||n.push({command:pe.setFilter,args:[o,s.filter]}),at.deepEqual(a.minzoom,s.minzoom)&&at.deepEqual(a.maxzoom,s.maxzoom)||n.push({command:pe.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?me(a[u],s[u],n,o,u.slice(6),pe.setPaintProperty):at.deepEqual(a[u],s[u])||n.push({command:pe.setLayerProperty,args:[o,u,s[u]]}));for(u in s)s.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?me(a[u],s[u],n,o,u.slice(6),pe.setPaintProperty):at.deepEqual(a[u],s[u])||n.push({command:pe.setLayerProperty,args:[o,u,s[u]]}))}else n.push({command:pe.removeLayer,args:[o]}),l=d[d.lastIndexOf(o)+1],n.push({command:pe.addLayer,args:[s,l]})}(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:pe.setStyle,args:[e]}]}return n}function _e(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0}_e.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},_e.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},_e.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},_e.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},_e.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},_e.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}var h={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,r,this._queryCell,a,h,o),i?0<a.length:a},_e.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[],c={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,l,this._queryCellCircle,u,c,i),r?0<u.length:u},_e.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},_e.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},_e.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},_e.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var f=h[p];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(t<=c[2+d]&&e<=c[3+d]&&n>=c[0+d]&&r>=c[1+d]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[d],y1:c[1+d],x2:c[2+d],y2:c[3+d]})}}}var m=this.circleCells[i];if(null!==m)for(var v=this.circles,y=0,g=m;y<g.length;y+=1){var _=g[y];if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(v[x],v[1+x],v[2+x],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var b=v[x],w=v[1+x],A=v[2+x];o.push({key:this.circleKeys[_],x1:b-A,y1:w-A,x2:b+A,y2:w+A})}}}},_e.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,h=0,f=c;h<f.length;h+=1){var d=f[h];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[0+m],p[1+m],p[2+m],p[3+m])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var v=this.circleCells[i];if(null!==v)for(var y=this.circles,g=0,_=v;g<_.length;g+=1){var x=_[g];if(!u.circle[x]){u.circle[x]=!0;var b=3*x;if(this._circlesCollide(y[b],y[1+b],y[2+b],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return o.push(!0),!0}}},_e.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.xCellCount*f+h;if(i.call(this,t,e,n,r,d,o,a,s))return}},_e.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},_e.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},_e.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return a*a+s*s<l*l},_e.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(s+n<l)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(u+n<c)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=n*n};var xe=at.properties.layout;function be(t,e,n,r,i){var o=at.identity(new Float32Array(16));return e?(at.identity(o),at.scale(o,o,[1/i,1/i,1]),n||at.rotateZ(o,o,r.angle)):(at.scale(o,o,[r.width/2,-r.height/2,1]),at.translate(o,o,[1,-1,0]),at.multiply(o,o,t)),o}function we(t,e){var n=[t.x,t.y,0,1];Me(n,n,e);var r=n[3];return{point:new at.Point(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function Ae(t,e,n,r,i,o,a,s){var l,u,c,p,h=r?t.textSizeData:t.iconSizeData,f=at.evaluateSizeForZoom(h,n.transform.zoom,xe.properties[r?"text-size":"icon-size"]),d=[256/n.width*2+1,256/n.height*2+1],m=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();for(var v=t.lineVertexArray,y=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=n.transform.width/n.transform.height,_=!1,x=0;x<y.length;x++){var b=y.get(x);if(b.hidden||b.writingMode===at.WritingMode.vertical&&!_)ze(b.numGlyphs,m);else{_=!1;var w=[b.anchorX,b.anchorY,0,1];if(at.transformMat4(w,w,e),u=d,0,c=(l=w)[0]/l[3],p=l[1]/l[3],c>=-u[0]&&c<=u[0]&&p>=-u[1]&&p<=u[1]){var A=.5+w[3]/n.transform.cameraToCenterDistance*.5,S=at.evaluateSizeForFeature(h,f,b),k=a?S*A:S/A,E=new at.Point(b.anchorX,b.anchorY),C=we(E,i).point,T={},I=Ee(b,k,!1,s,e,i,o,t.glyphOffsetArray,v,m,C,E,T,g);_=I.useVertical,(I.notEnoughRoom||_||I.needsFlipping&&Ee(b,k,!0,s,e,i,o,t.glyphOffsetArray,v,m,C,E,T,g).notEnoughRoom)&&ze(b.numGlyphs,m)}else ze(b.numGlyphs,m)}}r?t.text.dynamicLayoutVertexBuffer.updateData(m):t.icon.dynamicLayoutVertexBuffer.updateData(m)}function Se(t,e,n,r,i,o,a,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),v=e.getoffsetX(h-1),y=Te(t*m,n,r,i,o,a,s.segment,f,d,l,u,c,p);if(!y)return null;var g=Te(t*v,n,r,i,o,a,s.segment,f,d,l,u,c,p);return g?{first:y,last:g}:null}function ke(t,e,n,r){return t===at.WritingMode.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*r?{useVertical:!0}:(t===at.WritingMode.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function Ee(t,e,n,r,i,o,a,s,l,u,c,p,h,f){var d,m=e/24,v=t.lineOffsetX*e,y=t.lineOffsetY*e;if(1<t.numGlyphs){var g=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,b=Se(m,s,v,y,n,c,p,t,l,o,h,!1);if(!b)return{notEnoughRoom:!0};var w=we(b.first.point,a).point,A=we(b.last.point,a).point;if(r&&!n){var S=ke(t.writingMode,w,A,f);if(S)return S}d=[b.first];for(var k=t.glyphStartIndex+1;k<g-1;k++)d.push(Te(m*s.getoffsetX(k),v,y,n,c,p,t.segment,_,x,l,o,h,!1));d.push(b.last)}else{if(r&&!n){var E=we(p,i).point,C=t.lineStartIndex+t.segment+1,T=new at.Point(l.getx(C),l.gety(C)),I=we(T,i),z=0<I.signedDistanceFromCamera?I.point:Ce(p,T,E,1,i),M=ke(t.writingMode,E,z,f);if(M)return M}var P=Te(m*s.getoffsetX(t.glyphStartIndex),v,y,n,c,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,o,h,!1);if(!P)return{notEnoughRoom:!0};d=[P]}for(var O=0,L=d;O<L.length;O+=1){var D=L[O];at.addDynamicAttributes(u,D.point,D.angle)}return{}}function Ce(t,e,n,r,i){var o=we(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function Te(t,e,n,r,i,o,a,s,l,u,c,p,h){var f=r?t-e:t+e,d=0<f?1:-1,m=0;r&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var v=0<d?s+a:s+a+1,y=v,g=i,_=i,x=0,b=0,w=Math.abs(f);x+b<=w;){if((v+=d)<s||l<=v)return null;if(_=g,void 0===(g=p[v])){var A=new at.Point(u.getx(v),u.gety(v)),S=we(A,c);if(0<S.signedDistanceFromCamera)g=p[v]=S.point;else{var k=v-d;g=Ce(0===x?o:new at.Point(u.getx(k),u.gety(k)),A,_,w-x+1,c)}}x+=b,b=_.dist(g)}var E=(w-x)/b,C=g.sub(_),T=C.mult(E)._add(_);return T._add(C._unit()._perp()._mult(n*d)),{point:T,angle:m+Math.atan2(g.y-_.y,g.x-_.x),tileDistance:h?{prevTileDistance:v-d===y?0:u.gettileUnitDistanceFromAnchor(v-d),lastSegmentViewportDistance:w-x}:null}}var Ie=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ze(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(Ie,3*r)}}function Me(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}function Pe(t,e,n){void 0===e&&(e=new _e(t.width+200,t.height+200,25)),void 0===n&&(n=new _e(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200}function Oe(t,e,n){t[e+4]=n?1:0}function Le(t,e,n){return e*(at.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}Pe.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},Pe.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},Pe.prototype.placeCollisionCircles=function(t,e,n,r,i,o,a,s,l,u,c,p,h){var f=[],d=this.projectAnchor(l,i.anchorX,i.anchorY),m=s/24,v=i.lineOffsetX*s,y=i.lineOffsetY*s,g=new at.Point(i.anchorX,i.anchorY),_=Se(m,a,v,y,!1,we(g,u).point,g,i,o,u,{},!0),x=!1,b=!1,w=!0,A=d.perspectiveRatio*r,S=1/(r*n),k=0,E=0;_&&(k=this.approximateTileDistance(_.first.tileDistance,_.first.angle,S,d.cameraDistance,p),E=this.approximateTileDistance(_.last.tileDistance,_.last.angle,S,d.cameraDistance,p));for(var C=0;C<t.length;C+=5){var T=t[C],I=t[C+1],z=t[C+2],M=t[C+3];if(!_||M<-k||E<M)Oe(t,C,!1);else{var P=this.projectPoint(l,T,I),O=z*A;if(0<f.length){var L=P.x-f[f.length-4],D=P.y-f[f.length-3];if(L*L+D*D<O*O*2&&C+8<t.length){var R=t[C+8];if(-k<R&&R<E){Oe(t,C,!1);continue}}}var B=C/5;f.push(P.x,P.y,O,B),Oe(t,C,!0);var F=P.x-O,N=P.y-O,V=P.x+O,j=P.y+O;if(w=w&&this.isOffscreen(F,N,V,j),b=b||this.isInsideGrid(F,N,V,j),!e&&this.grid.hitTestCircle(P.x,P.y,O,h)){if(!c)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!b?[]:f,offscreen:w}},Pe.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var e=[],n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a],u=new at.Point(l.x+100,l.y+100);n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y),e.push(u)}for(var c={},p={},h=0,f=this.grid.query(n,r,i,o).concat(this.ignoredGrid.query(n,r,i,o));h<f.length;h+=1){var d=f[h],m=d.key;if(void 0===c[m.bucketInstanceId]&&(c[m.bucketInstanceId]={}),!c[m.bucketInstanceId][m.featureIndex]){var v=[new at.Point(d.x1,d.y1),new at.Point(d.x2,d.y1),new at.Point(d.x2,d.y2),new at.Point(d.x1,d.y2)];at.polygonIntersectsPolygon(e,v)&&(c[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},Pe.prototype.insertCollisionBox=function(t,e,n,r,i){var o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},Pe.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},Pe.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return Me(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},Pe.prototype.projectPoint=function(t,e,n){var r=[e,n,0,1];return Me(r,r,t),new at.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},Pe.prototype.projectAndGetPerspectiveRatio=function(t,e,n){var r=[e,n,0,1];return Me(r,r,t),{point:new at.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},Pe.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},Pe.prototype.isInsideGrid=function(t,e,n,r){return 0<=n&&t<this.gridRightBoundary&&0<=r&&e<this.gridBottomBoundary};function De(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n}De.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};function Re(t,e,n,r,i){this.text=new De(t?t.text:null,e,n,i),this.icon=new De(t?t.icon:null,e,r,i)}Re.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};function Be(t,e,n){this.text=t,this.icon=e,this.skipFade=n}function Fe(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}Fe.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};function Ne(t,e,n){this.transform=t.clone(),this.collisionIndex=new Pe(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new Fe(n)}function Ve(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}Ne.prototype.placeLayerTile=function(t,e,n,r){var i=e.getBucket(t),o=e.latestFeatureIndex;if(i&&o&&t.id===i.layerIds[0]){var a=e.collisionBoxArray,s=i.layers[0].layout,l=Math.pow(2,this.transform.zoom-e.tileID.overscaledZ),u=e.tileSize/at.EXTENT,c=this.transform.calculatePosMatrix(e.tileID.toUnwrapped()),p=be(c,"map"===s.get("text-pitch-alignment"),"map"===s.get("text-rotation-alignment"),this.transform,Le(e,1,this.transform.zoom)),h=be(c,"map"===s.get("icon-pitch-alignment"),"map"===s.get("icon-rotation-alignment"),this.transform,Le(e,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,e.tileID),this.placeLayerBucket(i,c,p,h,l,u,n,e.holdingForFade(),r,a)}},Ne.prototype.placeLayerBucket=function(t,e,n,r,i,o,a,s,l,u){var c=t.layers[0].layout,p=at.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,at.properties.layout.properties["text-size"]),h=c.get("text-optional"),f=c.get("icon-optional"),d=this.collisionGroups.get(t.sourceID);!t.collisionArrays&&u&&t.deserializeCollisionBoxes(u);for(var m=0;m<t.symbolInstances.length;m++){var v=t.symbolInstances.get(m);if(!l[v.crossTileID]){if(s){this.placements[v.crossTileID]=new Be(!1,!1,!1);continue}var y=!1,g=!1,_=!0,x=null,b=null,w=null,A=0,S=0,k=t.collisionArrays[m];k.textFeatureIndex&&(A=k.textFeatureIndex),k.textBox&&(y=0<(x=this.collisionIndex.placeCollisionBox(k.textBox,c.get("text-allow-overlap"),o,e,d.predicate)).box.length,_=_&&x.offscreen);var E=k.textCircles;if(E){var C=t.text.placedSymbolArray.get(v.horizontalPlacedTextSymbolIndex),T=at.evaluateSizeForFeature(t.textSizeData,p,C);b=this.collisionIndex.placeCollisionCircles(E,c.get("text-allow-overlap"),i,o,C,t.lineVertexArray,t.glyphOffsetArray,T,e,n,a,"map"===c.get("text-pitch-alignment"),d.predicate),y=c.get("text-allow-overlap")||0<b.circles.length,_=_&&b.offscreen}k.iconFeatureIndex&&(S=k.iconFeatureIndex),k.iconBox&&(g=0<(w=this.collisionIndex.placeCollisionBox(k.iconBox,c.get("icon-allow-overlap"),o,e,d.predicate)).box.length,_=_&&w.offscreen);var I=h||0===v.numGlyphVertices&&0===v.numVerticalGlyphVertices,z=f||0===v.numIconVertices;I||z?z?I||(g=g&&y):y=g&&y:g=y=g&&y,y&&x&&this.collisionIndex.insertCollisionBox(x.box,c.get("text-ignore-placement"),t.bucketInstanceId,A,d.ID),g&&w&&this.collisionIndex.insertCollisionBox(w.box,c.get("icon-ignore-placement"),t.bucketInstanceId,S,d.ID),y&&b&&this.collisionIndex.insertCollisionCircles(b.circles,c.get("text-ignore-placement"),t.bucketInstanceId,A,d.ID),this.placements[v.crossTileID]=new Be(y,g,_||t.justReloaded),l[v.crossTileID]=!0}}t.justReloaded=!1},Ne.prototype.commit=function(t,e){this.commitTime=e;var n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,i=t?t.opacities:{};for(var o in this.placements){var a=this.placements[o],s=i[o];n=s?(this.opacities[o]=new Re(s,r,a.text,a.icon),n||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[o]=new Re(null,r,a.text,a.icon,a.skipFade),n||a.text||a.icon)}for(var l in i){var u=i[l];if(!this.opacities[l]){var c=new Re(u,r,!1,!1);c.isHidden()||(this.opacities[l]=c,n=n||u.text.placed||u.icon.placed)}}n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Ne.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},Ne.prototype.updateBucketOpacities=function(t,e,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var r=t.layers[0].layout,i=new Re(null,0,!1,!1,!0),o=r.get("text-allow-overlap"),a=r.get("icon-allow-overlap"),s=new Re(null,0,o&&(a||!t.hasIconData()||r.get("icon-optional")),a&&(o||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(n);for(var l=0;l<t.symbolInstances.length;l++){var u=t.symbolInstances.get(l),c=e[u.crossTileID],p=this.opacities[u.crossTileID];c?p=i:p||(p=s,this.opacities[u.crossTileID]=p),e[u.crossTileID]=!0;var h=0<u.numGlyphVertices||0<u.numVerticalGlyphVertices,f=0<u.numIconVertices;if(h){for(var d=We(p.text),m=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,v=0;v<m;v++)t.text.opacityVertexArray.emplaceBack(d);t.text.placedSymbolArray.get(u.horizontalPlacedTextSymbolIndex).hidden=p.text.isHidden(),0<=u.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).hidden=p.text.isHidden())}if(f){for(var y=We(p.icon),g=0;g<u.numIconVertices/4;g++)t.icon.opacityVertexArray.emplaceBack(y);t.icon.placedSymbolArray.get(l).hidden=p.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var _=t.collisionArrays[l];if(_){_.textBox&&Ve(t.collisionBox.collisionVertexArray,p.text.placed,!1),_.iconBox&&Ve(t.collisionBox.collisionVertexArray,p.icon.placed,!1);var x=_.textCircles;if(x&&t.hasCollisionCircleData())for(var b=0;b<x.length;b+=5){var w=c||0===x[b+4];Ve(t.collisionCircle.collisionVertexArray,p.text.placed,w)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Ne.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Ne.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Ne.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Ne.prototype.setStale=function(){this.stale=!0};var je=Math.pow(2,25),$e=Math.pow(2,24),Ue=Math.pow(2,17),qe=Math.pow(2,16),Ze=Math.pow(2,9),Ge=Math.pow(2,8),He=Math.pow(2,1);function We(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*je+e*$e+n*Ue+e*qe+n*Ze+e*Ge+n*He+e}function Xe(){this._currentTileIndex=0,this._seenCrossTileIDs={}}Xe.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};function Ke(t,e,n,r,i,o){this.placement=new Ne(t,i,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}Ke.prototype.isDone=function(){return this._done},Ke.prototype.continuePlacement=function(t,e,n){for(var r=this,i=at.browser.now(),o=function(){var t=at.browser.now()-i;return!r._forceFullPlacement&&2<t};0<=this._currentPlacementIndex;){var a=e[t[r._currentPlacementIndex]],s=r.placement.collisionIndex.transform.zoom;if("symbol"===a.type&&(!a.minzoom||a.minzoom<=s)&&(!a.maxzoom||a.maxzoom>s)){if(r._inProgressLayer||(r._inProgressLayer=new Xe),r._inProgressLayer.continuePlacement(n[a.source],r.placement,r._showCollisionBoxes,a,o))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},Ke.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};function Je(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}}var Ye=512/at.EXTENT/2;Je.prototype.getScaledCoordinates=function(t,e){var n=e.canonical.z-this.tileID.canonical.z,r=Ye/Math.pow(2,n);return{x:Math.floor((e.canonical.x*at.EXTENT+t.anchorX)*r),y:Math.floor((e.canonical.y*at.EXTENT+t.anchorY)*r)}},Je.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};function Qe(){this.maxCrossTileID=0}Qe.prototype.generate=function(){return++this.maxCrossTileID};function tn(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}tn.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},tn.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Je(t,e.symbolInstances,e.bucketInstanceId),!0},tn.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},tn.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};function en(){this.layerIndexes={},this.crossTileIDs=new Qe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}en.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new tn);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},en.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[n]||delete this.layerIndexes[n]};function nn(t,e){return at.emitValidationErrors(t,e&&e.filter(function(t){return"source.canvas"!==t.identifier}))}var rn,on=at.pick(pe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),an=at.pick(pe,["setCenter","setZoom","setBearing","setPitch"]),sn=((rn=at.Evented)&&(ln.__proto__=rn),((ln.prototype=Object.create(rn&&rn.prototype)).constructor=ln).prototype.loadURL=function(t,e){var n=this;void 0===e&&(e={}),this.fire(new at.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof e.validate?e.validate:!p(t);t=function(t,e){if(!p(t))return t;var n=v(t);return n.path="/styles/v1"+n.path,c(n,e)}(t,e.accessToken);var i=this.map._transformRequest(t,at.ResourceType.Style);this._request=at.getJSON(i,function(t,e){n._request=null,t?n.fire(new at.ErrorEvent(t)):e&&n._load(e,r)})},ln.prototype.loadJSON=function(t,e){var n=this;void 0===e&&(e={}),this.fire(new at.Event("dataloading",{dataType:"style"})),this._request=at.browser.frame(function(){n._request=null,n._load(t,!1!==e.validate)})},ln.prototype._load=function(t,e){var n,r,p,h,f,d,i,o,a,s=this;if(!e||!nn(this,at.validateStyle(t))){for(var l in this._loaded=!0,(this.stylesheet=t).sources)s.addSource(l,t.sources[l],{validate:!1});t.sprite?this._spriteRequest=(n=t.sprite,r=this.map._transformRequest,p=function(t,e){if(s._spriteRequest=null,t)s.fire(new at.ErrorEvent(t));else if(e)for(var n in e)s.imageManager.addImage(n,e[n]);s.imageManager.setLoaded(!0),s.fire(new at.Event("data",{dataType:"style"}))},i=1<at.browser.devicePixelRatio?"@2x":"",o=at.getJSON(r(g(n,i,".json"),at.ResourceType.SpriteJSON),function(t,e){o=null,d||(d=t,h=e,y())}),a=at.getImage(r(g(n,i,".png"),at.ResourceType.SpriteImage),function(t,e){a=null,d||(d=t,f=e,y())}),{cancel:function(){o&&(o.cancel(),o=null),a&&(a.cancel(),a=null)}}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var u=ce(this.stylesheet.layers);this._order=u.map(function(t){return t.id}),this._layers={};for(var c=0,m=u;c<m.length;c+=1){var v=m[c];(v=at.createStyleLayer(v)).setEventedParent(s,{layer:{id:v.id}}),s._layers[v.id]=v}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new L(this.stylesheet.light),this.fire(new at.Event("data",{dataType:"style"})),this.fire(new at.Event("style.load"))}function y(){if(d)p(d);else if(h&&f){var t=at.browser.getImageData(f),e={};for(var n in h){var r=h[n],i=r.width,o=r.height,a=r.x,s=r.y,l=r.sdf,u=r.pixelRatio,c=new at.RGBAImage({width:i,height:o});at.RGBAImage.copy(t,c,{x:a,y:s},{x:0,y:0},{width:i,height:o}),e[n]={data:c,pixelRatio:u,sdf:l}}p(null,e)}}},ln.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var r=e.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new at.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')))}}},ln.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},ln.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},ln.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},ln.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},ln.prototype.update=function(t){if(this._loaded){if(this._changed){var e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var r in(e.length||n.length)&&this._updateWorkerLayers(e,n),this._updatedSources){var i=this._updatedSources[r];"reload"===i?this._reloadSource(r):"clear"===i&&this._clearSource(r)}for(var o in this._updatedPaintProps)this._layers[o].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire(new at.Event("data",{dataType:"style"}))}for(var a in this.sourceCaches)this.sourceCaches[a].used=!1;for(var s=0,l=this._order;s<l.length;s+=1){var u=l[s],c=this._layers[u];c.recalculate(t),!c.isHidden(t.zoom)&&c.source&&(this.sourceCaches[c.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},ln.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},ln.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},ln.prototype.setState=function(t){var e=this;if(this._checkLoaded(),nn(this,at.validateStyle(t)))return!1;(t=at.clone(t)).layers=ce(t.layers);var n=ge(this.serialize(),t).filter(function(t){return!(t.command in an)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in on)});if(0<r.length)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},ln.prototype.addImage=function(t,e){if(this.getImage(t))return this.fire(new at.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,e),this.fire(new at.Event("data",{dataType:"style"}))},ln.prototype.getImage=function(t){return this.imageManager.getImage(t)},ln.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new at.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new at.Event("data",{dataType:"style"}))},ln.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},ln.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(0<=["vector","raster","geojson","video","image"].indexOf(e.type)&&this._validate(at.validateStyle.source,"sources."+t,e,null,n))){this.map&&this.map._collectResourceTiming&&(e.collectResourceTiming=!0);var i=this.sourceCaches[t]=new ee(t,e,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},ln.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var e in this._layers)if(this._layers[e].source===t)return this.fire(new at.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+e+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new at.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},ln.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},ln.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},ln.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if(this.getLayer(r))this.fire(new at.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else if("object"==typeof t.source&&(this.addSource(r,t.source),t=at.clone(t),t=at.extend(t,{source:r})),!this._validate(at.validateStyle.layer,"layers."+r,t,{arrayIndex:-1},n)){var i=at.createStyleLayer(t);this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}});var o=e?this._order.indexOf(e):this._order.length;if(e&&-1===o)this.fire(new at.ErrorEvent(new Error('Layer with id "'+e+'" does not exist on this map.')));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=i,this._removedLayers[r]&&i.source){var a=this._removedLayers[r];delete this._removedLayers[r],a.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}}},ln.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==e){var n=this._order.indexOf(t);this._order.splice(n,1);var r=e?this._order.indexOf(e):this._order.length;e&&-1===r?this.fire(new at.ErrorEvent(new Error('Layer with id "'+e+'" does not exist on this map.'))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}}else this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},ln.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(e){e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]}else this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},ln.prototype.getLayer=function(t){return this._layers[t]},ln.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},ln.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);if(n){if(!at.deepEqual(n.filter,e))return null==e?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(at.validateStyle.filter,"layers."+n.id+".filter",e)||(n.filter=at.clone(e),this._updateLayer(n)))}else this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},ln.prototype.getFilter=function(t){return at.clone(this.getLayer(t).filter)},ln.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?at.deepEqual(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r)):this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},ln.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},ln.prototype.setPaintProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?at.deepEqual(r.getPaintProperty(e),n)||(r.setPaintProperty(e,n)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new at.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},ln.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},ln.prototype.setFeatureState=function(t,e){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n],o=parseInt(t.id,10);void 0!==i?"vector"!==i.getSource().type||r?isNaN(o)||o<0?this.fire(new at.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(r,o,e):this.fire(new at.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new at.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},ln.prototype.getFeatureState=function(t){this._checkLoaded();var e=t.source,n=t.sourceLayer,r=this.sourceCaches[e],i=parseInt(t.id,10);if(void 0!==r)if("vector"!==r.getSource().type||n){if(!(isNaN(i)||i<0))return r.getFeatureState(n,i);this.fire(new at.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new at.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new at.ErrorEvent(new Error("The source '"+e+"' does not exist in the map's style.")))},ln.prototype.getTransition=function(){return at.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},ln.prototype.serialize=function(){var e=this;return at.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:at.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},ln.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},ln.prototype._flattenRenderedFeatures=function(t){for(var e=[],n=this._order.length-1;0<=n;n--)for(var r=this._order[n],i=0,o=t;i<o.length;i+=1){var a=o[i][r];if(a)for(var s=0,l=a;s<l.length;s+=1){var u=l[s];e.push(u)}}return e},ln.prototype.queryRenderedFeatures=function(t,e,n){e&&e.filter&&this._validate(at.validateStyle.filter,"queryRenderedFeatures.filter",e.filter);var r={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire(new at.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,o=e.layers;i<o.length;i+=1){var a=o[i],s=this._layers[a];if(!s)return this.fire(new at.ErrorEvent(new Error("The layer '"+a+"' does not exist in the map's style and cannot be queried for features."))),[];r[s.source]=!0}}var l=[],u=t.map(function(t){return n.pointCoordinate(t)});for(var c in this.sourceCaches)e.layers&&!r[c]||l.push(ct(this.sourceCaches[c],this._layers,u,e,n));return this.placement&&l.push(function(l,i,t,u,e,n){for(var c={},p=e.queryRenderedSymbols(t),r=[],o=0,a=Object.keys(p).map(Number);o<a.length;o+=1){var s=a[o];r.push(n[s])}r.sort(pt);for(var h=function(){var i=d[f],t=i.featureIndex.lookupSymbolFeatures(p[i.bucketInstanceId],i.bucketIndex,i.sourceLayerIndex,u.filter,u.layers,l);for(var e in t){var n=c[e]=c[e]||[],r=t[e];r.sort(function(t,e){var n=i.featureSortOrder;if(n){var r=n.indexOf(t.featureIndex);return n.indexOf(e.featureIndex)-r}return e.featureIndex-t.featureIndex});for(var o=0,a=r;o<a.length;o+=1){var s=a[o];n.push(s.feature)}}},f=0,d=r;f<d.length;f+=1)h();function m(r){c[r].forEach(function(t){var e=l[r],n=i[e.source].getFeatureState(t.layer["source-layer"],t.id);t.source=t.layer.source,t.layer["source-layer"]&&(t.sourceLayer=t.layer["source-layer"]),t.state=n})}for(var v in c)m(v);return c}(this._layers,this.sourceCaches,t,e,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(l)},ln.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(at.validateStyle.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(n,e):[]},ln.prototype.addSourceType=function(t,e,n){return ln.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(ln.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},ln.prototype.getLight=function(){return this.light.getLight()},ln.prototype.setLight=function(t){this._checkLoaded();var e=this.light.getLight(),n=!1;for(var r in t)if(!at.deepEqual(t[r],e[r])){n=!0;break}if(n){var i={now:at.browser.now(),transition:at.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(i)}},ln.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&nn(this,t.call(at.validateStyle,at.extend({key:e,style:this.serialize(),value:n,styleSpec:at.styleSpec},r)))},ln.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),at.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},ln.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},ln.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},ln.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},ln.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},ln.prototype._updatePlacement=function(t,e,n,r){for(var i=!1,o=!1,a={},s=0,l=this._order;s<l.length;s+=1){var u=l[s],c=this._layers[u];if("symbol"===c.type){if(!a[c.source]){var p=this.sourceCaches[c.source];a[c.source]=p.getRenderableIds(!0).map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(c,a[c.source],t.center.lng);i=i||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(at.browser.now()))&&(this.pauseablePlacement=new Ke(t,this._order,f,e,n,r),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,at.browser.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var d=0,m=this._order;d<m.length;d+=1){var v=m[d],y=this._layers[v];"symbol"===y.type&&this.placement.updateLayerOpacities(y,a[y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(at.browser.now())},ln.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},ln.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},ln.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},ln);function ln(t,e){var o=this;void 0===e&&(e={}),rn.call(this),this.map=t,this.dispatcher=new R(le=le||new se,this),this.imageManager=new b,this.glyphManager=new I(t._transformRequest,e.localIdeographFontFamily),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new en,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new at.ZoomHistory,this._loaded=!1,this._resetUpdates();var n=this;this._rtlTextPluginCallback=ln.registerForPluginAvailability(function(t){for(var e in n.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),n.sourceCaches)n.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}})}sn.getSourceType=function(t){return et[t]},sn.setSourceType=function(t,e){et[t]=e},sn.registerForPluginAvailability=at.registerForPluginAvailability;function un(t){var e=pn[t],s={};e.fragmentSource=e.fragmentSource.replace(hn,function(t,e,n,r,i){return s[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(hn,function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"==a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"==a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})}var cn=at.createLayout([{name:"a_pos",type:"Int16",components:2}]),pn={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_color(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"\nuniform vec2 u_texsize;\nuniform sampler2D u_image;\nuniform float u_fade;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_fade) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_fade) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform vec4 u_scale;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileZoomRatio, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileZoomRatio, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_fade);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_height_factor;\nuniform vec4 u_scale;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, fromScale * display_size_a, tileRatio, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, toScale * display_size_b, tileRatio, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_texsize;\nuniform float u_fade;\nuniform mediump vec4 u_scale;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 pattern_tl_a = pattern_from.xy;\n    vec2 pattern_br_a = pattern_from.zw;\n    vec2 pattern_tl_b = pattern_to.xy;\n    vec2 pattern_br_b = pattern_to.zw;\n\n    float pixelRatio = u_scale.x;\n    float tileZoomRatio = u_scale.y;\n    float fromScale = u_scale.z;\n    float toScale = u_scale.w;\n\n    vec2 display_size_a = vec2((pattern_br_a.x - pattern_tl_a.x) / pixelRatio, (pattern_br_a.y - pattern_tl_a.y) / pixelRatio);\n    vec2 display_size_b = vec2((pattern_br_b.x - pattern_tl_b.x) / pixelRatio, (pattern_br_b.y - pattern_tl_b.y) / pixelRatio);\n\n    vec2 pattern_size_a = vec2(display_size_a.x * fromScale / tileZoomRatio, display_size_a.y);\n    vec2 pattern_size_b = vec2(display_size_b.x * toScale / tileZoomRatio, display_size_b.y);\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_a.y + 2.0) / 2.0) / pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (pattern_size_b.y + 2.0) / 2.0) / pattern_size_b.y);\n    vec2 pos_a = mix(pattern_tl_a / u_texsize, pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(pattern_tl_b / u_texsize, pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_ratio;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize mediump vec4 pattern_from\n    #pragma mapbox: initialize mediump vec4 pattern_to\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n    // float tileRatio = u_scale.y;\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 256.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 256.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},hn=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var fn in pn)un(fn);function dn(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}var mn=pn;dn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||l||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},dn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var h=0,f=n;h<f.length;h+=1)f[h].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,m=n;d<m.length;d+=1){var v=m[d];v.bind(),v.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},dn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function vn(t,e,n,r,i){var o=t.gl;this.program=o.createProgram();var a=n.defines().concat("#define DEVICE_PIXEL_RATIO "+at.browser.devicePixelRatio.toFixed(1));i&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(mn.prelude.fragmentSource,e.fragmentSource).join("\n"),l=a.concat(mn.prelude.vertexSource,e.vertexSource).join("\n"),u=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(u,s),o.compileShader(u),o.attachShader(this.program,u);var c=o.createShader(o.VERTEX_SHADER);o.shaderSource(c,l),o.compileShader(c),o.attachShader(this.program,c);for(var p=n.layoutAttributes||[],h=0;h<p.length;h++)o.bindAttribLocation(this.program,h,p[h].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},d=0;d<this.numAttributes;d++){var m=o.getActiveAttrib(this.program,d);m&&(this.attributes[m.name]=o.getAttribLocation(this.program,m.name))}for(var v=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),y=0;y<v;y++){var g=o.getActiveUniform(this.program,y);g&&(f[g.name]=o.getUniformLocation(this.program,g.name))}this.fixedUniforms=r(t,f),this.binderUniforms=n.getUniforms(t,f)}function yn(t,e,n){var r=1/Le(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[at.browser.devicePixelRatio,r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}vn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d){var m,v=t.gl;for(var y in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),this.fixedUniforms)this.fixedUniforms[y].set(o[y]);h&&h.setUniforms(t,this.binderUniforms,c,{zoom:p});for(var g=((m={})[v.LINES]=2,m[v.TRIANGLES]=3,m[v.LINE_STRIP]=1,m[e]),_=0,x=u.get();_<x.length;_+=1){var b=x[_],w=b.vaos||(b.vaos={});(w[a]||(w[a]=new dn)).bind(t,this,s,h?h.getPaintVertexBuffers():[],l,b.vertexOffset,f,d),v.drawElements(e,b.primitiveLength*g,v.UNSIGNED_SHORT,b.primitiveOffset*g*2)}};function gn(t,e){var n=e.style.light,r=n.properties.get("position"),i=[r.x,r.y,r.z],o=at.create$2();"viewport"===n.properties.get("anchor")&&at.fromRotation(o,-e.transform.angle),at.transformMat3(i,i,o);var a=n.properties.get("color");return{u_matrix:t,u_lightpos:i,u_lightintensity:n.properties.get("intensity"),u_lightcolor:[a.r,a.g,a.b]}}function _n(t){return{u_matrix:t}}function xn(t,e,n,r){return at.extend(_n(t),yn(n,e,r))}function bn(t,e,n,r){var i,o,a=t.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=Le(n,1,a.zoom);i=!0,o=[s,s]}else i=!1,o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_extrude_scale:o}}function wn(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_camera_to_center_distance:new at.Uniform1f(t,e.u_camera_to_center_distance),u_pixels_to_tile_units:new at.Uniform1f(t,e.u_pixels_to_tile_units),u_extrude_scale:new at.Uniform2f(t,e.u_extrude_scale),u_overscale_factor:new at.Uniform1f(t,e.u_overscale_factor)}}function An(t){return{u_matrix:t}}function Sn(t,e,n){var r=t.transform;return{u_matrix:In(t,e,n),u_ratio:1/Le(e,1,r.zoom),u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}}var kn=function(t,e){return{u_matrix:t,u_color:e}},En=function(t,e,n){var r,i,o,a=n.paint.get("hillshade-shadow-color"),s=n.paint.get("hillshade-highlight-color"),l=n.paint.get("hillshade-accent-color"),u=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);return"viewport"===n.paint.get("hillshade-illumination-anchor")&&(u-=t.transform.angle),{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),!0),u_image:0,u_latrange:(r=t,i=e.tileID.toCoordinate(),o=new at.Coordinate(i.column,i.row+1,i.zoom),[r.transform.coordinateLocation(i).lat,r.transform.coordinateLocation(o).lat]),u_light:[n.paint.get("hillshade-exaggeration"),u],u_shadow:a,u_highlight:s,u_accent:l}},Cn=function(t,e){var n=t.dem.dim,r=at.create();return at.ortho(r,0,at.EXTENT,-at.EXTENT,0,0,1),at.translate(r,r,[0,-at.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[2*n,2*n],u_zoom:t.tileID.overscaledZ,u_maxzoom:e}};function Tn(t,e){return 1/Le(t,1,e.tileZoom)}function In(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function zn(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}}var Mn={fillExtrusion:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_lightpos:new at.Uniform3f(t,e.u_lightpos),u_lightintensity:new at.Uniform1f(t,e.u_lightintensity),u_lightcolor:new at.Uniform3f(t,e.u_lightcolor)}},fillExtrusionPattern:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_lightpos:new at.Uniform3f(t,e.u_lightpos),u_lightintensity:new at.Uniform1f(t,e.u_lightintensity),u_lightcolor:new at.Uniform3f(t,e.u_lightcolor),u_height_factor:new at.Uniform1f(t,e.u_height_factor),u_image:new at.Uniform1i(t,e.u_image),u_texsize:new at.Uniform2f(t,e.u_texsize),u_pixel_coord_upper:new at.Uniform2f(t,e.u_pixel_coord_upper),u_pixel_coord_lower:new at.Uniform2f(t,e.u_pixel_coord_lower),u_scale:new at.Uniform4f(t,e.u_scale),u_fade:new at.Uniform1f(t,e.u_fade)}},extrusionTexture:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_world:new at.Uniform2f(t,e.u_world),u_image:new at.Uniform1i(t,e.u_image),u_opacity:new at.Uniform1f(t,e.u_opacity)}},fill:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix)}},fillPattern:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_image:new at.Uniform1i(t,e.u_image),u_texsize:new at.Uniform2f(t,e.u_texsize),u_pixel_coord_upper:new at.Uniform2f(t,e.u_pixel_coord_upper),u_pixel_coord_lower:new at.Uniform2f(t,e.u_pixel_coord_lower),u_scale:new at.Uniform4f(t,e.u_scale),u_fade:new at.Uniform1f(t,e.u_fade)}},fillOutline:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_world:new at.Uniform2f(t,e.u_world)}},fillOutlinePattern:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_world:new at.Uniform2f(t,e.u_world),u_image:new at.Uniform1i(t,e.u_image),u_texsize:new at.Uniform2f(t,e.u_texsize),u_pixel_coord_upper:new at.Uniform2f(t,e.u_pixel_coord_upper),u_pixel_coord_lower:new at.Uniform2f(t,e.u_pixel_coord_lower),u_scale:new at.Uniform4f(t,e.u_scale),u_fade:new at.Uniform1f(t,e.u_fade)}},circle:function(t,e){return{u_camera_to_center_distance:new at.Uniform1f(t,e.u_camera_to_center_distance),u_scale_with_map:new at.Uniform1i(t,e.u_scale_with_map),u_pitch_with_map:new at.Uniform1i(t,e.u_pitch_with_map),u_extrude_scale:new at.Uniform2f(t,e.u_extrude_scale),u_matrix:new at.UniformMatrix4f(t,e.u_matrix)}},collisionBox:wn,collisionCircle:wn,debug:function(t,e){return{u_color:new at.UniformColor(t,e.u_color),u_matrix:new at.UniformMatrix4f(t,e.u_matrix)}},clippingMask:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix)}},heatmap:function(t,e){return{u_extrude_scale:new at.Uniform1f(t,e.u_extrude_scale),u_intensity:new at.Uniform1f(t,e.u_intensity),u_matrix:new at.UniformMatrix4f(t,e.u_matrix)}},heatmapTexture:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_world:new at.Uniform2f(t,e.u_world),u_image:new at.Uniform1i(t,e.u_image),u_color_ramp:new at.Uniform1i(t,e.u_color_ramp),u_opacity:new at.Uniform1f(t,e.u_opacity)}},hillshade:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_image:new at.Uniform1i(t,e.u_image),u_latrange:new at.Uniform2f(t,e.u_latrange),u_light:new at.Uniform2f(t,e.u_light),u_shadow:new at.UniformColor(t,e.u_shadow),u_highlight:new at.UniformColor(t,e.u_highlight),u_accent:new at.UniformColor(t,e.u_accent)}},hillshadePrepare:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_image:new at.Uniform1i(t,e.u_image),u_dimension:new at.Uniform2f(t,e.u_dimension),u_zoom:new at.Uniform1f(t,e.u_zoom),u_maxzoom:new at.Uniform1f(t,e.u_maxzoom)}},line:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_ratio:new at.Uniform1f(t,e.u_ratio),u_gl_units_to_pixels:new at.Uniform2f(t,e.u_gl_units_to_pixels)}},lineGradient:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_ratio:new at.Uniform1f(t,e.u_ratio),u_gl_units_to_pixels:new at.Uniform2f(t,e.u_gl_units_to_pixels),u_image:new at.Uniform1i(t,e.u_image)}},linePattern:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_texsize:new at.Uniform2f(t,e.u_texsize),u_ratio:new at.Uniform1f(t,e.u_ratio),u_image:new at.Uniform1i(t,e.u_image),u_gl_units_to_pixels:new at.Uniform2f(t,e.u_gl_units_to_pixels),u_scale:new at.Uniform4f(t,e.u_scale),u_fade:new at.Uniform1f(t,e.u_fade)}},lineSDF:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_ratio:new at.Uniform1f(t,e.u_ratio),u_gl_units_to_pixels:new at.Uniform2f(t,e.u_gl_units_to_pixels),u_patternscale_a:new at.Uniform2f(t,e.u_patternscale_a),u_patternscale_b:new at.Uniform2f(t,e.u_patternscale_b),u_sdfgamma:new at.Uniform1f(t,e.u_sdfgamma),u_image:new at.Uniform1i(t,e.u_image),u_tex_y_a:new at.Uniform1f(t,e.u_tex_y_a),u_tex_y_b:new at.Uniform1f(t,e.u_tex_y_b),u_mix:new at.Uniform1f(t,e.u_mix)}},raster:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_tl_parent:new at.Uniform2f(t,e.u_tl_parent),u_scale_parent:new at.Uniform1f(t,e.u_scale_parent),u_buffer_scale:new at.Uniform1f(t,e.u_buffer_scale),u_fade_t:new at.Uniform1f(t,e.u_fade_t),u_opacity:new at.Uniform1f(t,e.u_opacity),u_image0:new at.Uniform1i(t,e.u_image0),u_image1:new at.Uniform1i(t,e.u_image1),u_brightness_low:new at.Uniform1f(t,e.u_brightness_low),u_brightness_high:new at.Uniform1f(t,e.u_brightness_high),u_saturation_factor:new at.Uniform1f(t,e.u_saturation_factor),u_contrast_factor:new at.Uniform1f(t,e.u_contrast_factor),u_spin_weights:new at.Uniform3f(t,e.u_spin_weights)}},symbolIcon:function(t,e){return{u_is_size_zoom_constant:new at.Uniform1i(t,e.u_is_size_zoom_constant),u_is_size_feature_constant:new at.Uniform1i(t,e.u_is_size_feature_constant),u_size_t:new at.Uniform1f(t,e.u_size_t),u_size:new at.Uniform1f(t,e.u_size),u_camera_to_center_distance:new at.Uniform1f(t,e.u_camera_to_center_distance),u_pitch:new at.Uniform1f(t,e.u_pitch),u_rotate_symbol:new at.Uniform1i(t,e.u_rotate_symbol),u_aspect_ratio:new at.Uniform1f(t,e.u_aspect_ratio),u_fade_change:new at.Uniform1f(t,e.u_fade_change),u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_label_plane_matrix:new at.UniformMatrix4f(t,e.u_label_plane_matrix),u_gl_coord_matrix:new at.UniformMatrix4f(t,e.u_gl_coord_matrix),u_is_text:new at.Uniform1f(t,e.u_is_text),u_pitch_with_map:new at.Uniform1i(t,e.u_pitch_with_map),u_texsize:new at.Uniform2f(t,e.u_texsize),u_texture:new at.Uniform1i(t,e.u_texture)}},symbolSDF:function(t,e){return{u_is_size_zoom_constant:new at.Uniform1i(t,e.u_is_size_zoom_constant),u_is_size_feature_constant:new at.Uniform1i(t,e.u_is_size_feature_constant),u_size_t:new at.Uniform1f(t,e.u_size_t),u_size:new at.Uniform1f(t,e.u_size),u_camera_to_center_distance:new at.Uniform1f(t,e.u_camera_to_center_distance),u_pitch:new at.Uniform1f(t,e.u_pitch),u_rotate_symbol:new at.Uniform1i(t,e.u_rotate_symbol),u_aspect_ratio:new at.Uniform1f(t,e.u_aspect_ratio),u_fade_change:new at.Uniform1f(t,e.u_fade_change),u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_label_plane_matrix:new at.UniformMatrix4f(t,e.u_label_plane_matrix),u_gl_coord_matrix:new at.UniformMatrix4f(t,e.u_gl_coord_matrix),u_is_text:new at.Uniform1f(t,e.u_is_text),u_pitch_with_map:new at.Uniform1i(t,e.u_pitch_with_map),u_texsize:new at.Uniform2f(t,e.u_texsize),u_texture:new at.Uniform1i(t,e.u_texture),u_gamma_scale:new at.Uniform1f(t,e.u_gamma_scale),u_is_halo:new at.Uniform1f(t,e.u_is_halo)}},background:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_opacity:new at.Uniform1f(t,e.u_opacity),u_color:new at.UniformColor(t,e.u_color)}},backgroundPattern:function(t,e){return{u_matrix:new at.UniformMatrix4f(t,e.u_matrix),u_opacity:new at.Uniform1f(t,e.u_opacity),u_image:new at.Uniform1i(t,e.u_image),u_pattern_tl_a:new at.Uniform2f(t,e.u_pattern_tl_a),u_pattern_br_a:new at.Uniform2f(t,e.u_pattern_br_a),u_pattern_tl_b:new at.Uniform2f(t,e.u_pattern_tl_b),u_pattern_br_b:new at.Uniform2f(t,e.u_pattern_br_b),u_texsize:new at.Uniform2f(t,e.u_texsize),u_mix:new at.Uniform1f(t,e.u_mix),u_pattern_size_a:new at.Uniform2f(t,e.u_pattern_size_a),u_pattern_size_b:new at.Uniform2f(t,e.u_pattern_size_b),u_scale_a:new at.Uniform1f(t,e.u_scale_a),u_scale_b:new at.Uniform1f(t,e.u_scale_b),u_pixel_coord_upper:new at.Uniform2f(t,e.u_pixel_coord_upper),u_pixel_coord_lower:new at.Uniform2f(t,e.u_pixel_coord_lower),u_tile_units_to_pixels:new at.Uniform1f(t,e.u_tile_units_to_pixels)}}};function Pn(t,e){for(var n=t.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),r=0;r<n.length;r++){var i={},o=n[r],a=n.slice(r+1);On(o.tileID.wrapped(),o.tileID,a,new at.OverscaledTileID(0,o.tileID.wrap+1,0,0,0),i),o.setMask(i,e)}}function On(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o];if(r.isLessThan(a.tileID))break;if(e.key===a.tileID.key)return;if(a.tileID.isChildOf(e)){for(var s=e.children(1/0),l=0;l<s.length;l++)On(t,s[l],n.slice(o),r,i);return}}var u=e.overscaledZ-t.overscaledZ,c=new at.CanonicalTileID(u,e.canonical.x-(t.canonical.x<<u),e.canonical.y-(t.canonical.y<<u));i[c.key]=i[c.key]||c}function Ln(t,e,n,r,i){for(var o=t.context,a=o.gl,s=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),l=0;l<r.length;l++){var u=r[l],c=e.getTile(u),p=c.getBucket(n);if(p){var h=i?p.collisionCircle:p.collisionBox;h&&s.draw(o,i?a.TRIANGLES:a.LINES,Kt.disabled,Jt.disabled,t.colorModeForRenderPass(),(f=u.posMatrix,d=t.transform,0,v=Le(m=c,1,d.zoom),y=Math.pow(2,d.zoom-m.tileID.overscaledZ),g=m.tileID.overscaleFactor(),{u_matrix:f,u_camera_to_center_distance:d.cameraToCenterDistance,u_pixels_to_tile_units:v,u_extrude_scale:[d.pixelsToGLUnits[0]/(v*y),d.pixelsToGLUnits[1]/(v*y)],u_overscale_factor:g}),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,t.transform.zoom,null,null,h.collisionVertexBuffer)}}var f,d,m,v,y,g}var Dn=at.identity(new Float32Array(16)),Rn=at.properties.layout;function Bn(t,e,n,r,i,o,a,s,l,u,c,p){for(var h,f,d=t.context,m=d.gl,v=t.transform,y="map"===s,g="map"===l,_=y&&"point"!==n.layout.get("symbol-placement"),x=y&&!g&&!_,b=g?t.depthModeForSublayer(0,Kt.ReadOnly):Kt.disabled,w=0,A=r;w<A.length;w+=1){var S=A[w],k=e.getTile(S),E=k.getBucket(n);if(E){var C=i?E.text:E.icon;if(C&&C.segments.get().length){var T=C.programConfigurations.get(n.id),I=i||E.sdfIcons,z=i?E.textSizeData:E.iconSizeData;h||(h=t.useProgram(I?"symbolSDF":"symbolIcon",T),f=at.evaluateSizeForZoom(z,v.zoom,Rn.properties[i?"text-size":"icon-size"])),d.activeTexture.set(m.TEXTURE0);var M=void 0;if(i)k.glyphAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),M=k.glyphAtlasTexture.size;else{var P=1!==n.layout.get("icon-size").constantOr(0)||E.iconsNeedLinear,O=g||0!==v.pitch;k.imageAtlasTexture.bind(I||t.options.rotating||t.options.zooming||P||O?m.LINEAR:m.NEAREST,m.CLAMP_TO_EDGE),M=k.imageAtlasTexture.size}var L=Le(k,1,t.transform.zoom),D=be(S.posMatrix,g,y,t.transform,L),R=(tt=S.posMatrix,et=g,nt=y,rt=t.transform,it=L,ot=at.identity(new Float32Array(16)),et?(at.multiply(ot,ot,tt),at.scale(ot,ot,[it,it,1]),nt||at.rotateZ(ot,ot,-rt.angle)):(at.scale(ot,ot,[1,-1,1]),at.translate(ot,ot,[-1,-1,0]),at.scale(ot,ot,[2/rt.width,2/rt.height,1])),ot);_&&Ae(E,S.posMatrix,t,i,D,R,g,u);var B=t.translatePosMatrix(S.posMatrix,k,o,a),F=_?Dn:D,N=t.translatePosMatrix(R,k,o,a,!0),V=void 0;if(I){var j=0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1);$=z.functionType,U=f,q=x,Z=g,H=B,W=F,X=N,K=i,J=M,Y=!0,Q=(G=t).transform,V=at.extend(zn($,U,q,Z,G,H,W,X,K,J),{u_gamma_scale:Z?Math.cos(Q._pitch)*Q.cameraToCenterDistance:1,u_is_halo:+Y}),j&&Fn(C,n,t,h,b,c,p,V),V.u_is_halo=0}else V=zn(z.functionType,f,x,g,t,B,F,N,i,M);Fn(C,n,t,h,b,c,p,V)}}}var $,U,q,Z,G,H,W,X,K,J,Y,Q,tt,et,nt,rt,it,ot}function Fn(t,e,n,r,i,o,a,s){var l=n.context,u=l.gl;r.draw(l,u.TRIANGLES,i,o,a,s,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,e.paint,n.transform.zoom,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Nn(t,e,n,r,i,o,a){var s,l,u,c,p,h,f,d,m,v,y=t.context.gl,g=n.paint.get("fill-pattern"),_=g&&g.constantOr(1),x=n.getCrossfadeParameters();s=a?(l=_&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",y.LINES):(l=_?"fillPattern":"fill",y.TRIANGLES);for(var b=0,w=r;b<w.length;b+=1){var A=w[b],S=e.getTile(A);if(!_||S.patternsLoaded()){var k=S.getBucket(n);if(k){var E=k.programConfigurations.get(n.id),C=t.useProgram(l,E);_&&(t.context.activeTexture.set(y.TEXTURE0),S.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),E.updatePatternPaintBuffers(x));var T=g.constantOr(null);if(T&&S.imageAtlas){var I=S.imageAtlas.patternPositions[T.to],z=S.imageAtlas.patternPositions[T.from];I&&z&&E.setConstantPatternPositions(I,z)}var M=t.translatePosMatrix(A.posMatrix,S,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=k.indexBuffer2,p=k.segments2;var P=[y.drawingBufferWidth,y.drawingBufferHeight];u="fillOutlinePattern"===l&&_?(h=M,f=t,d=x,m=S,v=P,at.extend(xn(h,f,d,m),{u_world:v})):{u_matrix:M,u_world:P}}else c=k.indexBuffer,p=k.segments,u=_?xn(M,t,x,S):_n(M);C.draw(t.context,s,i,t.stencilModeForClipping(A),o,u,n.id,k.layoutVertexBuffer,c,p,n.paint,t.transform.zoom,E)}}}}function Vn(t,e,n,r,i,o){var a=t.context,s=a.gl,l=e.fbo;if(l){var u=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=En(t,e,n);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?u.draw(a,s.TRIANGLES,r,i,o,c,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):u.draw(a,s.TRIANGLES,r,i,o,c,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function jn(t,e,n,r,i,o,a){var s=t.context,l=s.gl;if(e.dem&&e.dem.data){var u=e.dem.dim,c=e.dem.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),e.demTexture=e.demTexture||t.getTileTexture(e.tileSize),e.demTexture){var p=e.demTexture;p.update(c,{premultiply:!1}),p.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else e.demTexture=new at.Texture(s,c,l.RGBA,{premultiply:!1}),e.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var h=e.fbo;if(!h){var f=new at.Texture(s,{width:u,height:u,data:null},l.RGBA);f.bind(l.LINEAR,l.CLAMP_TO_EDGE),(h=e.fbo=s.createFramebuffer(u,u)).colorAttachment.set(f.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,Cn(e,r),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),e.needsHillshadePrepare=!1}}function $n(t,e,n,r,i){var o=r.paint.get("raster-fade-duration");if(0<o){var a=at.browser.now(),s=(a-t.timeAdded)/o,l=e?(a-e.timeAdded)/o:-1,u=n.getSource(),c=i.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!e||Math.abs(e.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),h=p&&t.refreshedUponExpiration?1:at.clamp(p?s:1-l,0,1);return t.refreshedUponExpiration&&1<=s&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function Un(t,e,n){var r=t.context,i=r.gl,o=n.posMatrix,a=t.useProgram("debug"),s=Kt.disabled,l=Jt.disabled,u=t.colorModeForRenderPass(),c="$debug";a.draw(r,i.LINE_STRIP,s,l,u,kn(o,at.Color.red),c,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var p=function(t,e,n){n=n||1;var r,i,o,a,s,l,u,c,p=[];for(r=0,i=t.length;r<i;r++)if(s=Zn[t[r]]){for(c=null,o=0,a=s[1].length;o<a;o+=2)c=-1===s[1][o]&&-1===s[1][o+1]?null:(l=e+s[1][o]*n,u=200-s[1][o+1]*n,c&&p.push(c.x,c.y,l,u),{x:l,y:u});e+=s[0]*n}return p}(n.toString(),50,5),h=new at.StructArrayLayout2i4,f=new at.StructArrayLayout2ui4,d=0;d<p.length;d+=2)h.emplaceBack(p[d],p[d+1]),f.emplaceBack(d,d+1);for(var m=r.createVertexBuffer(h,cn.members),v=r.createIndexBuffer(f),y=at.SegmentVector.simpleSegment(0,0,h.length/2,h.length/2),g=e.getTile(n).tileSize,_=at.EXTENT/(Math.pow(2,t.transform.zoom-n.overscaledZ)*g),x=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<x.length;b++){var w=x[b];a.draw(r,i.LINES,s,l,u,kn(at.translate([],o,[_*w[0],_*w[1],0]),at.Color.white),c,m,v,y)}a.draw(r,i.LINES,s,l,u,kn(o,at.Color.black),c,m,v,y)}function qn(t,e){this.context=new Qt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=ee.maxUnderzooming+ee.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new at.ProgramConfiguration,this.crossTileSymbolIndex=new en}var Zn={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Gn={symbol:function(t,e,n,r){if("translucent"===t.renderPass){var i=Jt.disabled,o=t.colorModeForRenderPass();0!==n.paint.get("icon-opacity").constantOr(1)&&Bn(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),i,o),0!==n.paint.get("text-opacity").constantOr(1)&&Bn(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),i,o),e.map.showCollisionBoxes&&(Ln(a=t,s=e,l=n,u=r,!1),Ln(a,s,l,u,!0))}var a,s,l,u},circle:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,l=s.gl,u=t.depthModeForSublayer(0,Kt.ReadOnly),c=Jt.disabled,p=t.colorModeForRenderPass(),h=0;h<r.length;h++){var f=r[h],d=e.getTile(f),m=d.getBucket(n);if(m){var v=m.programConfigurations.get(n.id);t.useProgram("circle",v).draw(s,l.TRIANGLES,u,c,p,bn(t,f,d,n),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,v)}}}},heatmap:function(t,e,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,o=i.gl,a=t.depthModeForSublayer(0,Kt.ReadOnly),s=Jt.disabled,l=new Yt([o.ONE,o.ONE],at.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(i,t,n),i.clear({color:at.Color.transparent});for(var u=0;u<r.length;u++){var c=r[u];if(!e.hasRenderableParent(c)){var p=e.getTile(c),h=p.getBucket(n);if(h){var f=h.programConfigurations.get(n.id),d=t.useProgram("heatmap",f),m=t.transform.zoom;d.draw(i,o.TRIANGLES,a,s,l,(v=c.posMatrix,y=p,g=m,_=n.paint.get("heatmap-intensity"),{u_matrix:v,u_extrude_scale:Le(y,1,g),u_intensity:_}),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,t.transform.zoom,f)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,e){var n=t.context,r=n.gl,i=e.heatmapFbo;if(i){n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);var o=e.colorRampTexture;(o=o||(e.colorRampTexture=new at.Texture(n,e.colorRamp,r.RGBA))).bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,r.TRIANGLES,Kt.disabled,Jt.disabled,t.colorModeForRenderPass(),function(t,e,n,r){var i=at.create();at.ortho(i,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:n,u_color_ramp:r,u_opacity:e.paint.get("heatmap-opacity")}}(t,e,0,1),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom)}}(t,n));var v,y,g,_},line:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==o.constantOr(1)){var a=t.depthModeForSublayer(0,Kt.ReadOnly),s=t.colorModeForRenderPass(),l=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),c=u.constantOr(1),p=n.paint.get("line-gradient"),h=n.getCrossfadeParameters(),f=l?"lineSDF":c?"linePattern":p?"lineGradient":"line",d=t.context,m=d.gl,v=!0;if(p){d.activeTexture.set(m.TEXTURE0);var y=n.gradientTexture;if(!n.gradient)return;(y=y||(n.gradientTexture=new at.Texture(d,n.gradient,m.RGBA))).bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var g=0,_=r;g<_.length;g+=1){var x=_[g],b=e.getTile(x);if(!c||b.patternsLoaded()){var w=b.getBucket(n);if(w){var A=w.programConfigurations.get(n.id),S=t.context.program.get(),k=t.useProgram(f,A),E=v||k.program!==S,C=u.constantOr(null);if(C&&b.imageAtlas){var T=b.imageAtlas.patternPositions[C.to],I=b.imageAtlas.patternPositions[C.from];T&&I&&A.setConstantPatternPositions(T,I)}var z=l?(j=b,$=n,U=l,q=h,G=void 0,Z=(V=t).transform,G=V.lineAtlas,H=Tn(j,Z),W="round"===$.layout.get("line-cap"),X=G.getDash(U.from,W),K=G.getDash(U.to,W),J=X.width*q.fromScale,Y=K.width*q.toScale,at.extend(Sn(V,j,$),{u_patternscale_a:[H/J,-X.height/2],u_patternscale_b:[H/Y,-K.height/2],u_sdfgamma:G.width/(256*Math.min(J,Y)*at.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:X.y,u_tex_y_b:K.y,u_mix:q.t})):c?(D=b,R=n,B=h,0,F=(L=t).transform,N=Tn(D,F),{u_matrix:In(L,D,R),u_texsize:D.imageAtlasTexture.size,u_ratio:1/Le(D,1,F.zoom),u_image:0,u_scale:[at.browser.devicePixelRatio,N,B.fromScale,B.toScale],u_fade:B.t,u_gl_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]]}):p?(M=t,P=b,O=n,at.extend(Sn(M,P,O),{u_image:0})):Sn(t,b,n);l&&(E||t.lineAtlas.dirty)?(d.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(d)):c&&(d.activeTexture.set(m.TEXTURE0),b.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),A.updatePatternPaintBuffers(h)),k.draw(d,m.TRIANGLES,a,t.stencilModeForClipping(x),s,z,n.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,n.paint,t.transform.zoom,A),v=!1}}}}}var M,P,O,L,D,R,B,F,N,V,j,$,U,q,Z,G,H,W,X,K,J,Y},fill:function(t,e,n,r){var i=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var a=t.colorModeForRenderPass(),s=n.paint.get("fill-pattern").constantOr(1)||1!==i.constantOr(at.Color.transparent).a||1!==o.constantOr(0)?"translucent":"opaque";t.renderPass===s&&Nn(t,e,n,r,t.depthModeForSublayer(1,"opaque"===t.renderPass?Kt.ReadWrite:Kt.ReadOnly),a,!1),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&Nn(t,e,n,r,t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Kt.ReadOnly),a,!0)}},"fill-extrusion":function(t,e,n,r){0!==n.paint.get("fill-extrusion-opacity")&&("offscreen"===t.renderPass?(function(t,e){var n=t.context,r=n.gl,i=e.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!i){var o=new at.Texture(n,{width:t.width,height:t.height,data:null},r.RGBA);o.bind(r.LINEAR,r.CLAMP_TO_EDGE),(i=e.viewportFrame=n.createFramebuffer(t.width,t.height)).colorAttachment.set(o.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(n.clear({depth:1}),t.depthRboNeedsClear=!1),n.clear({color:at.Color.transparent})}(t,n),function(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),h=0,f=r;h<f.length;h+=1){var d=f[h],m=e.getTile(d),v=m.getBucket(n);if(v){var y=v.programConfigurations.get(n.id),g=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(t.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(p));var _=u.constantOr(null);if(_&&m.imageAtlas){var x=m.imageAtlas.patternPositions[_.to],b=m.imageAtlas.patternPositions[_.from];x&&b&&y.setConstantPatternPositions(x,b)}var w=t.translatePosMatrix(d.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),A=c?(S=w,k=t,E=d,C=p,T=m,at.extend(gn(S,k),yn(C,k,T),{u_height_factor:-Math.pow(2,E.overscaledZ)/T.tileSize/8})):gn(w,t);g.draw(s,s.gl.TRIANGLES,i,o,a,A,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,t.transform.zoom,y)}}var S,k,E,C,T}(t,e,n,r,new Kt(t.context.gl.LEQUAL,Kt.ReadWrite,[0,1]),Jt.disabled,t.colorModeForRenderPass())):"translucent"===t.renderPass&&function(t,e){var n=e.viewportFrame;if(n){var r=t.context,i=r.gl;r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),t.useProgram("extrusionTexture").draw(r,i.TRIANGLES,Kt.disabled,Jt.disabled,t.colorModeForRenderPass(),function(t,e,n){var r=at.create();at.ortho(r,0,t.width,t.height,0,0,1);var i=t.context.gl;return{u_matrix:r,u_world:[i.drawingBufferWidth,i.drawingBufferHeight],u_image:n,u_opacity:e.paint.get("fill-extrusion-opacity")}}(t,e,0),e.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,e.paint,t.transform.zoom)}}(t,n))},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Kt.ReadOnly),s=Jt.disabled,l=t.colorModeForRenderPass(),u=0,c=r;u<c.length;u+=1){var p=c[u],h=e.getTile(p);h.needsHillshadePrepare&&"offscreen"===t.renderPass?jn(t,h,n,o,a,s,l):"translucent"===t.renderPass&&Vn(t,h,n,a,s,l)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity"))for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=Jt.disabled,u=t.colorModeForRenderPass(),c=r.length&&r[0].overscaledZ,p=0,h=r;p<h.length;p+=1){var f=h[p],d=t.depthModeForSublayer(f.overscaledZ-c,1===n.paint.get("raster-opacity")?Kt.ReadWrite:Kt.ReadOnly,o.LESS),m=e.getTile(f),v=t.transform.calculatePosMatrix(f.toUnwrapped(),!0);m.registerFadeDuration(n.paint.get("raster-fade-duration"));var y=e.findLoadedParent(f,0),g=$n(m,y,e,n,t.transform),_=void 0,x=void 0,b="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),m.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),y?(y.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,y.tileID.overscaledZ-m.tileID.overscaledZ),x=[m.tileID.canonical.x*_%1,m.tileID.canonical.y*_%1]):m.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var w=(S=n,E=k=void 0,{u_matrix:v,u_tl_parent:x||[0,0],u_scale_parent:_||1,u_buffer_scale:1,u_fade_t:(A=g).mix,u_opacity:A.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:0<(E=S.paint.get("raster-saturation"))?1-1/(1.001-E):-E,u_contrast_factor:0<(k=S.paint.get("raster-contrast"))?1/(1-k):1+k,u_spin_weights:function(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}(S.paint.get("raster-hue-rotate"))});a instanceof Y?s.draw(i,o.TRIANGLES,d,l,u,w,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):m.maskedBoundsBuffer&&m.maskedIndexBuffer&&m.segments?s.draw(i,o.TRIANGLES,d,l,u,w,n.id,m.maskedBoundsBuffer,m.maskedIndexBuffer,m.segments,n.paint,t.transform.zoom):s.draw(i,o.TRIANGLES,d,l,u,w,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}var A,S,k,E},background:function(t,e,n){var r,i,o,a,s,l,u,c,p,h,f,d,m,v,y,g,_,x,b,w=n.paint.get("background-color"),A=n.paint.get("background-opacity");if(0!==A){var S=t.context,k=S.gl,E=t.transform,C=E.tileSize,T=n.paint.get("background-pattern");if(!t.isPatternMissing(T)){var I=T||1!==w.a||1!==A?"translucent":"opaque";if(t.renderPass===I){var z=Jt.disabled,M=t.depthModeForSublayer(0,"opaque"==I?Kt.ReadWrite:Kt.ReadOnly),P=t.colorModeForRenderPass(),O=t.useProgram(T?"backgroundPattern":"background"),L=E.coveringTiles({tileSize:C});T&&(S.activeTexture.set(k.TEXTURE0),t.imageManager.bind(t.context));for(var D=n.getCrossfadeParameters(),R=0,B=L;R<B.length;R+=1){var F=B[R],N=t.transform.calculatePosMatrix(F.toUnwrapped()),V=T?(r=N,i=A,o=t,a=T,s={tileID:F,tileSize:C},l=D,b=x=_=g=y=v=m=d=f=h=p=c=u=void 0,at.extend((u=a,c=l,h=s,f=(p=o).imageManager.getPattern(u.from),d=p.imageManager.getPattern(u.to),m=p.imageManager.getPixelSize(),v=m.width,y=m.height,g=Math.pow(2,h.tileID.overscaledZ),_=h.tileSize*Math.pow(2,p.transform.tileZoom)/g,x=_*(h.tileID.canonical.x+h.tileID.wrap*g),b=_*h.tileID.canonical.y,{u_image:0,u_pattern_tl_a:f.tl,u_pattern_br_a:f.br,u_pattern_tl_b:d.tl,u_pattern_br_b:d.br,u_texsize:[v,y],u_mix:c.t,u_pattern_size_a:f.displaySize,u_pattern_size_b:d.displaySize,u_scale_a:c.fromScale,u_scale_b:c.toScale,u_tile_units_to_pixels:1/Le(h,1,p.transform.tileZoom),u_pixel_coord_upper:[x>>16,b>>16],u_pixel_coord_lower:[65535&x,65535&b]}),{u_matrix:r,u_opacity:i})):{u_matrix:N,u_opacity:A,u_color:w};O.draw(S,k.TRIANGLES,M,z,P,V,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)Un(t,e,n[r])}};function Hn(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Wn(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=0<t.dx,p=e.dx<0,h=o;h<a;h++){var f=l*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=u*Math.max(0,Math.min(e.dy,h+p-e.y0))+e.x0;i(Math.floor(d),Math.ceil(f),h)}}function Xn(t,e,n,r,i,o){var a,s=Hn(t,e),l=Hn(e,n),u=Hn(n,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&Wn(u,s,r,i,o),l.dy&&Wn(u,l,r,i,o)}qn.prototype.resize=function(t,e){var n=this.context.gl;if(this.width=t*at.browser.devicePixelRatio,this.height=e*at.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1){var o=i[r];this.style._layers[o].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},qn.prototype.setup=function(){var t=this.context,e=new at.StructArrayLayout2i4;e.emplaceBack(0,0),e.emplaceBack(at.EXTENT,0),e.emplaceBack(0,at.EXTENT),e.emplaceBack(at.EXTENT,at.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(e,cn.members),this.tileExtentSegments=at.SegmentVector.simpleSegment(0,0,4,2);var n=new at.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(at.EXTENT,0),n.emplaceBack(0,at.EXTENT),n.emplaceBack(at.EXTENT,at.EXTENT),this.debugBuffer=t.createVertexBuffer(n,cn.members),this.debugSegments=at.SegmentVector.simpleSegment(0,0,4,5);var r=new at.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(at.EXTENT,0,at.EXTENT,0),r.emplaceBack(0,at.EXTENT,0,at.EXTENT),r.emplaceBack(at.EXTENT,at.EXTENT,at.EXTENT,at.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(r,at.rasterBoundsAttributes.members),this.rasterBoundsSegments=at.SegmentVector.simpleSegment(0,0,4,2);var i=new at.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,cn.members),this.viewportSegments=at.SegmentVector.simpleSegment(0,0,4,2);var o=new at.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var a=new at.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);var s=this.context.gl;this.stencilClearMode=new Jt({func:s.ALWAYS,mask:0},0,255,s.ZERO,s.ZERO,s.ZERO)},qn.prototype.clearStencil=function(){var t=this.context,e=t.gl,n=at.create();at.ortho(n,0,this.width,this.height,0,0,1),at.scale(n,n,[e.drawingBufferWidth,e.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,e.TRIANGLES,Kt.disabled,this.stencilClearMode,Yt.disabled,An(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},qn.prototype._renderTileClippingMasks=function(t){var e=this.context,n=e.gl;e.setColorMode(Yt.disabled),e.setDepthMode(Kt.disabled);var r=this.useProgram("clippingMask"),i=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=i++;r.draw(e,n.TRIANGLES,Kt.disabled,new Jt({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Yt.disabled,An(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},qn.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Jt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},qn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Yt([t.CONSTANT_COLOR,t.ONE],new at.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Yt.unblended:Yt.alphaBlended},qn.prototype.depthModeForSublayer=function(t,e,n){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=r-1+this.depthRange;return new Kt(n||this.context.gl.LEQUAL,e,[i,r])},qn.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(at.browser.now());var n=this.style._order,r=this.style.sourceCaches;for(var i in r){var o=r[i];o.used&&o.prepare(this.context)}var a,s={},l={},u={};for(var c in r){var p=r[c];s[c]=p.getVisibleCoordinates(),l[c]=s[c].slice().reverse(),u[c]=p.getVisibleCoordinates(!0).reverse()}for(var h in r){var f=r[h],d=f.getSource();if("raster"===d.type||"raster-dem"===d.type){for(var m=[],v=0,y=s[h];v<y.length;v+=1){var g=y[v];m.push(f.getTile(g))}Pn(m,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var _=0,x=n;_<x.length;_+=1){var b=x[_],w=this.style._layers[b];if(w.hasOffscreenPass()&&!w.isHidden(this.transform.zoom)){var A=l[w.source];A.length&&this.renderLayer(this,r[w.source],w,A)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:e.showOverdrawInspector?at.Color.black:at.Color.transparent,depth:1}),this._showOverdrawInspector=e.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=n.length-1;0<=this.currentLayer;this.currentLayer--){var S=this.style._layers[n[this.currentLayer]],k=r[S.source],E=s[S.source];S.source!==a&&k&&(this.clearStencil(),k.getSource().isTileClipped&&this._renderTileClippingMasks(E)),this.renderLayer(this,k,S,E),a=S.source}for(this.renderPass="translucent",this.currentLayer=0,a=null;this.currentLayer<n.length;this.currentLayer++){var C=this.style._layers[n[this.currentLayer]],T=r[C.source],I=("symbol"===C.type?u:l)[C.source];C.source!==a&&T&&(this.clearStencil(),T.getSource().isTileClipped&&this._renderTileClippingMasks(s[C.source])),this.renderLayer(this,T,C,I),a=C.source}if(this.options.showTileBoundaries)for(var z in r){Gn.debug(this,r[z],s[z]);break}},qn.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},qn.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||"background"!==n.type&&!r.length||(this.id=n.id,Gn[n.type](t,e,n,r))},qn.prototype.translatePosMatrix=function(t,e,n,r,i){if(!n[0]&&!n[1])return t;var o=i?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){var a=Math.sin(o),s=Math.cos(o);n=[n[0]*s-n[1]*a,n[0]*a+n[1]*s]}var l=[i?n[0]:Le(e,n[0],this.transform.zoom),i?n[1]:Le(e,n[1],this.transform.zoom),0],u=new Float32Array(16);return at.translate(u,t,l),u},qn.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},qn.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&0<e.length?e.pop():null},qn.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from),n=this.imageManager.getPattern(t.to);return!e||!n},qn.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new vn(this.context,mn[t],e,Mn[t],this._showOverdrawInspector)),this.cache[n]};function Kn(t,e,n){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new F(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}}var Jn={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Kn.prototype.clone=function(){var t=new Kn(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Jn.minZoom.get=function(){return this._minZoom},Jn.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Jn.maxZoom.get=function(){return this._maxZoom},Jn.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Jn.renderWorldCopies.get=function(){return this._renderWorldCopies},Jn.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Jn.worldSize.get=function(){return this.tileSize*this.scale},Jn.centerPoint.get=function(){return this.size._div(2)},Jn.size.get=function(){return new at.Point(this.width,this.height)},Jn.bearing.get=function(){return-this.angle/Math.PI*180},Jn.bearing.set=function(t){var e=-at.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=at.create$4(),at.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Jn.pitch.get=function(){return this._pitch/Math.PI*180},Jn.pitch.set=function(t){var e=at.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},Jn.fov.get=function(){return this._fov/Math.PI*180},Jn.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Jn.zoom.get=function(){return this._zoom},Jn.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Jn.center.get=function(){return this._center},Jn.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Kn.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Kn.prototype.getVisibleUnwrappedCoordinates=function(t){var e=[new at.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new at.Point(0,0),0),r=this.pointCoordinate(new at.Point(this.width,0),0),i=this.pointCoordinate(new at.Point(this.width,this.height),0),o=this.pointCoordinate(new at.Point(0,this.height),0),a=Math.floor(Math.min(n.column,r.column,i.column,o.column)),s=Math.floor(Math.max(n.column,r.column,i.column,o.column)),l=a-1;l<=s+1;l++)0!==l&&e.push(new at.UnwrappedTileID(l,t));return e},Kn.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),i=new at.Point(r.column-.5,r.row-.5);return function(s,t,l,u){void 0===u&&(u=!0);var c=1<<s,p={};function e(t,e,n){var r,i,o,a;if(0<=n&&n<=c)for(r=t;r<e;r++)i=Math.floor(r/c),o=(r%c+c)%c,0!==i&&!0!==u||(a=new at.OverscaledTileID(l,i,s,o,n),p[a.key]=a)}return Xn(t[0],t[1],t[2],0,c,e),Xn(t[2],t[3],t[0],0,c,e),Object.keys(p).map(function(t){return p[t]})}(e,[this.pointCoordinate(new at.Point(0,0),e),this.pointCoordinate(new at.Point(this.width,0),e),this.pointCoordinate(new at.Point(this.width,this.height),e),this.pointCoordinate(new at.Point(0,this.height),e)],t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return i.dist(t.canonical)-i.dist(e.canonical)})},Kn.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Jn.unmodified.get=function(){return this._unmodified},Kn.prototype.zoomScale=function(t){return Math.pow(2,t)},Kn.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Kn.prototype.project=function(t){return new at.Point(this.lngX(t.lng),this.latY(t.lat))},Kn.prototype.unproject=function(t){return new F(this.xLng(t.x),this.yLat(t.y))},Jn.x.get=function(){return this.lngX(this.center.lng)},Jn.y.get=function(){return this.latY(this.center.lat)},Jn.point.get=function(){return new at.Point(this.x,this.y)},Kn.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Kn.prototype.latY=function(t){return t=at.clamp(t,-this.maxValidLatitude,this.maxValidLatitude),(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Kn.prototype.xLng=function(t){return 360*t/this.worldSize-180},Kn.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Kn.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},Kn.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Kn.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Kn.prototype.locationCoordinate=function(t){return new at.Coordinate(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Kn.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new F(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Kn.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];at.transformMat4(n,n,this.pixelMatrixInverse),at.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[0]/i,s=r[0]/o,l=n[1]/i,u=r[1]/o,c=n[2]/i,p=r[2]/o,h=c==p?0:(0-c)/(p-c);return new at.Coordinate(at.number(a,s,h)/this.tileSize,at.number(l,u,h)/this.tileSize,this.zoom)._zoomTo(e)},Kn.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return at.transformMat4(n,n,this.pixelMatrix),new at.Point(n[0]/n[3],n[1]/n[3])},Kn.prototype.getBounds=function(){return(new N).extend(this.pointLocation(new at.Point(0,0))).extend(this.pointLocation(new at.Point(this.width,0))).extend(this.pointLocation(new at.Point(this.width,this.height))).extend(this.pointLocation(new at.Point(0,this.height)))},Kn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new N([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Kn.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Kn.prototype.calculatePosMatrix=function(t,e){void 0===e&&(e=!1);var n=t.key,r=e?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),a=i.x+Math.pow(2,i.z)*t.wrap,s=at.identity(new Float64Array(16));return at.translate(s,s,[a*o,i.y*o,0]),at.scale(s,s,[o/at.EXTENT,o/at.EXTENT,1]),at.multiply(s,e?this.alignedProjMatrix:this.projMatrix,s),r[n]=new Float32Array(s),r[n]},Kn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,i=-90,o=90,a=-180,s=180,l=this.size,u=this._unmodified;if(this.latRange){var c=this.latRange;i=this.latY(c[1]),t=(o=this.latY(c[0]))-i<l.y?l.y/(o-i):0}if(this.lngRange){var p=this.lngRange;a=this.lngX(p[0]),e=(s=this.lngX(p[1]))-a<l.x?l.x/(s-a):0}var h=Math.max(e||0,t||0);if(h)return this.center=this.unproject(new at.Point(e?(s+a)/2:this.x,t?(o+i)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=this.y,d=l.y/2;f-d<i&&(r=i+d),o<f+d&&(r=o-d)}if(this.lngRange){var m=this.x,v=l.x/2;m-v<a&&(n=a+v),s<m+v&&(n=s-v)}void 0===n&&void 0===r||(this.center=this.unproject(new at.Point(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=u,this._constraining=!1}},Kn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=this.x,i=this.y,o=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),a=new Float64Array(16);at.perspective(a,this._fov,this.width/this.height,1,o),at.scale(a,a,[1,-1,1]),at.translate(a,a,[0,0,-this.cameraToCenterDistance]),at.rotateX(a,a,this._pitch),at.rotateZ(a,a,this.angle),at.translate(a,a,[-r,-i,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));at.scale(a,a,[1,1,s,1]),this.projMatrix=a;var l=this.width%2/2,u=this.height%2/2,c=Math.cos(this.angle),p=Math.sin(this.angle),h=r-Math.round(r)+c*l+p*u,f=i-Math.round(i)+c*u+p*l,d=new Float64Array(a);if(at.translate(d,d,[.5<h?h-1:h,.5<f?f-1:f,0]),this.alignedProjMatrix=d,a=at.create(),at.scale(a,a,[this.width/2,-this.height/2,1]),at.translate(a,a,[1,-1,0]),this.pixelMatrix=at.multiply(new Float64Array(16),a,this.projMatrix),!(a=at.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Kn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new at.Point(0,0)).zoomTo(this.zoom),e=[t.column*this.tileSize,t.row*this.tileSize,0,1];return at.transformMat4(e,e,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Kn.prototype,Jn);function Yn(){var t,e,n,r;at.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),e=!300,n=0,r=function(){n=0,e&&(t(),n=setTimeout(r,300),e=!1)},function(){return e=!0,n||r(),n})}Yn.prototype.addTo=function(t){return this._map=t,at.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Yn.prototype.remove=function(){return at.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Yn.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},Yn.prototype._onHashChange=function(){var t=at.window.location.hash.replace("#","").split("/");return 3<=t.length&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},Yn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();at.window.history.replaceState(at.window.history.state,"",t)};function Qn(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,at.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)}var tr=function(a){function t(t,e,n,r){void 0===r&&(r={});var i=y.mousePos(e.getCanvasContainer(),n),o=e.unproject(i);a.call(this,t,at.extend({point:i,lngLat:o,originalEvent:n},r)),this._defaultPrevented=!1,this.target=e}a&&(t.__proto__=a);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(at.Event),er=function(s){function t(t,e,n){var r=y.touchPos(e.getCanvasContainer(),n),i=r.map(function(t){return e.unproject(t)}),o=r.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new at.Point(0,0)),a=e.unproject(o);s.call(this,t,{points:r,point:o,lngLats:i,lngLat:a,originalEvent:n}),this._defaultPrevented=!1}s&&(t.__proto__=s);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(s&&s.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(at.Event),nr=function(r){function t(t,e,n){r.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}r&&(t.__proto__=r);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(at.Event);Qn.prototype.isEnabled=function(){return!!this._enabled},Qn.prototype.isActive=function(){return!!this._active},Qn.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Qn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qn.prototype.onWheel=function(t){if(this.isEnabled()){var e=t.deltaMode===at.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=at.browser.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":400<r?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()}},Qn.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Qn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new at.Event("movestart",{originalEvent:t})),this._map.fire(new at.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var e=y.mousePos(this._el,t);this._around=F.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Qn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var e=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&4.000244140625<Math.abs(this._delta)?1/450:.01,r=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==r&&(r=1/r);var i="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(i*r))),"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:e.zoom,a=this._startZoom,s=this._easing,l=!1;if("wheel"===this._type&&a&&s){var u=Math.min((at.browser.now()-this._lastWheelEventTime)/200,1),c=s(u);e.zoom=at.number(a,o,c),u<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):l=!0}else e.zoom=o,l=!0;e.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new at.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new at.Event("zoom",{originalEvent:this._lastWheelEvent})),l&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.fire(new at.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new at.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},Qn.prototype._smoothOutEasing=function(t){var e=at.ease;if(this._prevEase){var n=this._prevEase,r=(at.browser.now()-n.start)/n.duration,i=n.easing(.01+r)-n.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);e=at.bezier(o,a,.25,1)}return this._prevEase={start:at.browser.now(),duration:t,easing:e},e};function rr(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1,at.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)}rr.prototype.isEnabled=function(){return!!this._enabled},rr.prototype.isActive=function(){return!!this._active},rr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},rr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},rr.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(at.window.document.addEventListener("mousemove",this._onMouseMove,!1),at.window.document.addEventListener("keydown",this._onKeyDown,!1),at.window.document.addEventListener("mouseup",this._onMouseUp,!1),y.disableDrag(),this._startPos=this._lastPos=y.mousePos(this._el,t),this._active=!0)},rr.prototype._onMouseMove=function(t){var e=y.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=e,this._box||(this._box=y.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(n.x,e.x),i=Math.max(n.x,e.x),o=Math.min(n.y,e.y),a=Math.max(n.y,e.y);y.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=i-r+"px",this._box.style.height=a-o+"px"}},rr.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=y.mousePos(this._el,t);this._finish(),y.suppressClick(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(e,n,this._map.getBearing(),{linear:!0}).fire(new at.Event("boxzoomend",{originalEvent:t}))}},rr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},rr.prototype._finish=function(){this._active=!1,at.window.document.removeEventListener("mousemove",this._onMouseMove,!1),at.window.document.removeEventListener("keydown",this._onKeyDown,!1),at.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos},rr.prototype._fireEvent=function(t,e){return this._map.fire(new at.Event(t,{originalEvent:e}))};function ir(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._state="disabled",this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,at.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)}var or=at.bezier(0,0,.25,1);ir.prototype.isEnabled=function(){return"disabled"!==this._state},ir.prototype.isActive=function(){return"active"===this._state},ir.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},ir.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},ir.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=y.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==y.mouseButton(t))return;this._eventButton=0}y.disableDrag(),at.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),at.window.document.addEventListener("mouseup",this._onMouseUp),at.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[at.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=y.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},ir.prototype._onMouseMove=function(t){var e=y.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},ir.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,n=this._startPos,r=this._lastPos,i=.8*(n.x-r.x),o=-.5*(n.y-r.y),a=e.bearing-i,s=e.pitch-o,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([at.browser.now(),this._map._normalizeBearing(a,u[1])]),e.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=s),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},ir.prototype._onMouseUp=function(t){if(y.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",y.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},ir.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},ir.prototype._unbind=function(){at.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),at.window.document.removeEventListener("mouseup",this._onMouseUp),at.window.removeEventListener("blur",this._onBlur),y.enableDrag()},ir.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},ir.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();function n(){Math.abs(i)<e._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)}var r=this._map,i=r.getBearing(),o=this._inertia;if(o.length<2)n();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],u=r._normalizeBearing(i,l[1]),c=s[1]-a[1],p=c<0?-1:1,h=(s[0]-a[0])/1e3;if(0!=c&&0!=h){var f=Math.abs(.25/h*c);180<f&&(f=180);var d=f/180;u+=p*f*(d/2),Math.abs(r._normalizeBearing(u,0))<this._bearingSnap&&(u=r._normalizeBearing(0,u)),r.rotateTo(u,{duration:1e3*d,easing:or,noMoveStart:!0},{originalEvent:t})}else n()}},ir.prototype._fireEvent=function(t,e){return this._map.fire(new at.Event(t,e?{originalEvent:e}:{}))},ir.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=at.browser.now();0<t.length&&160<e-t[0][0];)t.shift()};function ar(t,e){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=e.clickTolerance||1,at.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)}var sr=at.bezier(0,0,.3,1);ar.prototype.isEnabled=function(){return"disabled"!==this._state},ar.prototype.isActive=function(){return"active"===this._state},ar.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},ar.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},ar.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==y.mouseButton(t)||(y.addEventListener(at.window.document,"mousemove",this._onMove,{capture:!0}),y.addEventListener(at.window.document,"mouseup",this._onMouseUp),this._start(t)))},ar.prototype.onTouchStart=function(t){"enabled"===this._state&&(1<t.touches.length||(y.addEventListener(at.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),y.addEventListener(at.window.document,"touchend",this._onTouchEnd),this._start(t)))},ar.prototype._start=function(t){at.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=y.mousePos(this._el,t),this._inertia=[[at.browser.now(),this._startPos]]},ar.prototype._onMove=function(t){t.preventDefault();var e=y.mousePos(this._el,t);this._lastPos.equals(e)||"pending"===this._state&&e.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=e,this._drainInertiaBuffer(),this._inertia.push([at.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},ar.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},ar.prototype._onMouseUp=function(t){if(0===y.mouseButton(t))switch(this._state){case"active":this._state="enabled",y.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},ar.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},ar.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},ar.prototype._unbind=function(){y.removeEventListener(at.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),y.removeEventListener(at.window.document,"touchend",this._onTouchEnd),y.removeEventListener(at.window.document,"mousemove",this._onMove,{capture:!0}),y.removeEventListener(at.window.document,"mouseup",this._onMouseUp),y.removeEventListener(at.window,"blur",this._onBlur)},ar.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},ar.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0==o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();1400<s&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:sr,noMoveStart:!0},{originalEvent:t})}}},ar.prototype._fireEvent=function(t,e){return this._map.fire(new at.Event(t,e?{originalEvent:e}:{}))},ar.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=at.browser.now();0<t.length&&160<e-t[0][0];)t.shift()};function lr(t){this._map=t,this._el=t.getCanvasContainer(),at.bindAll(["_onKeyDown"],this)}function ur(t){return t*(2-t)}lr.prototype.isEnabled=function(){return!!this._enabled},lr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},lr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},lr.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:ur,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};function cr(t){this._map=t,at.bindAll(["_onDblClick","_onZoomEnd"],this)}cr.prototype.isEnabled=function(){return!!this._enabled},cr.prototype.isActive=function(){return!!this._active},cr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},cr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},cr.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(1<t.points.length||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},cr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},cr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},cr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};function pr(t){this._map=t,this._el=t.getCanvasContainer(),at.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)}var hr=at.bezier(0,0,.15,1);pr.prototype.isEnabled=function(){return!!this._enabled},pr.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},pr.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},pr.prototype.disableRotation=function(){this._rotationDisabled=!0},pr.prototype.enableRotation=function(){this._rotationDisabled=!1},pr.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var e=y.mousePos(this._el,t.touches[0]),n=y.mousePos(this._el,t.touches[1]),r=e.add(n).div(2);this._startVec=e.sub(n),this._startAround=this._map.transform.pointLocation(r),this._gestureIntent=void 0,this._inertia=[],y.addEventListener(at.window.document,"touchmove",this._onMove,{passive:!1}),y.addEventListener(at.window.document,"touchend",this._onEnd)}},pr.prototype._getTouchEventData=function(t){var e=y.mousePos(this._el,t.touches[0]),n=y.mousePos(this._el,t.touches[1]),r=e.sub(n);return{vec:r,center:e.add(n).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},pr.prototype._onMove=function(t){if(2===t.touches.length){var e=this._getTouchEventData(t),n=e.vec,r=e.scale,i=e.bearing;if(!this._gestureIntent){var o=.15<Math.abs(1-r);10<Math.abs(i)?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new at.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new at.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},pr.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var e=this._map.transform;this._startScale||(this._startScale=e.scale,this._startBearing=e.bearing);var n=this._getTouchEventData(this._lastTouchEvent),r=n.center,i=n.bearing,o=n.scale,a=e.pointLocation(r),s=e.locationPoint(a);"rotate"===t&&(e.bearing=this._startBearing+i),e.zoom=e.scaleZoom(this._startScale*o),e.setLocationAtPoint(this._startAround,s),this._map.fire(new at.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new at.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([at.browser.now(),o,r])}},pr.prototype._onEnd=function(t){y.removeEventListener(at.window.document,"touchmove",this._onMove,{passive:!1}),y.removeEventListener(at.window.document,"touchend",this._onEnd);var e=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,e){this._map.fire(new at.Event(e+"end",{originalEvent:t})),this._drainInertiaBuffer();var r=this._inertia,i=this._map;if(r.length<2)i.snapToNorth({},{originalEvent:t});else{var o=r[r.length-1],a=r[0],s=i.transform.scaleZoom(n*o[1]),l=i.transform.scaleZoom(n*a[1]),u=s-l,c=(o[0]-a[0])/1e3,p=o[2];if(0!=c&&s!==l){var h=.15*u/c;2.5<Math.abs(h)&&(h=0<h?2.5:-2.5);var f=1e3*Math.abs(h/(12*.15)),d=s+h*f/2e3;d<0&&(d=0),i.easeTo({zoom:d,duration:f,easing:hr,around:this._aroundCenter?i.getCenter():i.unproject(p),noMoveStart:!0},{originalEvent:t})}else i.snapToNorth({},{originalEvent:t})}}},pr.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=at.browser.now();2<t.length&&160<e-t[0][0];)t.shift()};function fr(t){void 0===t&&(t={}),this.options=t,at.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)}var dr,mr={scrollZoom:Qn,boxZoom:rr,dragRotate:ir,dragPan:ar,keyboard:lr,doubleClickZoom:cr,touchZoomRotate:pr},vr=((dr=at.Evented)&&(yr.__proto__=dr),((yr.prototype=Object.create(dr&&dr.prototype)).constructor=yr).prototype.getCenter=function(){return this.transform.center},yr.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},yr.prototype.panBy=function(t,e,n){return t=at.Point.convert(t).mult(-1),this.panTo(this.transform.center,at.extend({offset:t},e),n)},yr.prototype.panTo=function(t,e,n){return this.easeTo(at.extend({center:t},e),n)},yr.prototype.getZoom=function(){return this.transform.zoom},yr.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},yr.prototype.zoomTo=function(t,e,n){return this.easeTo(at.extend({zoom:t},e),n)},yr.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},yr.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},yr.prototype.getBearing=function(){return this.transform.bearing},yr.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},yr.prototype.rotateTo=function(t,e,n){return this.easeTo(at.extend({bearing:t},e),n)},yr.prototype.resetNorth=function(t,e){return this.rotateTo(0,at.extend({duration:1e3},t),e),this},yr.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},yr.prototype.getPitch=function(){return this.transform.pitch},yr.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},yr.prototype.cameraForBounds=function(t,e){return t=N.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,e)},yr.prototype._cameraForBoxAndBearing=function(t,e,n,r){if("number"==typeof(r=at.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var i=r.padding;r.padding={top:i,bottom:i,right:i,left:i}}if(at.deepEqual(Object.keys(r.padding).sort(function(t,e){return t<e?-1:e<t?1:0}),["bottom","left","right","top"])){var o=[(r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2],a=Math.min(r.padding.right,r.padding.left),s=Math.min(r.padding.top,r.padding.bottom);r.offset=[r.offset[0]+o[0],r.offset[1]+o[1]];var l=this.transform,u=l.project(F.convert(t)),c=l.project(F.convert(e)),p=u.rotate(-n*Math.PI/180),h=c.rotate(-n*Math.PI/180),f=new at.Point(Math.max(p.x,h.x),Math.max(p.y,h.y)),d=new at.Point(Math.min(p.x,h.x),Math.min(p.y,h.y)),m=at.Point.convert(r.offset),v=f.sub(d),y=(l.width-2*a-2*Math.abs(m.x))/v.x,g=(l.height-2*s-2*Math.abs(m.y))/v.y;if(!(g<0||y<0))return r.center=l.unproject(u.add(c).div(2)),r.zoom=Math.min(l.scaleZoom(l.scale*Math.min(y,g)),r.maxZoom),r.bearing=n,r;at.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else at.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},yr.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},yr.prototype.fitScreenCoordinates=function(t,e,n,r,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(at.Point.convert(t)),this.transform.pointLocation(at.Point.convert(e)),n,r),r,i)},yr.prototype._fitInternal=function(t,e,n){return t?(e=at.extend(t,e)).linear?this.easeTo(e,n):this.flyTo(e,n):this},yr.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=F.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire(new at.Event("movestart",e)).fire(new at.Event("move",e)),r&&this.fire(new at.Event("zoomstart",e)).fire(new at.Event("zoom",e)).fire(new at.Event("zoomend",e)),i&&this.fire(new at.Event("rotatestart",e)).fire(new at.Event("rotate",e)).fire(new at.Event("rotateend",e)),o&&this.fire(new at.Event("pitchstart",e)).fire(new at.Event("pitch",e)).fire(new at.Event("pitchend",e)),this.fire(new at.Event("moveend",e))},yr.prototype.easeTo=function(t,o){var a=this;this.stop(),!1===(t=at.extend({offset:[0,0],duration:500,easing:at.ease},t)).animate&&(t.duration=0);var s=this.transform,l=this.getZoom(),u=this.getBearing(),c=this.getPitch(),p="zoom"in t?+t.zoom:l,h="bearing"in t?this._normalizeBearing(t.bearing,u):u,f="pitch"in t?+t.pitch:c,d=s.centerPoint.add(at.Point.convert(t.offset)),e=s.pointLocation(d),n=F.convert(t.center||e);this._normalizeCenter(n);var m,v,y=s.project(e),g=s.project(n).sub(y),_=s.zoomScale(p-l);return t.around&&(m=F.convert(t.around),v=s.locationPoint(m)),this._zooming=p!==l,this._rotating=u!==h,this._pitching=f!==c,this._prepareEase(o,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(a._zooming&&(s.zoom=at.number(l,p,t)),a._rotating&&(s.bearing=at.number(u,h,t)),a._pitching&&(s.pitch=at.number(c,f,t)),m)s.setLocationAtPoint(m,v);else{var e=s.zoomScale(s.zoom-l),n=l<p?Math.min(2,_):Math.max(.5,_),r=Math.pow(n,1-t),i=s.unproject(y.add(g.mult(t*r)).mult(e));s.setLocationAtPoint(s.renderWorldCopies?i.wrap():i,d)}a._fireMoveEvents(o)},function(){t.delayEndEvents?a._easeEndTimeoutID=setTimeout(function(){return a._afterEase(o)},t.delayEndEvents):a._afterEase(o)},t),this},yr.prototype._prepareEase=function(t,e){this._moving=!0,e||this.fire(new at.Event("movestart",t)),this._zooming&&this.fire(new at.Event("zoomstart",t)),this._rotating&&this.fire(new at.Event("rotatestart",t)),this._pitching&&this.fire(new at.Event("pitchstart",t))},yr.prototype._fireMoveEvents=function(t){this.fire(new at.Event("move",t)),this._zooming&&this.fire(new at.Event("zoom",t)),this._rotating&&this.fire(new at.Event("rotate",t)),this._pitching&&this.fire(new at.Event("pitch",t))},yr.prototype._afterEase=function(t){var e=this._zooming,n=this._rotating,r=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,e&&this.fire(new at.Event("zoomend",t)),n&&this.fire(new at.Event("rotateend",t)),r&&this.fire(new at.Event("pitchend",t)),this.fire(new at.Event("moveend",t))},yr.prototype.flyTo=function(t,i){var o=this;this.stop(),t=at.extend({offset:[0,0],speed:1.2,curve:1.42,easing:at.ease},t);var a=this.transform,s=this.getZoom(),l=this.getBearing(),u=this.getPitch(),c="zoom"in t?at.clamp(+t.zoom,a.minZoom,a.maxZoom):s,p="bearing"in t?this._normalizeBearing(t.bearing,l):l,h="pitch"in t?+t.pitch:u,e=a.zoomScale(c-s),f=a.centerPoint.add(at.Point.convert(t.offset)),n=a.pointLocation(f),d=F.convert(t.center||n);this._normalizeCenter(d);var m=a.project(n),v=a.project(d).sub(m),r=t.curve,y=Math.max(a.width,a.height),g=y/e,_=v.mag();if("minZoom"in t){var x=at.clamp(Math.min(t.minZoom,s,c),a.minZoom,a.maxZoom),b=y/a.zoomScale(x-s);r=Math.sqrt(b/_*2)}var w=r*r;function A(t){var e=(g*g-y*y+(t?-1:1)*w*w*_*_)/(2*(t?g:y)*w*_);return Math.log(Math.sqrt(e*e+1)-e)}function S(t){return(Math.exp(t)-Math.exp(-t))/2}function k(t){return(Math.exp(t)+Math.exp(-t))/2}var E=A(0),C=function(t){return k(E)/k(E+r*t)},T=function(t){return y*((k(E)*(S(e=E+r*t)/k(e))-S(E))/w)/_;var e},I=(A(1)-E)/r;if(Math.abs(_)<1e-6||!isFinite(I)){if(Math.abs(y-g)<1e-6)return this.easeTo(t,i);var z=g<y?-1:1;I=Math.abs(Math.log(g/y))/r,T=function(){return 0},C=function(t){return Math.exp(z*r*t)}}if("duration"in t)t.duration=+t.duration;else{var M="screenSpeed"in t?t.screenSpeed/r:+t.speed;t.duration=1e3*I/M}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=l!==p,this._pitching=h!==u,this._prepareEase(i,!1),this._ease(function(t){var e=t*I,n=1/C(e);a.zoom=1===t?c:s+a.scaleZoom(n),o._rotating&&(a.bearing=at.number(l,p,t)),o._pitching&&(a.pitch=at.number(u,h,t));var r=1===t?d:a.unproject(m.add(v.mult(T(e))).mult(n));a.setLocationAtPoint(a.renderWorldCopies?r.wrap():r,f),o._fireMoveEvents(i)},function(){return o._afterEase(i)},t),this},yr.prototype.isEasing=function(){return!!this._easeFrameId},yr.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},yr.prototype._ease=function(t,e,n){!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=at.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},yr.prototype._renderFrameCallback=function(){var t=Math.min((at.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},yr.prototype._normalizeBearing=function(t,e){t=at.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},yr.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=180<n?-360:n<-180?360:0}},yr);function yr(t,e){dr.call(this),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=e.bearingSnap,at.bindAll(["_renderFrameCallback"],this)}fr.prototype.getDefaultPosition=function(){return"bottom-right"},fr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},fr.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},fr.prototype._updateEditLink=function(){var t=this._editLink;t=t||(this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:h.ACCESS_TOKEN}];if(t){var e=r.reduce(function(t,e,n){return e.value&&(t+=e.key+"="+e.value+(n<r.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},fr.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},fr.prototype._updateAttributions=function(){if(this._map.style){var r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution):"string"==typeof this.options.customAttribution&&r.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var e=this._map.style.sourceCaches;for(var n in e){var i=e[n].getSource();i.attribution&&r.indexOf(i.attribution)<0&&r.push(i.attribution)}r.sort(function(t,e){return t.length-e.length}),(r=r.filter(function(t,e){for(var n=e+1;n<r.length;n++)if(0<=r[n].indexOf(t))return!1;return!0})).length?(this._container.innerHTML=r.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},fr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};function gr(){at.bindAll(["_updateLogo"],this),at.bindAll(["_updateCompact"],this)}gr.prototype.onAdd=function(t){this._map=t,this._container=y.create("div","mapboxgl-ctrl");var e=y.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},gr.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},gr.prototype.getDefaultPosition=function(){return"bottom-left"},gr.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},gr.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},gr.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};function _r(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}_r.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},_r.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},_r.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},_r.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xr=at.window.HTMLImageElement,br=at.window.HTMLElement,wr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Ar=function(s){function t(t){var e=this;if(null!=(t=at.extend({},wr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Kn(t.minZoom,t.maxZoom,t.renderWorldCopies);s.call(this,n,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new _r,this._controls=[];var r=t.transformRequest;if(this._transformRequest=r?function(t,e){return r(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof t.container){if(this._container=at.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof br))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),at.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return e._update(!1)}),this.on("zoom",function(){return e._update(!0)}),void 0!==at.window&&(at.window.addEventListener("online",this._onWindowOnline,!1),at.window.addEventListener("resize",this._onWindowResize,!1)),function(n,r){var i=n.getCanvasContainer(),o=null,a=!1,s=null;for(var t in mr)n[t]=new mr[t](n,r),r.interactive&&r[t]&&n[t].enable(r[t]);y.addEventListener(i,"mouseout",function(t){n.fire(new tr("mouseout",n,t))}),y.addEventListener(i,"mousedown",function(t){a=!0,s=y.mousePos(i,t);var e=new tr("mousedown",n,t);n.fire(e),e.defaultPrevented||(r.interactive&&!n.doubleClickZoom.isActive()&&n.stop(),n.boxZoom.onMouseDown(t),n.boxZoom.isActive()||n.dragPan.isActive()||n.dragRotate.onMouseDown(t),n.boxZoom.isActive()||n.dragRotate.isActive()||n.dragPan.onMouseDown(t))}),y.addEventListener(i,"mouseup",function(t){var e=n.dragRotate.isActive();o&&!e&&n.fire(new tr("contextmenu",n,o)),o=null,a=!1,n.fire(new tr("mouseup",n,t))}),y.addEventListener(i,"mousemove",function(t){if(!n.dragPan.isActive()&&!n.dragRotate.isActive()){for(var e=t.target;e&&e!==i;)e=e.parentNode;e===i&&n.fire(new tr("mousemove",n,t))}}),y.addEventListener(i,"mouseover",function(t){for(var e=t.target;e&&e!==i;)e=e.parentNode;e===i&&n.fire(new tr("mouseover",n,t))}),y.addEventListener(i,"touchstart",function(t){var e=new er("touchstart",n,t);n.fire(e),e.defaultPrevented||(r.interactive&&n.stop(),n.boxZoom.isActive()||n.dragRotate.isActive()||n.dragPan.onTouchStart(t),n.touchZoomRotate.onStart(t),n.doubleClickZoom.onTouchStart(e))},{passive:!1}),y.addEventListener(i,"touchmove",function(t){n.fire(new er("touchmove",n,t))},{passive:!1}),y.addEventListener(i,"touchend",function(t){n.fire(new er("touchend",n,t))}),y.addEventListener(i,"touchcancel",function(t){n.fire(new er("touchcancel",n,t))}),y.addEventListener(i,"click",function(t){var e=y.mousePos(i,t);(e.equals(s)||e.dist(s)<r.clickTolerance)&&n.fire(new tr("click",n,t))}),y.addEventListener(i,"dblclick",function(t){var e=new tr("dblclick",n,t);n.fire(e),e.defaultPrevented||n.doubleClickZoom.onDblClick(e)}),y.addEventListener(i,"contextmenu",function(t){var e=n.dragRotate.isActive();a||e?a&&(o=t):n.fire(new tr("contextmenu",n,t)),t.preventDefault()}),y.addEventListener(i,"wheel",function(t){r.interactive&&n.stop();var e=new nr("wheel",n,t);n.fire(e),e.defaultPrevented||n.scrollZoom.onWheel(t)},{passive:!1})}(this,t),this._hash=t.hash&&(new Yn).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new fr({customAttribution:t.customAttribution})),this.addControl(new gr,t.logoPosition),this.on("style.load",function(){e.transform.unmodified&&e.jumpTo(e.style.stylesheet)}),this.on("data",function(t){e._update("style"===t.dataType),e.fire(new at.Event(t.dataType+"data",t))}),this.on("dataloading",function(t){e.fire(new at.Event(t.dataType+"dataloading",t))})}s&&(t.__proto__=s);var e={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return((t.prototype=Object.create(s&&s.prototype)).constructor=t).prototype.addControl=function(t,e){if(void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right"),!t||!t.onAdd)return this.fire(new at.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new at.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var e=this._controls.indexOf(t);return-1<e&&this._controls.splice(e,1),t.onRemove(this),this},t.prototype.resize=function(t){var e=this._containerDimensions(),n=e[0],r=e[1];return this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r),this.fire(new at.Event("movestart",t)).fire(new at.Event("move",t)).fire(new at.Event("resize",t)).fire(new at.Event("moveend",t)),this},t.prototype.getBounds=function(){return this.transform.getBounds()},t.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},t.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(N.convert(t)),this._update()},t.prototype.setMinZoom=function(t){if(0<=(t=null==t?0:t)&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},t.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(t){return this.transform.locationPoint(F.convert(t))},t.prototype.unproject=function(t){return this.transform.pointLocation(at.Point.convert(t))},t.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},t.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},t.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},t.prototype.on=function(r,i,o){var t,a=this;if(void 0===o)return s.prototype.on.call(this,r,i);var e=function(){if("mouseenter"===r||"mouseover"===r){var n=!1;return{layer:i,listener:o,delegates:{mousemove:function(t){var e=a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length?n||(n=!0,o.call(a,new tr(r,a,t.originalEvent,{features:e}))):n=!1},mouseout:function(){n=!1}}}}if("mouseleave"!==r&&"mouseout"!==r)return{layer:i,listener:o,delegates:((t={})[r]=function(t){var e=a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length&&(t.features=e,o.call(a,t),delete t.features)},t)};var e=!1;return{layer:i,listener:o,delegates:{mousemove:function(t){(a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[]).length?e=!0:e&&(e=!1,o.call(a,new tr(r,a,t.originalEvent)))},mouseout:function(t){e&&(e=!1,o.call(a,new tr(r,a,t.originalEvent)))}}}}();for(var n in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[r]=this._delegatedListeners[r]||[],this._delegatedListeners[r].push(e),e.delegates)a.on(n,e.delegates[n]);return this},t.prototype.off=function(t,e,n){if(void 0===n)return s.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var r=this._delegatedListeners[t],i=0;i<r.length;i++){var o=r[i];if(o.layer===e&&o.listener===n){for(var a in o.delegates)this.off(a,o.delegates[a]);return r.splice(i,1),this}}return this},t.prototype.queryRenderedFeatures=function(t,e){if(!this.style)return[];var n;if(void 0!==e||void 0===t||t instanceof at.Point||Array.isArray(t)||(e=t,t=void 0),e=e||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof at.Point||"number"==typeof t[0])n=[at.Point.convert(t)];else{var r=at.Point.convert(t[0]),i=at.Point.convert(t[1]);n=[r,new at.Point(i.x,r.y),i,new at.Point(r.x,i.y),r]}return this.style.queryRenderedFeatures(n,e,this.transform)},t.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},t.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){at.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new sn(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)):delete this.style,this},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():at.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},t.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];if(void 0!==e)return e.loaded();this.fire(new at.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},t.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},t.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},t.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},t.prototype.getSource=function(t){return this.style.getSource(t)},t.prototype.addImage=function(t,e,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var i=n.sdf;if(void 0===i&&(i=!1),e instanceof xr){var o=at.browser.getImageData(e),a=o.width,s=o.height,l=o.data;this.style.addImage(t,{data:new at.RGBAImage({width:a,height:s},l),pixelRatio:r,sdf:i})}else{if(void 0===e.width||void 0===e.height)return this.fire(new at.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=e.width,c=e.height,p=e.data;this.style.addImage(t,{data:new at.RGBAImage({width:u,height:c},new Uint8Array(p)),pixelRatio:r,sdf:i})}},t.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new at.ErrorEvent(new Error("Missing required image id"))),!1)},t.prototype.removeImage=function(t){this.style.removeImage(t)},t.prototype.loadImage=function(t,e){at.getImage(this._transformRequest(t,at.ResourceType.Image),e)},t.prototype.listImages=function(){return this.style.listImages()},t.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},t.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},t.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},t.prototype.getLayer=function(t){return this.style.getLayer(t)},t.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0)},t.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},t.prototype.getFilter=function(t){return this.style.getFilter(t)},t.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0)},t.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},t.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0)},t.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},t.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0)},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},t.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},t.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==at.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&at.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},t.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=y.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=y.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=y.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=y.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=y.create("div","mapboxgl-ctrl-"+t,r)})},t.prototype._resizeCanvas=function(t,e){var n=at.window.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},t.prototype._setupPainter=function(){var t=at.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},n.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);e?this.painter=new qn(e,this.transform):this.fire(new at.ErrorEvent(new Error("Failed to initialize WebGL")))},t.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new at.Event("webglcontextlost",{originalEvent:t}))},t.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new at.Event("webglcontextrestored",{originalEvent:t}))},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},t.prototype._update=function(t){return this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender()),this},t.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},t.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},t.prototype._render=function(){this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,n=at.browser.now();this.style.zoomHistory.update(e,n);var r=new at.EvaluationParameters(e,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(r)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new at.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new at.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==at.window&&(at.window.removeEventListener("resize",this._onWindowResize,!1),at.window.removeEventListener("online",this._onWindowOnline,!1));for(var t=0,e=this._controls;t<e.length;t+=1)e[t].onRemove(this);this._controls=[];var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Sr(this._canvasContainer),Sr(this._controlContainer),Sr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new at.Event("remove"))},t.prototype._rerender=function(){var t=this;this.style&&!this._frame&&(this._frame=at.browser.frame(function(){t._frame=null,t._render()}))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},e.showTileBoundaries.get=function(){return!!this._showTileBoundaries},e.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},e.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},e.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&((this._showCollisionBoxes=t)?this.style._generateCollisionBoxes():this._update())},e.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},e.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},e.repaint.get=function(){return!!this._repaint},e.repaint.set=function(t){this._repaint=t,this._update()},e.vertices.get=function(){return!!this._vertices},e.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(t.prototype,e),t}(vr);function Sr(t){t.parentNode&&t.parentNode.removeChild(t)}function kr(t){var e=this;this.options=at.extend({},Er,t),this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()})),this.options.showCompass&&(at.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=y.create("span","mapboxgl-ctrl-compass-arrow",this._compass))}var Er={showCompass:!0,showZoom:!0};function Cr(t,e,n){if(t=new F(t.lng,t.lat),e){var r=new F(t.lng-360,t.lat),i=new F(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(e);n.locationPoint(r).distSqr(e)<o?t=r:n.locationPoint(i).distSqr(e)<o&&(t=i)}for(;180<Math.abs(t.lng-n.center.lng);){var a=n.locationPoint(t);if(0<=a.x&&0<=a.y&&a.x<=n.width&&a.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}kr.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},kr.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ir(t,{button:"left",element:this._compass}),y.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},kr.prototype.onRemove=function(){y.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),y.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},kr.prototype._createButton=function(t,e,n){var r=y.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",n),r};var Tr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ir(t,e,n){var r=t.classList;for(var i in Tr)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var zr,Mr,Pr=((Mr=at.Evented)&&(Lr.__proto__=Mr),((Lr.prototype=Object.create(Mr&&Mr.prototype)).constructor=Lr).prototype.addTo=function(t){return this.remove(),(this._map=t).getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Lr.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this},Lr.prototype.getLngLat=function(){return this._lngLat},Lr.prototype.setLngLat=function(t){return this._lngLat=F.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Lr.prototype.getElement=function(){return this._element},Lr.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},Lr.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},Lr.prototype.getPopup=function(){return this._popup},Lr.prototype.togglePopup=function(){var t=this._popup;return t&&(t.isOpen()?t.remove():t.addTo(this._map)),this},Lr.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Cr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),y.setTransform(this._element,Tr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),Ir(this._element,this._anchor,"marker"))},Lr.prototype.getOffset=function(){return this._offset},Lr.prototype.setOffset=function(t){return this._offset=at.Point.convert(t),this._update(),this},Lr.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new at.Event("dragstart"))),this.fire(new at.Event("drag"))},Lr.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new at.Event("dragend")),this._state="inactive"},Lr.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Lr.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Lr.prototype.isDraggable=function(){return this._draggable},Lr),Or={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};function Lr(t){if(Mr.call(this),(arguments[0]instanceof at.window.HTMLElement||2===arguments.length)&&(t=at.extend({element:t},arguments[1])),at.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._draggable=t&&t.draggable||!1,this._state="inactive",t&&t.element)this._element=t.element,this._offset=at.Point.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div");var e=y.createNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS(null,"height","41px"),e.setAttributeNS(null,"width","27px"),e.setAttributeNS(null,"viewBox","0 0 27 41");var n=y.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var r=y.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"fill-rule","nonzero");var i=y.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"transform","translate(3.0, 29.0)"),i.setAttributeNS(null,"fill","#000000");for(var o=0,a=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];o<a.length;o+=1){var s=a[o],l=y.createNS("http://www.w3.org/2000/svg","ellipse");l.setAttributeNS(null,"opacity","0.04"),l.setAttributeNS(null,"cx","10.5"),l.setAttributeNS(null,"cy","5.80029008"),l.setAttributeNS(null,"rx",s.rx),l.setAttributeNS(null,"ry",s.ry),i.appendChild(l)}var u=y.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);var c=y.createNS("http://www.w3.org/2000/svg","path");c.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(c);var p=y.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"opacity","0.25"),p.setAttributeNS(null,"fill","#000000");var h=y.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),p.appendChild(h);var f=y.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");var d=y.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate(8.0, 8.0)");var m=y.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");var v=y.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),d.appendChild(m),d.appendChild(v),r.appendChild(i),r.appendChild(u),r.appendChild(p),r.appendChild(f),r.appendChild(d),e.appendChild(r),this._element.appendChild(e),this._offset=at.Point.convert(t&&t.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}function Dr(t){this.options=at.extend({},Fr,t),at.bindAll(["_onMove","setUnit"],this)}var Rr,Br=((Rr=at.Evented)&&(Nr.__proto__=Rr),((Nr.prototype=Object.create(Rr&&Rr.prototype)).constructor=Nr).prototype.onAdd=function(t){var e;return this._map=t,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),e=this._setupUI,void 0!==zr?e(zr):void 0!==at.window.navigator.permissions?at.window.navigator.permissions.query({name:"geolocation"}).then(function(t){zr="denied"!==t.state,e(zr)}):(zr=!!at.window.navigator.geolocation,e(zr)),this._container},Nr.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(at.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),y.remove(this._container),this._map=void 0},Nr.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new at.Event("geolocate",t)),this._finish()},Nr.prototype._updateCamera=function(t){var e=new F(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},Nr.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},Nr.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new at.Event("error",t)),this._finish()},Nr.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Nr.prototype._setupUI=function(t){var e=this;!1!==t?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=y.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Pr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire(new at.Event("trackuserlocationend")))})):at.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},Nr.prototype.trigger=function(){if(!this._setup)return at.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new at.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new at.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new at.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=at.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else at.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Nr.prototype._clearWatch=function(){at.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Nr),Fr={maxWidth:100,unit:"metric"};function Nr(t){Rr.call(this),this.options=at.extend({},Or,t),at.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}function Vr(t,e,n){var r,i,o,a,s,l,u=n&&n.maxWidth||100,c=t._container.clientHeight/2,p=(r=t.unproject([0,c]),i=t.unproject([u,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(l,1)));if(n&&"imperial"===n.unit){var h=3.2808*p;5280<h?jr(e,u,h/5280,"mi"):jr(e,u,h,"ft")}else n&&"nautical"===n.unit?jr(e,u,p/1852,"nm"):jr(e,u,p,"m")}function jr(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=10<=(a=i/o)?10:5<=a?5:3<=a?3:2<=a?2:1)),l=s/n;"m"===r&&1e3<=s&&(s/=1e3,r="km"),t.style.width=e*l+"px",t.innerHTML=s+r}Dr.prototype.getDefaultPosition=function(){return"bottom-left"},Dr.prototype._onMove=function(){Vr(this._map,this._container,this.options)},Dr.prototype.onAdd=function(t){return this._map=t,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Dr.prototype.onRemove=function(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Dr.prototype.setUnit=function(t){this.options.unit=t,Vr(this._map,this._container,this.options)};function $r(){this._fullscreen=!1,at.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in at.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in at.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in at.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in at.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"}$r.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=y.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",at.warnOnce("This device does not support fullscreen mode.")),this._container},$r.prototype.onRemove=function(){y.remove(this._container),this._map=null,at.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$r.prototype._checkFullscreenSupport=function(){return!!(at.window.document.fullscreenEnabled||at.window.document.mozFullScreenEnabled||at.window.document.msFullscreenEnabled||at.window.document.webkitFullscreenEnabled)},$r.prototype._setupUI=function(){var t=this._fullscreenButton=y.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),at.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$r.prototype._isFullscreen=function(){return this._fullscreen},$r.prototype._changeIcon=function(){(at.window.document.fullscreenElement||at.window.document.mozFullScreenElement||at.window.document.webkitFullscreenElement||at.window.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},$r.prototype._onClickFullscreen=function(){this._isFullscreen()?at.window.document.exitFullscreen?at.window.document.exitFullscreen():at.window.document.mozCancelFullScreen?at.window.document.mozCancelFullScreen():at.window.document.msExitFullscreen?at.window.document.msExitFullscreen():at.window.document.webkitCancelFullScreen&&at.window.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Ur,qr={closeButton:!0,closeOnClick:!0,className:""},Zr=((Ur=at.Evented)&&(Gr.__proto__=Ur),((Gr.prototype=Object.create(Ur&&Ur.prototype)).constructor=Gr).prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new at.Event("open")),this},Gr.prototype.isOpen=function(){return!!this._map},Gr.prototype.remove=function(){return this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new at.Event("close")),this},Gr.prototype.getLngLat=function(){return this._lngLat},Gr.prototype.setLngLat=function(t){return this._lngLat=F.convert(t),this._pos=null,this._update(),this},Gr.prototype.setText=function(t){return this.setDOMContent(at.window.document.createTextNode(t))},Gr.prototype.setHTML=function(t){var e,n=at.window.document.createDocumentFragment(),r=at.window.document.createElement("body");for(r.innerHTML=t;e=r.firstChild;)n.appendChild(e);return this.setDOMContent(n)},Gr.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},Gr.prototype._createContent=function(){this._content&&y.remove(this._content),this._content=y.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=y.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},Gr.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=y.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=y.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=Cr(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),n=this.options.anchor,r=function t(e){if(e){if("number"==typeof e){var n=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new at.Point(0,0),top:new at.Point(0,e),"top-left":new at.Point(n,n),"top-right":new at.Point(-n,n),bottom:new at.Point(0,-e),"bottom-left":new at.Point(n,-n),"bottom-right":new at.Point(-n,-n),left:new at.Point(e,0),right:new at.Point(-e,0)}}if(e instanceof at.Point||Array.isArray(e)){var r=at.Point.convert(e);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:at.Point.convert(e.center||[0,0]),top:at.Point.convert(e.top||[0,0]),"top-left":at.Point.convert(e["top-left"]||[0,0]),"top-right":at.Point.convert(e["top-right"]||[0,0]),bottom:at.Point.convert(e.bottom||[0,0]),"bottom-left":at.Point.convert(e["bottom-left"]||[0,0]),"bottom-right":at.Point.convert(e["bottom-right"]||[0,0]),left:at.Point.convert(e.left||[0,0]),right:at.Point.convert(e.right||[0,0])}}return t(new at.Point(0,0))}(this.options.offset);if(!n){var i,o=this._container.offsetWidth,a=this._container.offsetHeight;i=t.y+r.bottom.y<a?["top"]:t.y>this._map.transform.height-a?["bottom"]:[],t.x<o/2?i.push("left"):t.x>this._map.transform.width-o/2&&i.push("right"),n=0===i.length?"bottom":i.join("-")}var s=t.add(r[n]).round();y.setTransform(this._container,Tr[n]+" translate("+s.x+"px,"+s.y+"px)"),Ir(this._container,n,"popup")}},Gr.prototype._onClickClose=function(){this.remove()},Gr);function Gr(t){Ur.call(this),this.options=at.extend(Object.create(qr),t),at.bindAll(["_update","_onClickClose"],this)}var Hr={version:"0.49.0",supported:n,setRTLTextPlugin:at.setRTLTextPlugin,Map:Ar,NavigationControl:kr,GeolocateControl:Br,AttributionControl:fr,ScaleControl:Dr,FullscreenControl:$r,Popup:Zr,Marker:Pr,Style:sn,LngLat:F,LngLatBounds:N,Point:at.Point,Evented:at.Evented,config:h,get accessToken(){return h.ACCESS_TOKEN},set accessToken(t){h.ACCESS_TOKEN=t},get workerCount(){return se.workerCount},set workerCount(t){se.workerCount=t},workerUrl:""};return Hr}),a},"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):r.mapboxgl=i()},{}],11:[function(i,o,a){!function(t,e){if("object"==typeof a&&"object"==typeof o)o.exports=e(i("countup.js"));else if("function"==typeof define&&define.amd)define(["countup.js"],e);else{var n=e("object"==typeof a?i("countup.js"):t.CountUp);for(var r in n)("object"==typeof a?a:t)[r]=n[r]}}("undefined"!=typeof self?self:this,function(n){return o={},r.m=i=[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s={__countup__:a.a,name:"ICountUp",props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,required:!1,default:0},duration:{type:Number,required:!1,default:2},options:{type:Object,required:!1}},data:function(){return{instance:null}},watch:{endVal:{handler:function(t){this.instance&&i()(this.instance.update)&&this.instance.update(t)},deep:!1}},methods:{init:function(){var t=this;if(!t.instance){var e=t.$el,n=new a.a(e,t.startVal,t.endVal,t.decimals,t.duration,t.options);n.error||(n.start(function(){return t.$emit("ready",n,a.a)}),t.instance=n)}},uninit:function(){this.instance=null},start:function(t){if(this.instance&&i()(this.instance.start)&&i()(t))return this.instance.start(t)},pauseResume:function(){if(this.instance&&i()(this.instance.pauseResume))return this.instance.pauseResume()},reset:function(){if(this.instance&&i()(this.instance.reset))return this.instance.reset()},update:function(t){if(this.instance&&i()(this.instance.update))return this.instance.update(t)}},mounted:function(){this.init()},beforeDestroy:function(){this.uninit()},render:function(t){return t("span",{})}};e.default=s},function(t,e,n){var r=n(2),i=n(3);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=n}],r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0);function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,o})},{"countup.js":9}],12:[function(t,e,r){var s,u=Object.create(null),i=!1,l=!1;function o(t){var l=t.unbuild;t.unbuild=function(t){if(!this.hotUpdating){var e=this.childVM&&this.childVM.constructor;a=this,(s=(o=e)&&o.options.hotID)&&u[s].views.$remove(a),t&&(n=this.Component,r=this,(i=n&&n.options.hotID)&&(u[i]||(u[i]={Component:n,views:[],instances:[]}),u[i].views.push(r)))}var n,r,i,o,a,s;return l.call(this,t)}}function c(e,t){t.hotID=e,n(t,"created",function(){var t=u[e];t.Component||(t.Component=this.constructor),t.instances.push(this)}),n(t,"beforeDestroy",function(){u[e].instances.$remove(this)})}function n(t,e,n){var r=t[e];t[e]=r?Array.isArray(r)?r.concat(n):[r,n]:[n]}function p(t){return{cid:t.constructor.cid,data:t.$data,children:t.$children.map(p)}}r.install=function(t,e){if(!i)if(i=!0,s=t,l=e,r.compatible=!!s.internalDirectives,r.compatible){o(s.internalDirectives.component),console.log("[HMR] Vue component hot reload shim applied.");var n=s.elementDirective("router-view");n&&(o(n),console.log("[HMR] vue-router <router-view> hot reload shim applied."))}else console.warn("[HMR] vue-loader hot reload is only compatible with Vue.js 1.0.0+.")},r.createRecord=function(t,e){"function"==typeof e&&(e=e.options),"string"!=typeof e.el&&"object"!=typeof e.data&&(c(t,e),u[t]={Component:null,views:[],instances:[]})},r.update=function(t,e,n){var r,i,o=u[t];if(!o||o.instances.length&&!o.views.length){if(console.log("[HMR] Root or manually-mounted instance modified. Full reload may be required."),l)return;window.location.reload()}l||console.log("[HMR] Updating component: "+((i=(r=t).match(/[^\/]+\.vue$/))?i[0]:r));var a=o.Component;e&&c(t,(a=o.Component="function"==typeof e?e:s.extend(e)).options),n&&(a.options.template=n),a.options.name&&(a.options.components[a.options.name]=a),a.linker=null,o.views.forEach(function(t){!function(t,e){if(!t._bound)return;t.Component=e,t.hotUpdating=!0,t.vm._isCompiled=!1;var n=p(t.childVM),r=t.keepAlive;t.keepAlive=!1,t.mountComponent(),t.keepAlive=r,function n(e,r,t){var i;t&&(i=s.config.async,s.config.async=!1);t||!e._props?e.$data=r.data:Object.keys(r.data).forEach(function(t){e._props[t]||(e.$data[t]=r.data[t])});var o=e.$children.every(function(t,e){return r.children[e]&&r.children[e].cid===t.constructor.cid});o&&e.$children.forEach(function(t,e){n(t,r.children[e])});t&&(s.config.async=i)}(t.childVM,n,!0),t.vm._isCompiled=!0,t.hotUpdating=!1}(t,a)}),window.__VUE_DEVTOOLS_GLOBAL_HOOK__&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__.emit("flush")}},{}],13:[function(t,n,r){(function(ll){var t,e;t=this,e=function(){"use strict";var y=Object.freeze({});function D(t){return null==t}function R(t){return null!=t}function L(t){return!0===t}function m(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function B(t){return null!==t&&"object"==typeof t}var e=Object.prototype.toString;function p(t){return e.call(t).slice(8,-1)}function l(t){return"[object Object]"===e.call(t)}function i(t){return"[object RegExp]"===e.call(t)}function o(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function g(t){return R(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function n(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===e?JSON.stringify(t,null,2):String(t)}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function u(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var r=u("slot,component",!0),c=u("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}var a=Object.prototype.hasOwnProperty;function x(t,e){return a.call(t,e)}function t(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var s=/-(\w)/g,b=t(function(t){return t.replace(s,function(t,e){return e?e.toUpperCase():""})}),h=t(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),f=/\B([A-Z])/g,w=t(function(t){return t.replace(f,"-$1").toLowerCase()});var d=Function.prototype.bind?function(t,e){return t.bind(e)}:function(n,r){function t(t){var e=arguments.length;return e?1<e?n.apply(r,arguments):n.call(r,t):n.call(r)}return t._length=n.length,t};function v(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function A(t,e){for(var n in e)t[n]=e[n];return t}function S(t){for(var e={},n=0;n<t.length;n++)t[n]&&A(e,t[n]);return e}function k(t,e,n){}var C=function(t,e,n){return!1},E=function(t){return t};function T(e,n){if(e===n)return!0;var t=B(e),r=B(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var i=Array.isArray(e),o=Array.isArray(n);if(i&&o)return e.length===n.length&&e.every(function(t,e){return T(t,n[e])});if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(t){return T(e[t],n[t])})}catch(t){return!1}}function I(t,e){for(var n=0;n<t.length;n++)if(T(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var V="data-server-rendered",z=["component","directive","filter"],M=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:C,isReservedAttr:C,isUnknownElement:C,getTagNamespace:k,parsePlatformTagName:E,mustUseProp:C,async:!0,_lifecycleHooks:M},P=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function O(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function $(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var U=new RegExp("[^"+P.source+".$_\\d]");var q,Z="__proto__"in{},G="undefined"!=typeof window,H="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,W=H&&WXEnvironment.platform.toLowerCase(),X=G&&window.navigator.userAgent.toLowerCase(),K=X&&/msie|trident/.test(X),J=X&&0<X.indexOf("msie 9.0"),Y=X&&0<X.indexOf("edge/"),Q=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===W),tt=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(G)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===q&&(q=!G&&!H&&void 0!==ll&&(ll.process&&"server"===ll.process.env.VUE_ENV)),q},ot=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,lt="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);st="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=k,ct=k,pt=k,ht=k,ft="undefined"!=typeof console,dt=/(?:^|[-_])(\w)/g;ut=function(t,e){var n=e?pt(e):"";j.warnHandler?j.warnHandler.call(null,t,e,n):ft&&!j.silent&&console.error("[Vue warn]: "+t+n)},ct=function(t,e){ft&&!j.silent&&console.warn("[Vue tip]: "+t+(e?pt(e):""))},ht=function(t,e){if(t.$root===t)return"<Root>";var n="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t,r=n.name||n._componentTag,i=n.__file;if(!r&&i){var o=i.match(/([^/\\]+)\.vue$/);r=o&&o[1]}return(r?"<"+r.replace(dt,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")+">":"<Anonymous>")+(i&&!1!==e?" at "+i:"")};pt=function(t){if(t._isVue&&t.$parent){for(var e=[],n=0;t;){if(0<e.length){var r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}0<n&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(0===e?"---\x3e ":function(t,e){for(var n="";e;)e%2==1&&(n+=t),1<e&&(t+=t),e>>=1;return n}(" ",5+2*e))+(Array.isArray(t)?ht(t[0])+"... ("+t[1]+" recursive calls)":ht(t))}).join("\n")}return"\n\n(found in "+ht(t)+")"};var mt=0,vt=function(){this.id=mt++,this.subs=[]};vt.prototype.addSub=function(t){this.subs.push(t)},vt.prototype.removeSub=function(t){_(this.subs,t)},vt.prototype.depend=function(){vt.target&&vt.target.addDep(this)},vt.prototype.notify=function(){var t=this.subs.slice();j.async||t.sort(function(t,e){return t.id-e.id});for(var e=0,n=t.length;e<n;e++)t[e].update()},vt.target=null;var yt=[];function gt(t){yt.push(t),vt.target=t}function _t(){yt.pop(),vt.target=yt[yt.length-1]}var xt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(xt.prototype,bt);var wt=function(t){void 0===t&&(t="");var e=new xt;return e.text=t,e.isComment=!0,e};function At(t){return new xt(void 0,void 0,void 0,String(t))}function St(t){var e=new xt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var kt=Array.prototype,Et=Object.create(kt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var a=kt[o];$(Et,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=a.apply(this,t),i=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&i.observeArray(n),i.dep.notify(),r})});var Ct=Object.getOwnPropertyNames(Et),Tt=!0;function It(t){Tt=t}var zt=function(t){var e;this.value=t,this.dep=new vt,this.vmCount=0,$(t,"__ob__",this),Array.isArray(t)?(Z?(e=Et,t.__proto__=e):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];$(t,o,e[o])}}(t,Et,Ct),this.observeArray(t)):this.walk(t)};function Mt(t,e){var n;if(B(t)&&!(t instanceof xt))return x(t,"__ob__")&&t.__ob__ instanceof zt?n=t.__ob__:Tt&&!it()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new zt(t)),e&&n&&n.vmCount++,n}function Pt(n,t,r,i,o){var a=new vt,e=Object.getOwnPropertyDescriptor(n,t);if(!e||!1!==e.configurable){var s=e&&e.get,l=e&&e.set;s&&!l||2!==arguments.length||(r=n[t]);var u=!o&&Mt(r);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(n):r;return vt.target&&(a.depend(),u&&(u.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=s?s.call(n):r;t===e||t!=t&&e!=e||(i&&i(),s&&!l||(l?l.call(n,t):r=t,u=!o&&Mt(t),a.notify()))}})}}function Ot(t,e,n){if((D(t)||m(t))&&ut("Cannot set reactive property on undefined, null, or primitive value: "+t),Array.isArray(t)&&o(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var r=t.__ob__;return t._isVue||r&&r.vmCount?(ut("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(Pt(r.value,e,n),r.dep.notify(),n):t[e]=n}function Lt(t,e){if((D(t)||m(t))&&ut("Cannot delete reactive property on undefined, null, or primitive value: "+t),Array.isArray(t)&&o(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount?ut("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):x(t,e)&&(delete t[e],n&&n.dep.notify())}}zt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},zt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Mt(t[e])};var Dt=j.optionMergeStrategies;function Rt(t,e){if(!e)return t;for(var n,r,i,o=lt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],x(t,n)?r!==i&&l(r)&&l(i)&&Rt(r,i):Ot(t,n,i));return t}function Bt(n,r,i){return i?function(){var t="function"==typeof r?r.call(i,i):r,e="function"==typeof n?n.call(i,i):n;return t?Rt(t,e):e}:r?n?function(){return Rt("function"==typeof r?r.call(this,this):r,"function"==typeof n?n.call(this,this):n)}:r:n}function Ft(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Nt(t,e,n,r){var i=Object.create(t||null);return e?($t(r,e,n),A(i,e)):i}Dt.el=Dt.propsData=function(t,e,n,r){return n||ut('option "'+r+'" can only be used during instance creation with the `new` keyword.'),Vt(t,e)},Dt.data=function(t,e,n){return n?Bt(t,e,n):e&&"function"!=typeof e?(ut('The "data" option should be a function that returns a per-instance value in component definitions.',n),t):Bt(t,e)},M.forEach(function(t){Dt[t]=Ft}),z.forEach(function(t){Dt[t+"s"]=Nt}),Dt.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if($t(r,e,n),!t)return e;var i={};for(var o in A(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,e,n,r){if(e&&$t(r,e,n),!t)return e;var i=Object.create(null);return A(i,t),e&&A(i,e),i},Dt.provide=Bt;var Vt=function(t,e){return void 0===e?t:e};function jt(t){new RegExp("^[a-zA-Z][\\-\\.0-9_"+P.source+"]*$").test(t)||ut('Invalid component name: "'+t+'". Component names should conform to valid custom element name in html5 specification.'),(r(t)||j.isReservedTag(t))&&ut("Do not use built-in or reserved HTML elements as component id: "+t)}function $t(t,e,n){l(e)||ut('Invalid value for option "'+t+'": expected an Object, but got '+p(e)+".",n)}function Ut(n,r,i){if(!function(t){for(var e in t.components)jt(e)}(r),"function"==typeof r&&(r=r.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])?o[b(i)]={type:null}:ut("props must be strings when using array syntax.");else if(l(n))for(var a in n)i=n[a],o[b(a)]=l(i)?i:{type:i};else ut('Invalid value for option "props": expected an Array or an Object, but got '+p(n)+".",e);t.props=o}}(r,i),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?A({from:o},a):{from:a}}else ut('Invalid value for option "inject": expected an Array or an Object, but got '+p(n)+".",e)}}(r,i),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(r),!r._base&&(r.extends&&(n=Ut(n,r.extends,i)),r.mixins))for(var t=0,e=r.mixins.length;t<e;t++)n=Ut(n,r.mixins[t],i);var o,a={};for(o in n)s(o);for(o in r)x(n,o)||s(o);function s(t){var e=Dt[t]||Vt;a[t]=e(n[t],r[t],i,t)}return a}function qt(t,e,n,r){if("string"==typeof n){var i=t[e];if(x(i,n))return i[n];var o=b(n);if(x(i,o))return i[o];var a=h(o);if(x(i,a))return i[a];var s=i[n]||i[o]||i[a];return r&&!s&&ut("Failed to resolve "+e.slice(0,-1)+": "+n,t),s}}function Zt(t,e,n,r){var i=e[t],o=!x(n,t),a=n[t],s=Kt(Boolean,i.type);if(-1<s)if(o&&!x(i,"default"))a=!1;else if(""===a||a===w(t)){var l=Kt(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!x(e,"default"))return;var r=e.default;B(r)&&ut('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',t);if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Wt(e.type)?r.call(t):r}(r,i,t);var u=Tt;It(!0),Mt(a),It(u)}return function(t,e,n,r,i){if(t.required&&i)return ut('Missing required prop: "'+e+'"',r);if(null==n&&!t.required)return;var o=t.type,a=!o||!0===o,s=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!a;l++){var u=Ht(n,o[l]);s.push(u.expectedType||""),a=u.valid}}if(!a)return ut(function(t,e,n){var r='Invalid prop: type check failed for prop "'+t+'". Expected '+n.map(h).join(", "),i=n[0],o=p(e),a=Jt(e,i),s=Jt(e,o);1===n.length&&Yt(i)&&!function(){var t=[],e=arguments.length;for(;e--;)t[e]=arguments[e];return t.some(function(t){return"boolean"===t.toLowerCase()})}(i,o)&&(r+=" with value "+a);r+=", got "+o+" ",Yt(o)&&(r+="with value "+s+".");return r}(e,n,s),r);var c=t.validator;c&&(c(n)||ut('Invalid prop: custom validator check failed for prop "'+e+'".',r))}(i,t,a,r,o),a}var Gt=/^(String|Number|Boolean|Function|Symbol)$/;function Ht(t,e){var n,r=Wt(e);if(Gt.test(r)){var i=typeof t;(n=i===r.toLowerCase())||"object"!=i||(n=t instanceof e)}else n="Object"===r?l(t):"Array"===r?Array.isArray(t):t instanceof e;return{valid:n,expectedType:r}}function Wt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Xt(t,e){return Wt(t)===Wt(e)}function Kt(t,e){if(!Array.isArray(e))return Xt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Xt(e[n],t))return n;return-1}function Jt(t,e){return"String"===e?'"'+t+'"':"Number"===e?""+Number(t):""+t}function Yt(e){return["string","number","boolean"].some(function(t){return e.toLowerCase()===t})}function Qt(t,e,n){gt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){ee(t,r,"errorCaptured hook")}}ee(t,e,n)}finally{_t()}}function te(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&g(o)&&!o._handled&&(o.catch(function(t){return Qt(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){Qt(t,r,i)}return o}function ee(e,t,n){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,n)}catch(t){t!==e&&ne(t,null,"config.errorHandler")}ne(e,t,n)}function ne(t,e,n){if(ut("Error in "+n+': "'+t.toString()+'"',e),!G&&!H||"undefined"==typeof console)throw t;console.error(t)}var re,ie,oe,ae=!1,se=[],le=!1;function ue(){le=!1;for(var t=se.slice(0),e=se.length=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var ce=Promise.resolve();re=function(){ce.then(ue),Q&&setTimeout(k)},ae=!0}else if(K||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())re="undefined"!=typeof setImmediate&&at(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var pe=1,he=new MutationObserver(ue),fe=document.createTextNode(String(pe));he.observe(fe,{characterData:!0}),re=function(){pe=(pe+1)%2,fe.data=String(pe)},ae=!0}function de(t,e){var n;if(se.push(function(){if(t)try{t.call(e)}catch(t){Qt(t,e,"nextTick")}else n&&n(e)}),le||(le=!0,re()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var me,ve=G&&window.performance;ve&&ve.mark&&ve.measure&&ve.clearMarks&&ve.clearMeasures&&(ie=function(t){return ve.mark(t)},oe=function(t,e,n){ve.measure(t,e,n),ve.clearMarks(e),ve.clearMarks(n)});function ye(t,e){ut('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',t)}function ge(t,e){ut('Property "'+e+'" must be accessed with "$data.'+e+'" because properties starting with "$" or "_" are not proxied in the Vue instance to prevent conflicts with Vue internals. See: https://vuejs.org/v2/api/#data',t)}var _e=u("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),xe="undefined"!=typeof Proxy&&at(Proxy);if(xe){var be=u("stop,prevent,self,ctrl,shift,alt,meta,exact");j.keyCodes=new Proxy(j.keyCodes,{set:function(t,e,n){return be(e)?(ut("Avoid overwriting built-in modifier in config.keyCodes: ."+e),!1):(t[e]=n,!0)}})}var we={has:function(t,e){var n=e in t,r=_e(e)||"string"==typeof e&&"_"===e.charAt(0)&&!(e in t.$data);return n||r||(e in t.$data?ge:ye)(t,e),n||!r}},Ae={get:function(t,e){return"string"!=typeof e||e in t||(e in t.$data?ge:ye)(t,e),t[e]}};me=function(t){if(xe){var e=t.$options,n=e.render&&e.render._withStripped?Ae:we;t._renderProxy=new Proxy(t,n)}else t._renderProxy=t};var Se=new st;function ke(t){!function t(e,n){var r,i;var o=Array.isArray(e);if(!o&&!B(e)||Object.isFrozen(e)||e instanceof xt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,Se),Se.clear()}var Ee=t(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function Ce(t,i){function o(){var t=arguments,e=o.fns;if(!Array.isArray(e))return te(e,null,arguments,i,"v-on handler");for(var n=e.slice(),r=0;r<n.length;r++)te(n[r],null,t,i,"v-on handler")}return o.fns=t,o}function Te(t,e,n,r,i,o){var a,s,l,u;for(a in t)s=t[a],l=e[a],u=Ee(a),D(s)?ut('Invalid handler for event "'+u.name+'": got '+String(s),o):D(l)?(D(s.fns)&&(s=t[a]=Ce(s,o)),L(u.once)&&(s=t[a]=i(u.name,s,u.capture)),n(u.name,s,u.capture,u.passive,u.params)):s!==l&&(l.fns=s,t[a]=l);for(a in e)D(t[a])&&r((u=Ee(a)).name,e[a],u.capture)}function Ie(t,e,n){var r;t instanceof xt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),_(r.fns,o)}D(i)?r=Ce([o]):R(i.fns)&&L(i.merged)?(r=i).fns.push(o):r=Ce([i,o]),r.merged=!0,t[e]=r}function ze(t,e,n,r,i){if(R(e)){if(x(e,n))return t[n]=e[n],i||delete e[n],1;if(x(e,r))return t[n]=e[r],i||delete e[r],1}}function Me(t){return m(t)?[At(t)]:Array.isArray(t)?function t(e,n){var r=[];var i,o,a,s;for(i=0;i<e.length;i++)D(o=e[i])||"boolean"==typeof o||(a=r.length-1,s=r[a],Array.isArray(o)?0<o.length&&(Pe((o=t(o,(n||"")+"_"+i))[0])&&Pe(s)&&(r[a]=At(s.text+o[0].text),o.shift()),r.push.apply(r,o)):m(o)?Pe(s)?r[a]=At(s.text+o):""!==o&&r.push(At(o)):Pe(o)&&Pe(s)?r[a]=At(s.text+o.text):(L(e._isVList)&&R(o.tag)&&D(o.key)&&R(n)&&(o.key="__vlist"+n+"_"+i+"__"),r.push(o)));return r}(t):void 0}function Pe(t){return R(t)&&R(t.text)&&!1===t.isComment}function Oe(t,e){if(t){for(var n=Object.create(null),r=lt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&x(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;n[o]="function"==typeof l?l.call(e):l}else ut('Injection "'+o+'" not found',e)}}return n}}function Le(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(De)&&delete n[u];return n}function De(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Re(t,e,n){var r,i=0<Object.keys(e).length,o=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==y&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var s in r={},t)t[s]&&"$"!==s[0]&&(r[s]=Be(e,s,t[s]))}else r={};for(var l in e)l in r||(r[l]=Fe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),$(r,"$stable",o),$(r,"$key",a),$(r,"$hasNormal",i),r}function Be(t,e,n){function r(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:Me(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t}return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Fe(t,e){return function(){return t[e]}}function Ne(t,e){var n,r,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(B(t))if(lt&&t[Symbol.iterator]){n=[];for(var s=t[Symbol.iterator](),l=s.next();!l.done;)n.push(e(l.value,n.length)),l=s.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return R(n)||(n=[]),n._isVList=!0,n}function Ve(t,e,n,r){var i,o=this.$scopedSlots[t];i=o?(n=n||{},r&&(B(r)||ut("slot v-bind without argument expects an Object",this),n=A(A({},r),n)),o(n)||e):this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function je(t){return qt(this.$options,"filters",t,!0)||E}function $e(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ue(t,e,n,r,i){var o=j.keyCodes[e]||n;return i&&r&&!j.keyCodes[e]?$e(i,r):o?$e(o,t):r?w(r)!==e:void 0}function qe(i,o,a,s,l){if(a)if(B(a)){var u;Array.isArray(a)&&(a=S(a));var t=function(e){if("class"===e||"style"===e||c(e))u=i;else{var t=i.attrs&&i.attrs.type;u=s||j.mustUseProp(o,t,e)?i.domProps||(i.domProps={}):i.attrs||(i.attrs={})}var n=b(e),r=w(e);n in u||r in u||(u[e]=a[e],l&&((i.on||(i.on={}))["update:"+e]=function(t){a[e]=t}))};for(var e in a)t(e)}else ut("v-bind without argument expects an Object or Array value",this);return i}function Ze(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||He(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Ge(t,e,n){return He(t,"__once__"+e+(n?"_"+n:""),!0),t}function He(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&We(t[r],e+"_"+r,n);else We(t,e,n)}function We(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Xe(t,e){if(e)if(l(e)){var n=t.on=t.on?A({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else ut("v-on without argument expects an Object value",this);return t}function Ke(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Ke(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Je(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r?t[e[n]]=e[n+1]:""!==r&&null!==r&&ut("Invalid value for dynamic directive argument (expected string or null): "+r,this)}return t}function Ye(t,e){return"string"==typeof t?e+t:t}function Qe(t){t._o=Ge,t._n=F,t._s=n,t._l=Ne,t._t=Ve,t._q=T,t._i=I,t._m=Ze,t._f=je,t._k=Ue,t._b=qe,t._v=At,t._e=wt,t._u=Ke,t._g=Xe,t._d=Je,t._p=Ye}function tn(t,e,n,o,r){var a,i=this,s=r.options;x(o,"_uid")?(a=Object.create(o))._original=o:o=(a=o)._original;var l=L(s._compiled),u=!l;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||y,this.injections=Oe(s.inject,o),this.slots=function(){return i.$slots||Re(t.scopedSlots,i.$slots=Le(n,o)),i.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Re(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=Re(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,e,n,r){var i=cn(a,t,e,n,r,u);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return cn(a,t,e,n,r,u)}}function en(t,e,n,r,i){var o=St(t);return o.fnContext=n,o.fnOptions=r,(o.devtoolsMeta=o.devtoolsMeta||{}).renderContext=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function nn(t,e){for(var n in e)t[b(n)]=e[n]}Qe(tn.prototype);var rn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){rn.prepatch(t,t)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;R(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,xn)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){bn=!0;var o=r.data.scopedSlots,a=t.$scopedSlots,s=!!(o&&!o.$stable||a!==y&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(i||t.$options._renderChildren||s);t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r);if(t.$options._renderChildren=i,t.$attrs=r.data.attrs||y,t.$listeners=n||y,e&&t.$options.props){It(!1);for(var u=t._props,c=t.$options._propKeys||[],p=0;p<c.length;p++){var h=c[p],f=t.$options.props;u[h]=Zt(h,f,e,t)}It(!0),t.$options.propsData=e}n=n||y;var d=t.$options._parentListeners;t.$options._parentListeners=n,_n(t,n,d),l&&(t.$slots=Le(i,r.context),t.$forceUpdate());bn=!1}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,kn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,Tn.push(e)):Sn(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,An(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);kn(e,"deactivated")}}(e,!0):e.$destroy())}},on=Object.keys(rn);function an(t,e,n,r,i){if(!D(t)){var o=n.$options._base;if(B(t)&&(t=o.extend(t)),"function"==typeof t){var a,s,l,u,c,p,h;if(D(t.cid)&&void 0===(t=function(e,n){if(L(e.error)&&R(e.errorComp))return e.errorComp;if(R(e.resolved))return e.resolved;var t=hn;t&&R(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t);if(L(e.loading)&&R(e.loadingComp))return e.loadingComp;if(t&&!R(e.owners)){var r=e.owners=[t],i=!0,o=null,a=null;t.$on("hook:destroyed",function(){return _(r,t)});var s=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==a&&(clearTimeout(a),a=null))},l=N(function(t){e.resolved=fn(t,n),i?r.length=0:s(!0)}),u=N(function(t){ut("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),R(e.errorComp)&&(e.error=!0,s(!0))}),c=e(l,u);return B(c)&&(g(c)?D(e.resolved)&&c.then(l,u):g(c.component)&&(c.component.then(l,u),R(c.error)&&(e.errorComp=fn(c.error,n)),R(c.loading)&&(e.loadingComp=fn(c.loading,n),0===c.delay?e.loading=!0:o=setTimeout(function(){o=null,D(e.resolved)&&D(e.error)&&(e.loading=!0,s(!1))},c.delay||200)),R(c.timeout)&&(a=setTimeout(function(){a=null,D(e.resolved)&&u("timeout ("+c.timeout+"ms)")},c.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}(a=t,o)))return s=a,l=e,u=n,c=r,p=i,(h=wt()).asyncFactory=s,h.asyncMeta={data:l,context:u,children:c,tag:p},h;e=e||{},nr(t),R(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],a=e.model.callback;R(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(i[r]=[a].concat(o)):i[r]=a}(t.options,e);var f=function(t,e,n){var r=e.options.props;if(!D(r)){var i={},o=t.attrs,a=t.props;if(R(o)||R(a))for(var s in r){var l=w(s),u=s.toLowerCase();s!==u&&o&&x(o,u)&&ct('Prop "'+u+'" is passed to component '+ht(n||e)+', but the declared prop name is "'+s+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+l+'" instead of "'+s+'".'),ze(i,a,s,l,!0)||ze(i,o,s,l,!1)}return i}}(e,t,i);if(L(t.options.functional))return function(t,e,n,r,i){var o=t.options,a={},s=o.props;if(R(s))for(var l in s)a[l]=Zt(l,s,e||y);else R(n.attrs)&&nn(a,n.attrs),R(n.props)&&nn(a,n.props);var u=new tn(n,a,i,r,t),c=o.render.call(null,u._c,u);if(c instanceof xt)return en(c,n,u.parent,o,u);if(Array.isArray(c)){for(var p=Me(c)||[],h=new Array(p.length),f=0;f<p.length;f++)h[f]=en(p[f],n,u.parent,o,u);return h}}(t,f,e,n,r);var d=e.on;if(e.on=e.nativeOn,L(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<on.length;n++){var r=on[n],i=e[r],o=rn[r];i===o||i&&i._merged||(e[r]=i?sn(o,i):o)}}(e);var v=t.options.name||i;return new xt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:d,tag:i,children:r},a)}ut("Invalid Component definition: "+String(t),n)}}function sn(n,r){function t(t,e){n(t,e),r(t,e)}return t._merged=!0,t}var ln=1,un=2;function cn(t,e,n,r,i,o){return(Array.isArray(n)||m(n))&&(i=r,r=n,n=void 0),L(o)&&(i=un),function(t,e,n,r,i){if(R(n)&&R(n.__ob__))return ut("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",t),wt();R(n)&&R(n.is)&&(e=n.is);if(!e)return wt();R(n)&&R(n.key)&&!m(n.key)&&ut("Avoid using non-primitive value as key, use string/number value instead.",t);Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===un?r=Me(r):i===ln&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var o,a;if("string"==typeof e){var s;a=t.$vnode&&t.$vnode.ns||j.getTagNamespace(e),o=j.isReservedTag(e)?(R(n)&&R(n.nativeOn)&&ut("The .native modifier for v-on is only valid on components but it was used on <"+e+">.",t),new xt(j.parsePlatformTagName(e),n,r,void 0,void 0,t)):n&&n.pre||!R(s=qt(t.$options,"components",e))?new xt(e,n,r,void 0,void 0,t):an(s,n,t,r,e)}else o=an(e,n,t,r);return Array.isArray(o)?o:R(o)?(R(a)&&function t(e,n,r){e.ns=n;"foreignObject"===e.tag&&(r=!(n=void 0));if(R(e.children))for(var i=0,o=e.children.length;i<o;i++){var a=e.children[i];R(a.tag)&&(D(a.ns)||L(r)&&"svg"!==a.tag)&&t(a,n,r)}}(o,a),R(n)&&function(t){B(t.style)&&ke(t.style);B(t.class)&&ke(t.class)}(n),o):wt()}(t,e,n,r,i)}var pn,hn=null;function fn(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),B(t)?e.extend(t):t}function dn(t){return t.isComment&&t.asyncFactory}function mn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(R(n)&&(R(n.componentOptions)||dn(n)))return n}}function vn(t,e){pn.$on(t,e)}function yn(t,e){pn.$off(t,e)}function gn(e,n){var r=pn;return function t(){null!==n.apply(null,arguments)&&r.$off(e,t)}}function _n(t,e,n){Te(e,n||{},vn,yn,gn,pn=t),pn=void 0}var xn=null,bn=!1;function wn(t){var e=xn;return xn=t,function(){xn=e}}function An(t){for(;t=t&&t.$parent;)if(t._inactive)return 1}function Sn(t,e){if(e){if(t._directInactive=!1,An(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Sn(t.$children[n]);kn(t,"activated")}}function kn(t,e){gt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)te(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),_t()}var En=100,Cn=[],Tn=[],In={},zn={},Mn=!1,Pn=!1,On=0;var Ln=0,Dn=Date.now;if(G&&!K){var Rn=window.performance;Rn&&"function"==typeof Rn.now&&Dn()>document.createEvent("Event").timeStamp&&(Dn=function(){return Rn.now()})}function Bn(){var t,e;for(Ln=Dn(),Pn=!0,Cn.sort(function(t,e){return t.id-e.id}),On=0;On<Cn.length;On++)if((t=Cn[On]).before&&t.before(),e=t.id,In[e]=null,t.run(),null!=In[e]&&(zn[e]=(zn[e]||0)+1,zn[e]>En)){ut("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}var n=Tn.slice(),r=Cn.slice();On=Cn.length=Tn.length=0,In={},Mn=Pn=!(zn={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Sn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&kn(r,"updated")}}(r),ot&&j.devtools&&ot.emit("flush")}var Fn=0,Nn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Fn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression=e.toString(),"function"==typeof e?this.getter=e:(this.getter=function(t){if(!U.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=k,ut('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};Nn.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Qt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ke(t),_t(),this.cleanupDeps()}return t},Nn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Nn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Nn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==In[e]){if(In[e]=!0,Pn){for(var n=Cn.length-1;On<n&&Cn[n].id>t.id;)n--;Cn.splice(n+1,0,t)}else Cn.push(t);if(!Mn){if(Mn=!0,!j.async)return Bn();de(Bn)}}}(this)},Nn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||B(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Qt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Nn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Nn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Nn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Vn={enumerable:!0,configurable:!0,get:k,set:k};function jn(t,e,n){Vn.get=function(){return this[e][n]},Vn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Vn)}function $n(t){t._watchers=[];var e=t.$options;e.props&&function(r,i){var o=r.$options.propsData||{},a=r._props={},s=r.$options._propKeys=[],l=!r.$parent;l||It(!1);function t(t){s.push(t);var e=Zt(t,i,o,r),n=w(t);(c(n)||j.isReservedAttr(n))&&ut('"'+n+'" is a reserved attribute and cannot be used as component prop.',r),Pt(a,t,e,function(){l||bn||ut("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+t+'"',r)}),t in r||jn(r,"_props",t)}for(var e in i)t(e);It(!0)}(t,e.props),e.methods&&function(t,e){var n=t.$options.props;for(var r in e)"function"!=typeof e[r]&&ut('Method "'+r+'" has type "'+typeof e[r]+'" in the component definition. Did you reference the function correctly?',t),n&&x(n,r)&&ut('Method "'+r+'" has already been defined as a prop.',t),r in t&&O(r)&&ut('Method "'+r+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),t[r]="function"!=typeof e[r]?k:d(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){gt();try{return t.call(e,e)}catch(t){return Qt(t,e,"data()"),{}}finally{_t()}}(e,t):e||{})||(e={},ut("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t));var n=Object.keys(e),r=t.$options.props,i=t.$options.methods,o=n.length;for(;o--;){var a=n[o];i&&x(i,a)&&ut('Method "'+a+'" has already been defined as a data property.',t),r&&x(r,a)?ut('The data property "'+a+'" is already declared as a prop. Use prop default value instead.',t):O(a)||jn(t,"_data",a)}Mt(e,!0)}(t):Mt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=it();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;null==a&&ut('Getter is missing for computed property "'+i+'".',t),r||(n[i]=new Nn(t,a||k,k,Un)),i in t?i in t.$data?ut('The computed property "'+i+'" is already defined in data.',t):t.$options.props&&i in t.$options.props&&ut('The computed property "'+i+'" is already defined as a prop.',t):qn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Hn(t,n,r[i]);else Hn(t,n,r)}}(t,e.watch)}var Un={lazy:!0};function qn(t,e,n){var r=!it();"function"==typeof n?(Vn.get=r?Zn(e):Gn(n),Vn.set=k):(Vn.get=n.get?r&&!1!==n.cache?Zn(e):Gn(n.get):k,Vn.set=n.set||k),Vn.set===k&&(Vn.set=function(){ut('Computed property "'+e+'" was assigned to but it has no setter.',this)}),Object.defineProperty(t,e,Vn)}function Zn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),vt.target&&t.depend(),t.value}}function Gn(t){return function(){return t.call(this,this)}}function Hn(t,e,n,r){return l(n)&&(n=(r=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Wn,Xn,Kn,Jn,Yn,Qn,tr,er=0;function nr(t){var e=t.options;if(t.super){var n=nr(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&((e=e||{})[i]=n[i]);return e}(t);r&&A(t.extendOptions,r),(e=t.options=Ut(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function rr(t){this instanceof rr||ut("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function ir(t){t.cid=0;var a=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var i=t.name||e.options.name;i&&jt(i);function o(t){this._init(t)}return((o.prototype=Object.create(e.prototype)).constructor=o).cid=a++,o.options=Ut(e.options,t),o.super=e,o.options.props&&function(t){var e=t.options.props;for(var n in e)jn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)qn(t.prototype,n,e[n])}(o),o.extend=e.extend,o.mixin=e.mixin,o.use=e.use,z.forEach(function(t){o[t]=e[t]}),i&&(o.options.components[i]=o),o.superOptions=e.options,o.extendOptions=t,o.sealedOptions=A({},o.options),r[n]=o}}function or(t){return t&&(t.Ctor.options.name||t.tag)}function ar(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!i(t)&&t.test(e)}function sr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=or(a.componentOptions);s&&!e(s)&&lr(n,o,r,i)}}}function lr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}rr.prototype._init=function(t){var e,n,r,i,o,a,s=this;s._uid=er++,j.performance&&ie&&(e="vue-perf-start:"+s._uid,n="vue-perf-end:"+s._uid,ie(e)),s._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent;var i=(n._parentVnode=r).componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(s,t):s.$options=Ut(nr(s.constructor),t||{},s),me(s),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(s._self=s),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&_n(t,e)}(s),function(i){i._vnode=null,i._staticTrees=null;var t=i.$options,e=i.$vnode=t._parentVnode,n=e&&e.context;i.$slots=Le(t._renderChildren,n),i.$scopedSlots=y,i._c=function(t,e,n,r){return cn(i,t,e,n,r,!1)},i.$createElement=function(t,e,n,r){return cn(i,t,e,n,r,!0)};var r=e&&e.data;Pt(i,"$attrs",r&&r.attrs||y,function(){bn||ut("$attrs is readonly.",i)},!0),Pt(i,"$listeners",t._parentListeners||y,function(){bn||ut("$listeners is readonly.",i)},!0)}(s),kn(s,"beforeCreate"),(i=Oe((r=s).$options.inject,r))&&(It(!1),Object.keys(i).forEach(function(t){Pt(r,t,i[t],function(){ut('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+t+'"',r)})}),It(!0)),$n(s),(a=(o=s).$options.provide)&&(o._provided="function"==typeof a?a.call(o):a),kn(s,"created"),j.performance&&ie&&(s._name=ht(s,!1),ie(n),oe("vue "+s._name+" init",e,n)),s.$options.el&&s.$mount(s.$options.el)},Wn=rr,Kn={get:function(){return this._props}},(Xn={get:function(){return this._data}}).set=function(){ut("Avoid replacing instance root $data. Use nested data properties instead.",this)},Kn.set=function(){ut("$props is readonly.",this)},Object.defineProperty(Wn.prototype,"$data",Xn),Object.defineProperty(Wn.prototype,"$props",Kn),Wn.prototype.$set=Ot,Wn.prototype.$delete=Lt,Wn.prototype.$watch=function(t,e,n){if(l(e))return Hn(this,t,e,n);(n=n||{}).user=!0;var r=new Nn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Qt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}},Yn=/^hook:/,(Jn=rr).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),Yn.test(t)&&(this._hasHookEvent=!0);return this},Jn.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},Jn.prototype.$off=function(t,e){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.$off(t[n],e);return this}var i,o=this._events[t];if(!o)return this;if(!e)return this._events[t]=null,this;for(var a=o.length;a--;)if((i=o[a])===e||i.fn===e){o.splice(a,1);break}return this},Jn.prototype.$emit=function(t){var e=t.toLowerCase();e!==t&&this._events[e]&&ct('Event "'+e+'" is emitted in component '+ht(this)+' but the handler is registered for "'+t+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+w(t)+'" instead of "'+t+'".');var n=this._events[t];if(n){n=1<n.length?v(n):n;for(var r=v(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)te(n[o],this,r,this,i)}return this},(Qn=rr).prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=wn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},Qn.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},Qn.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){kn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),kn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},Qe((tr=rr).prototype),tr.prototype.$nextTick=function(t){return de(t,this)},tr.prototype._render=function(){var e,n=this,t=n.$options,r=t.render,i=t._parentVnode;i&&(n.$scopedSlots=Re(i.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=i;try{hn=n,e=r.call(n._renderProxy,n.$createElement)}catch(t){if(Qt(t,n,"render"),n.$options.renderError)try{e=n.$options.renderError.call(n._renderProxy,n.$createElement,t)}catch(t){Qt(t,n,"renderError"),e=n._vnode}else e=n._vnode}finally{hn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof xt||(Array.isArray(e)&&ut("Multiple root nodes returned from render function. Render function should return a single root node.",n),e=wt()),e.parent=i,e};var ur,cr,pr,hr=[String,RegExp,Array],fr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:hr,exclude:hr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){sr(t,function(t){return ar(e,t)})}),this.$watch("exclude",function(e){sr(t,function(t){return!ar(e,t)})})},render:function(){var t=this.$slots.default,e=mn(t),n=e&&e.componentOptions;if(n){var r=or(n),i=this.include,o=this.exclude;if(i&&(!r||!ar(i,r))||o&&r&&ar(o,r))return e;var a=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,_(s,l),s.push(l)):(a[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&lr(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};ur=rr,pr={get:function(){return j},set:function(){ut("Do not replace the Vue.config object, set individual fields instead.")}},Object.defineProperty(ur,"config",pr),ur.util={warn:ut,extend:A,mergeOptions:Ut,defineReactive:Pt},ur.set=Ot,ur.delete=Lt,ur.nextTick=de,ur.observable=function(t){return Mt(t),t},ur.options=Object.create(null),z.forEach(function(t){ur.options[t+"s"]=Object.create(null)}),A((ur.options._base=ur).options.components,fr),ur.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=v(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},ur.mixin=function(t){return this.options=Ut(this.options,t),this},ir(ur),cr=ur,z.forEach(function(n){cr[n]=function(t,e){return e?("component"===n&&jt(t),"component"===n&&l(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(rr.prototype,"$isServer",{get:it}),Object.defineProperty(rr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(rr,"FunctionalRenderContext",{value:tn}),rr.version="2.6.11";function dr(t,e,n){return"value"===n&&vr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t}var mr=u("style,class"),vr=u("input,textarea,option,select,progress"),yr=u("contenteditable,draggable,spellcheck"),gr=u("events,caret,typing,plaintext-only"),_r=function(t,e){return Sr(e)||"false"===e?"false":"contenteditable"===t&&gr(e)?e:"true"},xr=u("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),br="http://www.w3.org/1999/xlink",wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ar=function(t){return wr(t)?t.slice(6,t.length):""},Sr=function(t){return null==t||!1===t};function kr(t){for(var e=t.data,n=t,r=t;R(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Er(r.data,e));for(;R(n=n.parent);)n&&n.data&&(e=Er(e,n.data));return function(t,e){if(R(t)||R(e))return Cr(t,Tr(e));return""}(e.staticClass,e.class)}function Er(t,e){return{staticClass:Cr(t.staticClass,e.staticClass),class:R(t.class)?[t.class,e.class]:e.class}}function Cr(t,e){return t?e?t+" "+e:t:e||""}function Tr(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)R(e=Tr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):B(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function Ir(t){return Mr(t)||Pr(t)}var zr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Mr=u("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Pr=u("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0);function Or(t){return Pr(t)?"svg":"math"===t?"math":void 0}var Lr=Object.create(null);var Dr=u("text,number,password,search,email,tel,url");function Rr(t){if("string"!=typeof t)return t;var e=document.querySelector(t);return e||(ut("Cannot find element: "+t),document.createElement("div"))}var Br=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(zr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Fr={create:function(t,e){Nr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Nr(t,!0),Nr(e))},destroy:function(t){Nr(t,!0)}};function Nr(t,e){var n=t.data.ref;if(R(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?_(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var Vr=new xt("",{},[]),jr=["create","activate","update","remove","destroy"];function $r(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&R(t.data)===R(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=R(n=t.data)&&R(n=n.attrs)&&n.type,i=R(n=e.data)&&R(n=n.attrs)&&n.type;return r===i||Dr(r)&&Dr(i)}(t,e)||L(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&D(e.asyncFactory.error))}function Ur(t,e,n){var r,i,o={};for(r=e;r<=n;++r)R(i=t[r].key)&&(o[i]=r);return o}var qr={create:Zr,update:Zr,destroy:function(t){Zr(t,Vr)}};function Zr(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,r,i,o=e===Vr,a=n===Vr,s=Hr(e.data.directives,e.context),l=Hr(n.data.directives,n.context),u=[],c=[];for(t in l)r=s[t],i=l[t],r?(i.oldValue=r.value,i.oldArg=r.arg,Wr(i,"update",n,e),i.def&&i.def.componentUpdated&&c.push(i)):(Wr(i,"bind",n,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var t=0;t<u.length;t++)Wr(u[t],"inserted",n,e)};o?Ie(n,"insert",p):p()}c.length&&Ie(n,"postpatch",function(){for(var t=0;t<c.length;t++)Wr(c[t],"componentUpdated",n,e)});if(!o)for(t in s)l[t]||Wr(s[t],"unbind",e,e,a)}(t,e)}var Gr=Object.create(null);function Hr(t,e){var n,r,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=Gr),(o[(i=r).rawName||i.name+"."+Object.keys(i.modifiers||{}).join(".")]=r).def=qt(e.$options,"directives",r.name,!0);return o}function Wr(e,n,r,t,i){var o=e.def&&e.def[n];if(o)try{o(r.elm,e,r,t,i)}catch(t){Qt(t,r.context,"directive "+e.name+" "+n+" hook")}}var Xr=[Fr,qr];function Kr(t,e){var n=e.componentOptions;if(!(R(n)&&!1===n.Ctor.options.inheritAttrs||D(t.data.attrs)&&D(e.data.attrs))){var r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};for(r in R(s.__ob__)&&(s=e.data.attrs=A({},s)),s)i=s[r],a[r]!==i&&Jr(o,r,i);for(r in(K||Y)&&s.value!==a.value&&Jr(o,"value",s.value),a)D(s[r])&&(wr(r)?o.removeAttributeNS(br,Ar(r)):yr(r)||o.removeAttribute(r))}}function Jr(t,e,n){-1<t.tagName.indexOf("-")?Yr(t,e,n):xr(e)?Sr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):yr(e)?t.setAttribute(e,_r(e,n)):wr(e)?Sr(n)?t.removeAttributeNS(br,Ar(e)):t.setAttributeNS(br,e,n):Yr(t,e,n)}function Yr(e,t,n){if(Sr(n))e.removeAttribute(t);else{if(K&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Qr={create:Kr,update:Kr};function ti(t,e){var n=e.elm,r=e.data,i=t.data;if(!(D(r.staticClass)&&D(r.class)&&(D(i)||D(i.staticClass)&&D(i.class)))){var o=kr(e),a=n._transitionClasses;R(a)&&(o=Cr(o,Tr(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var ei,ni,ri,ii,oi,ai,si,li={create:ti,update:ti},ui=/[\w).+\-_$\]]/;function ci(t){var e,n,r,i,o,a=!1,s=!1,l=!1,u=!1,c=0,p=0,h=0,f=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(l)96===e&&92!==n&&(l=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||c||p||h){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:h++;break;case 41:h--;break;case 91:p++;break;case 93:p--;break;case 123:c++;break;case 125:c--}if(47===e){for(var d=r-1,m=void 0;0<=d&&" "===(m=t.charAt(d));d--);m&&ui.test(m)||(u=!0)}}else void 0===i?(f=r+1,i=t.slice(0,r).trim()):v();function v(){(o=o||[]).push(t.slice(f,r).trim()),f=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==f&&v(),o)for(r=0;r<o.length;r++)i=pi(i,o[r]);return i}function pi(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function hi(t,e){console.error("[Vue compiler]: "+t)}function fi(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function di(t,e,n,r,i){(t.props||(t.props=[])).push(Ai({name:e,value:n,dynamic:i},r)),t.plain=!1}function mi(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Ai({name:e,value:n,dynamic:i},r)),t.plain=!1}function vi(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Ai({name:e,value:n},r))}function yi(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function gi(t,e,n,r,i,o,a,s){var l;r=r||y,o&&r.prevent&&r.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event.",a),r.right?s?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(s?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=yi("!",e,s)),r.once&&(delete r.once,e=yi("~",e,s)),r.passive&&(delete r.passive,e=yi("&",e,s)),l=r.native?(delete r.native,t.nativeEvents||(t.nativeEvents={})):t.events||(t.events={});var u=Ai({value:n.trim(),dynamic:s},a);r!==y&&(u.modifiers=r);var c=l[e];Array.isArray(c)?i?c.unshift(u):c.push(u):l[e]=c?i?[u,c]:[c,u]:u,t.plain=!1}function _i(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function xi(t,e,n){var r=bi(t,":"+e)||bi(t,"v-bind:"+e);if(null!=r)return ci(r);if(!1!==n){var i=bi(t,e);if(null!=i)return JSON.stringify(i)}}function bi(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function wi(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Ai(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Si(t,e,n){var r=n||{},i="$$v";r.trim&&(i="(typeof $$v === 'string'? $$v.trim(): $$v)"),r.number&&(i="_n("+i+")");var o=ki(e,i);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+o+"}"}}function ki(t,e){var n=function(t){if(t=t.trim(),ei=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ei-1)return-1<(ii=t.lastIndexOf("."))?{exp:t.slice(0,ii),key:'"'+t.slice(ii+1)+'"'}:{exp:t,key:null};ni=t,ii=oi=ai=0;for(;!Ci();)Ti(ri=Ei())?zi(ri):91===ri&&Ii(ri);return{exp:t.slice(0,oi),key:t.slice(oi+1,ai)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Ei(){return ni.charCodeAt(++ii)}function Ci(){return ei<=ii}function Ti(t){return 34===t||39===t}function Ii(t){var e=1;for(oi=ii;!Ci();)if(Ti(t=Ei()))zi(t);else if(91===t&&e++,93===t&&e--,0===e){ai=ii;break}}function zi(t){for(var e=t;!Ci()&&(t=Ei())!==e;);}var Mi,Pi="__r",Oi="__c";function Li(e,n,r){var i=Mi;return function t(){null!==n.apply(null,arguments)&&Bi(e,t,r,i)}}var Di=ae&&!(tt&&Number(tt[1])<=53);function Ri(t,e,n,r){if(Di){var i=Ln,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Mi.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Bi(t,e,n,r){(r||Mi).removeEventListener(t,e._wrapper||e,n)}function Fi(t,e){if(!D(t.data.on)||!D(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Mi=e.elm,function(t){if(R(t[Pi])){var e=K?"change":"input";t[e]=[].concat(t[Pi],t[e]||[]),delete t[Pi]}R(t[Oi])&&(t.change=[].concat(t[Oi],t.change||[]),delete t[Oi])}(n),Te(n,r,Ri,Bi,Li,e.context),Mi=void 0}}var Ni,Vi={create:Fi,update:Fi};function ji(t,e){if(!D(t.data.domProps)||!D(e.data.domProps)){var n,r,i,o,a=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in R(l.__ob__)&&(l=e.data.domProps=A({},l)),s)n in l||(a[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){var u=D(a._value=r)?"":String(r);o=u,(i=a).composing||"OPTION"!==i.tagName&&!function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(i,o)&&!function(t,e){var n=t.value,r=t._vModifiers;if(R(r)){if(r.number)return F(n)!==F(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(i,o)||(a.value=u)}else if("innerHTML"===n&&Pr(a.tagName)&&D(a.innerHTML)){(Ni=Ni||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var c=Ni.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(r!==s[n])try{a[n]=r}catch(t){}}}}var $i={create:ji,update:ji},Ui=t(function(t){var n={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(r);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n});function qi(t){var e=Zi(t.style);return t.staticStyle?A(t.staticStyle,e):e}function Zi(t){return Array.isArray(t)?S(t):"string"==typeof t?Ui(t):t}function Gi(t,e,n){if(Wi.test(e))t.style.setProperty(e,n);else if(Xi.test(n))t.style.setProperty(w(e),n.replace(Xi,""),"important");else{var r=Ji(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}}var Hi,Wi=/^--/,Xi=/\s*!important$/,Ki=["Webkit","Moz","ms"],Ji=t(function(t){if(Hi=Hi||document.createElement("div").style,"filter"!==(t=b(t))&&t in Hi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ki.length;n++){var r=Ki[n]+e;if(r in Hi)return r}});function Yi(t,e){var n=e.data,r=t.data;if(!(D(n.staticStyle)&&D(n.style)&&D(r.staticStyle)&&D(r.style))){var i,o,a=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},u=s||l,c=Zi(e.data.style)||{};e.data.normalizedStyle=R(c.__ob__)?A({},c):c;var p=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=qi(i.data))&&A(r,n);(n=qi(t.data))&&A(r,n);for(var o=t;o=o.parent;)o.data&&(n=qi(o.data))&&A(r,n);return r}(e,!0);for(o in u)D(p[o])&&Gi(a,o,"");for(o in p)(i=p[o])!==u[o]&&Gi(a,o,null==i?"":i)}}var Qi={create:Yi,update:Yi},to=/\s+/;function eo(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(to).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function no(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(to).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ro(t){if(t){if("object"!=typeof t)return"string"==typeof t?io(t):void 0;var e={};return!1!==t.css&&A(e,io(t.name||"v")),A(e,t),e}}var io=t(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),oo=G&&!J,ao="transition",so="animation",lo="transition",uo="transitionend",co="animation",po="animationend";oo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(lo="WebkitTransition",uo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(co="WebkitAnimation",po="webkitAnimationEnd"));var ho=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function fo(t){ho(function(){ho(t)})}function mo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),eo(t,e))}function vo(t,e){t._transitionClasses&&_(t._transitionClasses,e),no(t,e)}function yo(e,t,n){var r=_o(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();function s(){e.removeEventListener(l,c),n()}var l=i===ao?uo:po,u=0,c=function(t){t.target===e&&++u>=a&&s()};setTimeout(function(){u<a&&s()},o+1),e.addEventListener(l,c)}var go=/\b(transform|all)(,|$)/;function _o(t,e){var n,r=window.getComputedStyle(t),i=(r[lo+"Delay"]||"").split(", "),o=(r[lo+"Duration"]||"").split(", "),a=xo(i,o),s=(r[co+"Delay"]||"").split(", "),l=(r[co+"Duration"]||"").split(", "),u=xo(s,l),c=0,p=0;return e===ao?0<a&&(n=ao,c=a,p=o.length):e===so?0<u&&(n=so,c=u,p=l.length):p=(n=0<(c=Math.max(a,u))?u<a?ao:so:null)?n===ao?o.length:l.length:0,{type:n,timeout:c,propCount:p,hasTransform:n===ao&&go.test(r[lo+"Property"])}}function xo(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return bo(t)+bo(n[e])}))}function bo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function wo(n,t){var r=n.elm;R(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var e=ro(n.data.transition);if(!D(e)&&!R(r._enterCb)&&1===r.nodeType){for(var i=e.css,o=e.type,a=e.enterClass,s=e.enterToClass,l=e.enterActiveClass,u=e.appearClass,c=e.appearToClass,p=e.appearActiveClass,h=e.beforeEnter,f=e.enter,d=e.afterEnter,m=e.enterCancelled,v=e.beforeAppear,y=e.appear,g=e.afterAppear,_=e.appearCancelled,x=e.duration,b=xn,w=xn.$vnode;w&&w.parent;)b=w.context,w=w.parent;var A=!b._isMounted||!n.isRootInsert;if(!A||y||""===y){var S=A&&u?u:a,k=A&&p?p:l,E=A&&c?c:s,C=A&&v||h,T=A&&"function"==typeof y?y:f,I=A&&g||d,z=A&&_||m,M=F(B(x)?x.enter:x);null!=M&&So(M,"enter",n);var P=!1!==i&&!J,O=Eo(T),L=r._enterCb=N(function(){P&&(vo(r,E),vo(r,k)),L.cancelled?(P&&vo(r,S),z&&z(r)):I&&I(r),r._enterCb=null});n.data.show||Ie(n,"insert",function(){var t=r.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),T&&T(r,L)}),C&&C(r),P&&(mo(r,S),mo(r,k),fo(function(){vo(r,S),L.cancelled||(mo(r,E),O||(ko(M)?setTimeout(L,M):yo(r,o,L)))})),n.data.show&&(t&&t(),T&&T(r,L)),P||O||L()}}}function Ao(t,e){var n=t.elm;R(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ro(t.data.transition);if(D(r)||1!==n.nodeType)return e();if(!R(n._leaveCb)){var i=r.css,o=r.type,a=r.leaveClass,s=r.leaveToClass,l=r.leaveActiveClass,u=r.beforeLeave,c=r.leave,p=r.afterLeave,h=r.leaveCancelled,f=r.delayLeave,d=r.duration,m=!1!==i&&!J,v=Eo(c),y=F(B(d)?d.leave:d);R(y)&&So(y,"leave",t);var g=n._leaveCb=N(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(vo(n,s),vo(n,l)),g.cancelled?(m&&vo(n,a),h&&h(n)):(e(),p&&p(n)),n._leaveCb=null});f?f(_):_()}function _(){g.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),u&&u(n),m&&(mo(n,a),mo(n,l),fo(function(){vo(n,a),g.cancelled||(mo(n,s),v||(ko(y)?setTimeout(g,y):yo(n,o,g)))})),c&&c(n,g),m||v||g())}}function So(t,e,n){"number"!=typeof t?ut("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",n.context):isNaN(t)&&ut("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",n.context)}function ko(t){return"number"==typeof t&&!isNaN(t)}function Eo(t){if(D(t))return!1;var e=t.fns;return R(e)?Eo(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function Co(t,e){!0!==e.data.show&&wo(e)}var To=function(t){var r,e,v={},n=t.modules,y=t.nodeOps;for(r=0;r<jr.length;++r)for(v[jr[r]]=[],e=0;e<n.length;++e)R(n[e][jr[r]])&&v[jr[r]].push(n[e][jr[r]]);function a(t){var e=y.parentNode(t);R(e)&&y.removeChild(e,t)}function g(e,t){return!t&&!e.ns&&(!j.ignoredElements.length||!j.ignoredElements.some(function(t){return i(t)?t.test(e.tag):t===e.tag}))&&j.isUnknownElement(e.tag)}var c=0;function _(t,e,n,r,i,o,a){if(R(t.elm)&&R(o)&&(t=o[a]=St(t)),t.isRootInsert=!i,!function(t,e,n,r){var i=t.data;if(R(i)){var o=R(t.componentInstance)&&i.keepAlive;if(R(i=i.hook)&&R(i=i.init)&&i(t,!1),R(t.componentInstance))return x(t,e),p(n,t.elm,r),L(o)&&function(t,e,n,r){var i,o=t;for(;o.componentInstance;)if(o=o.componentInstance._vnode,R(i=o.data)&&R(i=i.transition)){for(i=0;i<v.activate.length;++i)v.activate[i](Vr,o);e.push(o);break}p(n,t.elm,r)}(t,e,n,r),1}}(t,e,n,r)){var s=t.data,l=t.children,u=t.tag;R(u)?(s&&s.pre&&c++,g(t,c)&&ut("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context),t.elm=t.ns?y.createElementNS(t.ns,u):y.createElement(u,t),h(t),b(t,l,e),R(s)&&A(t,e),p(n,t.elm,r),s&&s.pre&&c--):(L(t.isComment)?t.elm=y.createComment(t.text):t.elm=y.createTextNode(t.text),p(n,t.elm,r))}}function x(t,e){R(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(A(t,e),h(t)):(Nr(t),e.push(t))}function p(t,e,n){R(t)&&(R(n)?y.parentNode(n)===t&&y.insertBefore(t,e,n):y.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){C(e);for(var r=0;r<e.length;++r)_(e[r],n,t.elm,null,!0,e,r)}else m(t.text)&&y.appendChild(t.elm,y.createTextNode(String(t.text)))}function w(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return R(t.tag)}function A(t,e){for(var n=0;n<v.create.length;++n)v.create[n](Vr,t);R(r=t.data.hook)&&(R(r.create)&&r.create(Vr,t),R(r.insert)&&e.push(t))}function h(t){var e;if(R(e=t.fnScopeId))y.setStyleScope(t.elm,e);else for(var n=t;n;)R(e=n.context)&&R(e=e.$options._scopeId)&&y.setStyleScope(t.elm,e),n=n.parent;R(e=xn)&&e!==t.context&&e!==t.fnContext&&R(e=e.$options._scopeId)&&y.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)_(n[r],o,t,e,!1,n,r)}function k(t){var e,n,r=t.data;if(R(r))for(R(e=r.hook)&&R(e=e.destroy)&&e(t),e=0;e<v.destroy.length;++e)v.destroy[e](t);if(R(e=t.children))for(n=0;n<t.children.length;++n)k(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];R(r)&&(R(r.tag)?(s(r),k(r)):a(r.elm))}}function s(t,e){if(R(e)||R(t.data)){var n,r=v.remove.length+1;for(R(e)?e.listeners+=r:(o=t.elm,i.listeners=r,e=i),R(n=t.componentInstance)&&R(n=n._vnode)&&R(n.data)&&s(n,e),n=0;n<v.remove.length;++n)v.remove[n](t,e);R(n=t.data.hook)&&R(n=n.remove)?n(t,e):e()}else a(t.elm);function i(){0==--i.listeners&&a(o)}var o}function C(t){for(var e={},n=0;n<t.length;n++){var r=t[n],i=r.key;R(i)&&(e[i]?ut("Duplicate keys detected: '"+i+"'. This may cause an update error.",r.context):e[i]=!0)}}function T(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(R(o)&&$r(t,o))return i}}function I(t,e,n,r,i,o){if(t!==e){R(e.elm)&&R(r)&&(e=r[i]=St(e));var a=e.elm=t.elm;if(L(t.isAsyncPlaceholder))R(e.asyncFactory.resolved)?O(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(L(e.isStatic)&&L(t.isStatic)&&e.key===t.key&&(L(e.isCloned)||L(e.isOnce)))e.componentInstance=t.componentInstance;else{var s,l=e.data;R(l)&&R(s=l.hook)&&R(s=s.prepatch)&&s(t,e);var u=t.children,c=e.children;if(R(l)&&w(e)){for(s=0;s<v.update.length;++s)v.update[s](t,e);R(s=l.hook)&&R(s=s.update)&&s(t,e)}D(e.text)?R(u)&&R(c)?u!==c&&function(t,e,n,r,i){var o,a,s,l=0,u=0,c=e.length-1,p=e[0],h=e[c],f=n.length-1,d=n[0],m=n[f],v=!i;for(C(n);l<=c&&u<=f;)D(p)?p=e[++l]:D(h)?h=e[--c]:$r(p,d)?(I(p,d,r,n,u),p=e[++l],d=n[++u]):$r(h,m)?(I(h,m,r,n,f),h=e[--c],m=n[--f]):$r(p,m)?(I(p,m,r,n,f),v&&y.insertBefore(t,p.elm,y.nextSibling(h.elm)),p=e[++l],m=n[--f]):d=($r(h,d)?(I(h,d,r,n,u),v&&y.insertBefore(t,h.elm,p.elm),h=e[--c]):(D(o)&&(o=Ur(e,l,c)),!D(a=R(d.key)?o[d.key]:T(d,e,l,c))&&$r(s=e[a],d)?(I(s,d,r,n,u),e[a]=void 0,v&&y.insertBefore(t,s.elm,p.elm)):_(d,r,t,p.elm,!1,n,u)),n[++u]);c<l?S(t,D(n[f+1])?null:n[f+1].elm,n,u,f,r):f<u&&E(e,l,c)}(a,u,c,n,o):R(c)?(C(c),R(t.text)&&y.setTextContent(a,""),S(a,null,c,0,c.length-1,n)):R(u)?E(u,0,u.length-1):R(t.text)&&y.setTextContent(a,""):t.text!==e.text&&y.setTextContent(a,e.text),R(l)&&R(s=l.hook)&&R(s=s.postpatch)&&s(t,e)}}}function z(t,e,n){if(L(n)&&R(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var M=!1,P=u("attrs,class,staticClass,staticStyle,key");function O(t,e,n,r){var i,o=e.tag,a=e.data,s=e.children;if(r=r||a&&a.pre,e.elm=t,L(e.isComment)&&R(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(l=t,c=r,R((u=e).tag)?0===u.tag.indexOf("vue-component")||!g(u,c)&&u.tag.toLowerCase()===(l.tagName&&l.tagName.toLowerCase()):l.nodeType===(u.isComment?8:3)){var l,u,c;if(R(a)&&(R(i=a.hook)&&R(i=i.init)&&i(e,!0),R(i=e.componentInstance)))return x(e,n),1;if(R(o)){if(R(s))if(t.hasChildNodes())if(R(i=a)&&R(i=i.domProps)&&R(i=i.innerHTML)){if(i!==t.innerHTML)return void("undefined"==typeof console||M||(M=!0,console.warn("Parent: ",t),console.warn("server innerHTML: ",i),console.warn("client innerHTML: ",t.innerHTML)))}else{for(var p=!0,h=t.firstChild,f=0;f<s.length;f++){if(!h||!O(h,s[f],n,r)){p=!1;break}h=h.nextSibling}if(!p||h)return void("undefined"==typeof console||M||(M=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,s)))}else b(e,s,n);if(R(a)){var d=!1;for(var m in a)if(!P(m)){d=!0,A(e,n);break}!d&&a.class&&ke(a.class)}}else t.data!==e.text&&(t.data=e.text);return 1}}return function(t,e,n,r){if(!D(e)){var i,o=!1,a=[];if(D(t))o=!0,_(e,a);else{var s=R(t.nodeType);if(!s&&$r(t,e))I(t,e,a,null,null,r);else{if(s){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),n=!0),L(n)){if(O(t,e,a))return z(e,a,!0),t;ut("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}i=t,t=new xt(y.tagName(i).toLowerCase(),{},[],void 0,i)}var l=t.elm,u=y.parentNode(l);if(_(e,a,l._leaveCb?null:u,y.nextSibling(l)),R(e.parent))for(var c=e.parent,p=w(e);c;){for(var h=0;h<v.destroy.length;++h)v.destroy[h](c);if(c.elm=e.elm,p){for(var f=0;f<v.create.length;++f)v.create[f](Vr,c);var d=c.data.hook.insert;if(d.merged)for(var m=1;m<d.fns.length;m++)d.fns[m]()}else Nr(c);c=c.parent}R(u)?E([t],0,0):R(t.tag)&&k(t)}}return z(e,a,o),e.elm}R(t)&&k(t)}}({nodeOps:Br,modules:[Qr,li,Vi,$i,Qi,G?{create:Co,activate:Co,remove:function(t,e){!0!==t.data.show?Ao(t,e):e()}}:{}].concat(Xr)});J&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ro(t,"input")});var Io={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ie(n,"postpatch",function(){Io.componentUpdated(t,e,n)}):zo(t,e,n.context),t._vOptions=[].map.call(t.options,Oo)):"textarea"!==n.tag&&!Dr(t.type)||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Lo),t.addEventListener("compositionend",Do),t.addEventListener("change",Do),J&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){zo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Oo);if(i.some(function(t,e){return!T(t,r[e])}))(t.multiple?e.value.some(function(t){return Po(t,i)}):e.value!==e.oldValue&&Po(e.value,i))&&Ro(t,"change")}}};function zo(t,e,n){Mo(t,e,n),(K||Y)&&setTimeout(function(){Mo(t,e,n)},0)}function Mo(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],i)o=-1<I(r,Oo(a)),a.selected!==o&&(a.selected=o);else if(T(Oo(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}else ut('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(r).slice(8,-1),n)}function Po(e,t){return t.every(function(t){return!T(t,e)})}function Oo(t){return"_value"in t?t._value:t.value}function Lo(t){t.target.composing=!0}function Do(t){t.target.composing&&(t.target.composing=!1,Ro(t.target,"input"))}function Ro(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Bo(t){return!t.componentInstance||t.data&&t.data.transition?t:Bo(t.componentInstance._vnode)}var Fo={model:Io,show:{bind:function(t,e,n){var r=e.value,i=(n=Bo(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,wo(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Bo(n)).data&&n.data.transition?(n.data.show=!0,r?wo(n,function(){t.style.display=t.__vOriginalDisplay}):Ao(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},No={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Vo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Vo(mn(e.children)):t}function jo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[b(o)]=i[o];return e}function $o(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Uo(t){return t.tag||dn(t)}function qo(t){return"show"===t.name}var Zo={name:"transition",props:No,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Uo)).length){1<n.length&&ut("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var r=this.mode;r&&"in-out"!==r&&"out-in"!==r&&ut("invalid <transition> mode: "+r,this.$parent);var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return 1}(this.$vnode))return i;var o=Vo(i);if(!o)return i;if(this._leaving)return $o(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:!m(o.key)||0===String(o.key).indexOf(a)?o.key:a+o.key;var s,l,u=(o.data||(o.data={})).transition=jo(this),c=this._vnode,p=Vo(c);if(o.data.directives&&o.data.directives.some(qo)&&(o.data.show=!0),p&&p.data&&(s=o,(l=p).key!==s.key||l.tag!==s.tag)&&!dn(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var h=p.data.transition=A({},u);if("out-in"===r)return this._leaving=!0,Ie(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),$o(t,i);if("in-out"===r){if(dn(o))return c;var f,d=function(){f()};Ie(u,"afterEnter",d),Ie(u,"enterCancelled",d),Ie(h,"delayLeave",function(t){f=t})}}return i}}},Go=A({tag:String,moveClass:String},No);function Ho(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Wo(t){t.data.newPos=t.elm.getBoundingClientRect()}function Xo(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete Go.mode;var Ko={Transition:Zo,TransitionGroup:{props:Go,beforeMount:function(){var r=this,i=this._update;this._update=function(t,e){var n=wn(r);r.__patch__(r._vnode,r.kept,!1,!0),r._vnode=r.kept,n(),i.call(r,t,e)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=jo(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),((n[l.key]=l).data||(l.data={})).transition=a;else{var u=l.componentOptions,c=u?u.Ctor.options.name||u.tag||"":l.tag;ut("<transition-group> children must be keyed: <"+c+">")}}if(r){for(var p=[],h=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?p.push(d):h.push(d)}this.kept=t(e,null,p),this.removed=h}return t(e,null,o)},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,r)&&(t.forEach(Ho),t.forEach(Wo),t.forEach(Xo),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;mo(n,r),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(uo,n._moveCb=function t(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(uo,t),n._moveCb=null,vo(n,r))})}}))},methods:{hasMove:function(t,e){if(!oo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){no(n,t)}),eo(n,e),n.style.display="none",this.$el.appendChild(n);var r=_o(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};rr.config.mustUseProp=dr,rr.config.isReservedTag=Ir,rr.config.isReservedAttr=mr,rr.config.getTagNamespace=Or,rr.config.isUnknownElement=function(t){if(!G)return!0;if(Ir(t))return!1;if(t=t.toLowerCase(),null!=Lr[t])return Lr[t];var e=document.createElement(t);return-1<t.indexOf("-")?Lr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Lr[t]=/HTMLUnknownElement/.test(e.toString())},A(rr.options.directives,Fo),A(rr.options.components,Ko),rr.prototype.__patch__=G?To:k,rr.prototype.$mount=function(t,e){return t=t&&G?Rr(t):void 0,n=t,a=e,(o=this).$el=n,o.$options.render||(o.$options.render=wt,o.$options.template&&"#"!==o.$options.template.charAt(0)||o.$options.el||n?ut("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",o):ut("Failed to mount component: template or render function not defined.",o)),kn(o,"beforeMount"),r=j.performance&&ie?function(){var t=o._name,e=o._uid,n="vue-perf-start:"+e,r="vue-perf-end:"+e;ie(n);var i=o._render();ie(r),oe("vue "+t+" render",n,r),ie(n),o._update(i,a),ie(r),oe("vue "+t+" patch",n,r)}:function(){o._update(o._render(),a)},new Nn(o,r,k,{before:function(){o._isMounted&&!o._isDestroyed&&kn(o,"beforeUpdate")}},!0),a=!1,null==o.$vnode&&(o._isMounted=!0,kn(o,"mounted")),o;var o,n,a,r},G&&setTimeout(function(){j.devtools&&(ot?ot.emit("init",rr):console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),!1!==j.productionTip&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var Jo=/\{\{((?:.|\r?\n)+?)\}\}/g,Yo=/[-.*+?^${}()|[\]\/\\]/g,Qo=t(function(t){var e=t[0].replace(Yo,"\\$&"),n=t[1].replace(Yo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function ta(t,e){var n=e?Qo(e):Jo;if(n.test(t)){for(var r,i,o,a=[],s=[],l=n.lastIndex=0;r=n.exec(t);){l<(i=r.index)&&(s.push(o=t.slice(l,i)),a.push(JSON.stringify(o)));var u=ci(r[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),l=i+r[0].length}return l<t.length&&(s.push(o=t.slice(l)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var ea={staticKeys:["staticClass"],transformNode:function(t,e){var n=e.warn||hi,r=bi(t,"class");r&&ta(r,e.delimiters)&&n('class="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.',t.rawAttrsMap.class),r&&(t.staticClass=JSON.stringify(r));var i=xi(t,"class",!1);i&&(t.classBinding=i)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var na,ra={staticKeys:["staticStyle"],transformNode:function(t,e){var n=e.warn||hi,r=bi(t,"style");r&&(ta(r,e.delimiters)&&n('style="'+r+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.',t.rawAttrsMap.style),t.staticStyle=JSON.stringify(Ui(r)));var i=xi(t,"style",!1);i&&(t.styleBinding=i)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},ia=function(t){return(na=na||document.createElement("div")).innerHTML=t,na.textContent},oa=u("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),aa=u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),sa=u("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),la=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ua=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ca="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+P.source+"]*",pa="((?:"+ca+"\\:)?"+ca+")",ha=new RegExp("^<"+pa),fa=/^\s*(\/?)>/,da=new RegExp("^<\\/"+pa+"[^>]*>"),ma=/^<!DOCTYPE [^>]+>/i,va=/^<!\--/,ya=/^<!\[/,ga=u("script,style,textarea",!0),_a={},xa={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},ba=/&(?:lt|gt|quot|amp|#39);/g,wa=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Aa=u("pre,textarea",!0),Sa=function(t,e){return t&&Aa(t)&&"\n"===e[0]};function ka(i,p){for(var t,h,f=[],d=p.expectHTML,m=p.isUnaryTag||C,v=p.canBeLeftOpenTag||C,a=0;i;){if(t=i,h&&ga(h)){var r=0,o=h.toLowerCase(),e=_a[o]||(_a[o]=new RegExp("([\\s\\S]*?)(</"+o+"[^>]*>)","i")),n=i.replace(e,function(t,e,n){return r=n.length,ga(o)||"noscript"===o||(e=e.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Sa(o,e)&&(e=e.slice(1)),p.chars&&p.chars(e),""});a+=i.length-n.length,i=n,E(o,a-r,a)}else{var s=i.indexOf("<");if(0===s){if(va.test(i)){var l=i.indexOf("--\x3e");if(0<=l){p.shouldKeepComment&&p.comment(i.substring(4,l),a,a+l+3),A(l+3);continue}}if(ya.test(i)){var u=i.indexOf("]>");if(0<=u){A(u+2);continue}}var c=i.match(ma);if(c){A(c[0].length);continue}var y=i.match(da);if(y){var g=a;A(y[0].length),E(y[1],g,a);continue}var _=S();if(_){k(_),Sa(_.tagName,i)&&A(1);continue}}var x=void 0,b=void 0,w=void 0;if(0<=s){for(b=i.slice(s);!(da.test(b)||ha.test(b)||va.test(b)||ya.test(b)||(w=b.indexOf("<",1))<0);)s+=w,b=i.slice(s);x=i.substring(0,s)}s<0&&(x=i),x&&A(x.length),p.chars&&x&&p.chars(x,a-x.length,a)}if(i===t){p.chars&&p.chars(i),!f.length&&p.warn&&p.warn('Mal-formatted tag at end of template: "'+i+'"',{start:a+i.length});break}}function A(t){a+=t,i=i.substring(t)}function S(){var t=i.match(ha);if(t){var e,n,r={tagName:t[1],attrs:[],start:a};for(A(t[0].length);!(e=i.match(fa))&&(n=i.match(ua)||i.match(la));)n.start=a,A(n[0].length),n.end=a,r.attrs.push(n);if(e)return r.unarySlash=e[1],A(e[0].length),r.end=a,r}}function k(t){var e=t.tagName,n=t.unarySlash;d&&("p"===h&&sa(e)&&E(h),v(e)&&h===e&&E(e));for(var r,i=m(e)||!!n,o=t.attrs.length,a=new Array(o),s=0;s<o;s++){var l=t.attrs[s],u=l[3]||l[4]||l[5]||"",c="a"===e&&"href"===l[1]?p.shouldDecodeNewlinesForHref:p.shouldDecodeNewlines;a[s]={name:l[1],value:(r=c?wa:ba,u.replace(r,function(t){return xa[t]}))},p.outputSourceRange&&(a[s].start=l.start+l[0].match(/^\s*/).length,a[s].end=l.end)}i||(f.push({tag:e,lowerCasedTag:e.toLowerCase(),attrs:a,start:t.start,end:t.end}),h=e),p.start&&p.start(e,a,i,t.start,t.end)}function E(t,e,n){var r,i;if(null==e&&(e=a),null==n&&(n=a),t)for(i=t.toLowerCase(),r=f.length-1;0<=r&&f[r].lowerCasedTag!==i;r--);else r=0;if(0<=r){for(var o=f.length-1;r<=o;o--)(r<o||!t&&p.warn)&&p.warn("tag <"+f[o].tag+"> has no matching end tag.",{start:f[o].start,end:f[o].end}),p.end&&p.end(f[o].tag,e,n);f.length=r,h=r&&f[r-1].tag}else"br"===i?p.start&&p.start(t,[],!0,e,n):"p"===i&&(p.start&&p.start(t,[],!1,e,n),p.end&&p.end(t,e,n))}E()}var Ea,Ca,Ta,Ia,za,Ma,Pa,Oa,La,Da=/^@|^v-on:/,Ra=/^v-|^@|^:|^#/,Ba=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Fa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Na=/^\(|\)$/g,Va=/^\[.*\]$/,ja=/:(.*)$/,$a=/^:|^\.|^v-bind:/,Ua=/\.[^.\]]+(?=[^\]]*$)/g,qa=/^v-slot(:|$)|^#/,Za=/[\r\n]/,Ga=/\s+/g,Ha=/[\s"'<>\/=]/,Wa=t(ia),Xa="_empty_";function Ka(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,r=t.length;n<r;n++)!e[t[n].name]||K||Y||Ea("duplicate attribute: "+t[n].name,t[n]),e[t[n].name]=t[n].value;return e}(e),rawAttrsMap:{},parent:n,children:[]}}function Ja(s,p){Ea=p.warn||hi,Ma=p.isPreTag||C,Pa=p.mustUseProp||C,Oa=p.getTagNamespace||C;var e=p.isReservedTag||C;La=function(t){return!!t.component||!e(t.tag)},Ta=fi(p.modules,"transformNode"),Ia=fi(p.modules,"preTransformNode"),za=fi(p.modules,"postTransformNode"),Ca=p.delimiters;var h,f,d=[],l=!1!==p.preserveWhitespace,u=p.whitespace,m=!1,v=!1,n=!1;function c(t,e){n||(n=!0,Ea(t,e))}function y(t){if(o(t),m||t.processed||(t=Ya(t,p)),d.length||t===h||(h.if&&(t.elseif||t.else)?(g(t),ts(h,{exp:t.elseif,block:t})):c("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.",{start:t.start})),f&&!t.forbidden)if(t.elseif||t.else)n=t,(r=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];" "!==t[e].text&&Ea('text "'+t[e].text.trim()+'" between v-if and v-else(-if) will be ignored.',t[e]),t.pop()}}(f.children))&&r.if?ts(r,{exp:n.elseif,block:n}):Ea("v-"+(n.elseif?'else-if="'+n.elseif+'"':"else")+" used on element <"+n.tag+"> without corresponding v-if.",n.rawAttrsMap[n.elseif?"v-else-if":"v-else"]);else{if(t.slotScope){var e=t.slotTarget||'"default"';(f.scopedSlots||(f.scopedSlots={}))[e]=t}f.children.push(t),t.parent=f}var n,r;t.children=t.children.filter(function(t){return!t.slotScope}),o(t),t.pre&&(m=!1),Ma(t.tag)&&(v=!1);for(var i=0;i<za.length;i++)za[i](t,p)}function o(t){if(!v)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}function g(t){"slot"!==t.tag&&"template"!==t.tag||c("Cannot use <"+t.tag+"> as component root element because it may contain multiple nodes.",{start:t.start}),t.attrsMap.hasOwnProperty("v-for")&&c("Cannot use v-for on stateful component root element because it renders multiple elements.",t.rawAttrsMap["v-for"])}return ka(s,{warn:Ea,expectHTML:p.expectHTML,isUnaryTag:p.isUnaryTag,canBeLeftOpenTag:p.canBeLeftOpenTag,shouldDecodeNewlines:p.shouldDecodeNewlines,shouldDecodeNewlinesForHref:p.shouldDecodeNewlinesForHref,shouldKeepComment:p.comments,outputSourceRange:p.outputSourceRange,start:function(t,e,n,r,i){var o=f&&f.ns||Oa(t);K&&"svg"===o&&(e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];rs.test(r.name)||(r.name=r.name.replace(is,""),e.push(r))}return e}(e));var a,s,l,u=Ka(t,e,f);o&&(u.ns=o),p.outputSourceRange&&(u.start=r,u.end=i,u.rawAttrsMap=u.attrsList.reduce(function(t,e){return t[e.name]=e,t},{})),e.forEach(function(t){Ha.test(t.name)&&Ea("Invalid dynamic argument expression: attribute names cannot contain spaces, quotes, <, >, / or =.",{start:t.start+t.name.indexOf("["),end:t.start+t.name.length})}),"style"!==(a=u).tag&&("script"!==a.tag||a.attrsMap.type&&"text/javascript"!==a.attrsMap.type)||it()||(u.forbidden=!0,Ea("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+t+">, as they will not be parsed.",{start:u.start}));for(var c=0;c<Ia.length;c++)u=Ia[c](u,p)||u;m||(null!=bi(s=u,"v-pre")&&(s.pre=!0),u.pre&&(m=!0)),Ma(u.tag)&&(v=!0),m?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(u):u.processed||(Qa(u),function(t){var e=bi(t,"v-if");if(e)t.if=e,ts(t,{exp:e,block:t});else{null!=bi(t,"v-else")&&(t.else=!0);var n=bi(t,"v-else-if");n&&(t.elseif=n)}}(u),null!=bi(l=u,"v-once")&&(l.once=!0)),h||g(h=u),n?y(u):(f=u,d.push(u))},end:function(t,e,n){var r=d[d.length-1];--d.length,f=d[d.length-1],p.outputSourceRange&&(r.end=n),y(r)},chars:function(t,e,n){if(f){if(!K||"textarea"!==f.tag||f.attrsMap.placeholder!==t){var r,i,o,a=f.children;if(t=v||t.trim()?"script"===(r=f).tag||"style"===r.tag?t:Wa(t):a.length?u?"condense"===u&&Za.test(t)?"":" ":l?" ":"":"")v||"condense"!==u||(t=t.replace(Ga," ")),!m&&" "!==t&&(i=ta(t,Ca))?o={type:2,expression:i.expression,tokens:i.tokens,text:t}:" "===t&&a.length&&" "===a[a.length-1].text||(o={type:3,text:t}),o&&(p.outputSourceRange&&(o.start=e,o.end=n),a.push(o))}}else t===s?c("Component template requires a root element, rather than just text.",{start:e}):(t=t.trim())&&c('text "'+t+'" outside root element will be ignored.',{start:e})},comment:function(t,e,n){if(f){var r={type:3,text:t,isComment:!0};p.outputSourceRange&&(r.start=e,r.end=n),f.children.push(r)}}}),h}function Ya(t,e){var n,r,i;!function(t){var e=xi(t,"key");if(e){if("template"===t.tag&&Ea("<template> cannot be keyed. Place the key on real elements instead.",_i(t,"key")),t.for){var n=t.iterator2||t.iterator1,r=t.parent;n&&n===e&&r&&"transition-group"===r.tag&&Ea("Do not use v-for index as key on <transition-group> children, this is the same as not using keys.",_i(t,"key"),!0)}t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,(r=xi(n=t,"ref"))&&(n.ref=r,n.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(n)),function(t){var e;"template"===t.tag?((e=bi(t,"scope"))&&Ea('the "scope" attribute for scoped slots have been deprecated and replaced by "slot-scope" since 2.5. The new "slot-scope" attribute can also be used on plain elements in addition to <template> to denote scoped slots.',t.rawAttrsMap.scope,!0),t.slotScope=e||bi(t,"slot-scope")):(e=bi(t,"slot-scope"))&&(t.attrsMap["v-for"]&&Ea("Ambiguous combined usage of slot-scope and v-for on <"+t.tag+"> (v-for takes higher priority). Use a wrapper <template> for the scoped slot to make it clearer.",t.rawAttrsMap["slot-scope"],!0),t.slotScope=e);var n=xi(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||mi(t,"slot",n,_i(t,"slot")));if("template"===t.tag){var r=wi(t,qa);if(r){(t.slotTarget||t.slotScope)&&Ea("Unexpected mixed usage of different slot syntaxes.",t),t.parent&&!La(t.parent)&&Ea("<template v-slot> can only appear at the root level inside the receiving component",t);var i=es(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||Xa}}else{var s=wi(t,qa);if(s){La(t)||Ea("v-slot can only be used on components or <template>.",s),(t.slotScope||t.slotTarget)&&Ea("Unexpected mixed usage of different slot syntaxes.",t),t.scopedSlots&&Ea("To avoid scope ambiguity, the default slot should also use <template> syntax when there are other named slots.",s);var l=t.scopedSlots||(t.scopedSlots={}),u=es(s),c=u.name,p=u.dynamic,h=l[c]=Ka("template",[],t);h.slotTarget=c,h.slotTargetDynamic=p,h.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=h,!0}),h.slotScope=s.value||Xa,t.children=[],t.plain=!1}}}(t),"slot"===(i=t).tag&&(i.slotName=xi(i,"name"),i.key&&Ea("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.",_i(i,"key"))),function(t){var e;(e=xi(t,"is"))&&(t.component=e);null!=bi(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var o=0;o<Ta.length;o++)t=Ta[o](t,e)||t;return function(t){var e,n,r,i,o,a,s,l,u=t.attrsList;for(e=0,n=u.length;e<n;e++){if(r=i=u[e].name,o=u[e].value,Ra.test(r))if(t.hasBindings=!0,(a=ns(r.replace(Ra,"")))&&(r=r.replace(Ua,"")),$a.test(r))r=r.replace($a,""),o=ci(o),(l=Va.test(r))&&(r=r.slice(1,-1)),0===o.trim().length&&Ea('The value for a v-bind expression cannot be empty. Found in "v-bind:'+r+'"'),a&&(a.prop&&!l&&"innerHtml"===(r=b(r))&&(r="innerHTML"),a.camel&&!l&&(r=b(r)),a.sync&&(s=ki(o,"$event"),l?gi(t,'"update:"+('+r+")",s,null,!1,Ea,u[e],!0):(gi(t,"update:"+b(r),s,null,!1,Ea,u[e]),w(r)!==b(r)&&gi(t,"update:"+w(r),s,null,!1,Ea,u[e])))),(a&&a.prop||!t.component&&Pa(t.tag,t.attrsMap.type,r)?di:mi)(t,r,o,u[e],l);else if(Da.test(r))r=r.replace(Da,""),(l=Va.test(r))&&(r=r.slice(1,-1)),gi(t,r,o,a,!1,Ea,u[e],l);else{var c=(r=r.replace(Ra,"")).match(ja),p=c&&c[1];l=!1,p&&(r=r.slice(0,-(p.length+1)),Va.test(p)&&(p=p.slice(1,-1),l=!0)),h=t,f=r,d=i,m=o,v=p,y=l,g=a,_=u[e],(h.directives||(h.directives=[])).push(Ai({name:f,rawName:d,value:m,arg:v,isDynamicArg:y,modifiers:g},_)),h.plain=!1,"model"===r&&os(t,o)}else ta(o,Ca)&&Ea(r+'="'+o+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.',u[e]),mi(t,r,JSON.stringify(o),u[e]),!t.component&&"muted"===r&&Pa(t.tag,t.attrsMap.type,r)&&di(t,r,"true",u[e])}var h,f,d,m,v,y,g,_}(t),t}function Qa(t){var e;if(e=bi(t,"v-for")){var n=function(t){var e=t.match(Ba);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(Na,""),i=r.match(Fa);i?(n.alias=r.replace(Fa,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n?A(t,n):Ea("Invalid v-for expression: "+e,t.rawAttrsMap["v-for"])}}function ts(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function es(t){var e=t.name.replace(qa,"");return e||("#"!==t.name[0]?e="default":Ea("v-slot shorthand syntax requires a slot name.",t)),Va.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function ns(t){var e=t.match(Ua);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var rs=/^xmlns:NS\d+/,is=/^NS\d+:/;function os(t,e){for(var n=t;n;)n.for&&n.alias===e&&Ea("<"+t.tag+' v-model="'+e+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.',t.rawAttrsMap["v-model"]),n=n.parent}function as(t){return Ka(t.tag,t.attrsList.slice(),t.parent)}var ss=[ea,ra,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=xi(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=bi(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=bi(t,"v-else",!0),s=bi(t,"v-else-if",!0),l=as(t);Qa(l),vi(l,"type","checkbox"),Ya(l,e),l.processed=!0,l.if="("+n+")==='checkbox'"+o,ts(l,{exp:l.if,block:l});var u=as(t);bi(u,"v-for",!0),vi(u,"type","radio"),Ya(u,e),ts(l,{exp:"("+n+")==='radio'"+o,block:u});var c=as(t);return bi(c,"v-for",!0),vi(c,":type",n),Ya(c,e),ts(l,{exp:i,block:c}),a?l.else=!0:s&&(l.elseif=s),l}}}}];var ls,us,cs={expectHTML:!0,modules:ss,directives:{model:function(t,e,n){si=n;var r,i,o,a,s,l,u,c,p,h,f,d,m,v,y,g,_=e.value,x=e.modifiers,b=t.tag,w=t.attrsMap.type;if("input"===b&&"file"===w&&si("<"+t.tag+' v-model="'+_+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.',t.rawAttrsMap["v-model"]),t.component)return Si(t,_,x),!1;if("select"===b)m=t,v=_,g=(g='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+((y=x)&&y.number?"_n(val)":"val")+"});")+" "+ki(v,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),gi(m,"change",g,null,!0);else if("input"===b&&"checkbox"===w)l=t,u=_,p=(c=x)&&c.number,h=xi(l,"value")||"null",f=xi(l,"true-value")||"true",d=xi(l,"false-value")||"false",di(l,"checked","Array.isArray("+u+")?_i("+u+","+h+")>-1"+("true"===f?":("+u+")":":_q("+u+","+f+")")),gi(l,"change","var $$a="+u+",$$el=$event.target,$$c=$$el.checked?("+f+"):("+d+");if(Array.isArray($$a)){var $$v="+(p?"_n("+h+")":h)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+ki(u,"$$a.concat([$$v])")+")}else{$$i>-1&&("+ki(u,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+ki(u,"$$c")+"}",null,!0);else if("input"===b&&"radio"===w)r=t,i=_,a=(o=x)&&o.number,s=xi(r,"value")||"null",di(r,"checked","_q("+i+","+(s=a?"_n("+s+")":s)+")"),gi(r,"change",ki(i,s),null,!0);else if("input"===b||"textarea"===b)!function(t,e,n){var r=t.attrsMap.type,i=t.attrsMap["v-bind:value"]||t.attrsMap[":value"],o=t.attrsMap["v-bind:type"]||t.attrsMap[":type"];if(i&&!o){var a=t.attrsMap["v-bind:value"]?"v-bind:value":":value";si(a+'="'+i+'" conflicts with v-model on the same element because the latter already expands to a value binding internally',t.rawAttrsMap[a])}var s=n||{},l=s.lazy,u=s.number,c=s.trim,p=!l&&"range"!==r,h=l?"change":"range"===r?Pi:"input",f="$event.target.value";c&&(f="$event.target.value.trim()");u&&(f="_n("+f+")");var d=ki(e,f);p&&(d="if($event.target.composing)return;"+d);di(t,"value","("+e+")"),gi(t,h,d,null,!0),(c||u)&&gi(t,"blur","$forceUpdate()")}(t,_,x);else{if(!j.isReservedTag(b))return Si(t,_,x),!1;si("<"+t.tag+' v-model="'+_+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.",t.rawAttrsMap["v-model"])}return!0},text:function(t,e){e.value&&di(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&di(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:oa,mustUseProp:dr,canBeLeftOpenTag:aa,isReservedTag:Ir,getTagNamespace:Or,staticKeys:ss.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")},ps=t(function(t){return u("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))});function hs(t,e){t&&(ls=ps(e.staticKeys||""),us=e.isReservedTag||C,function t(e){e.static=fs(e);if(1===e.type){if(!us(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,n)}}(t,!1))}function fs(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||r(t.tag)||!us(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return;if(t.for)return 1}return}(t)||!Object.keys(t).every(ls))))}var ds=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,ms=/\([^)]*?\);*$/,vs=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ys={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},gs={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_s=function(t){return"if("+t+")return null;"},xs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_s("$event.target !== $event.currentTarget"),ctrl:_s("!$event.ctrlKey"),shift:_s("!$event.shiftKey"),alt:_s("!$event.altKey"),meta:_s("!$event.metaKey"),left:_s("'button' in $event && $event.button !== 0"),middle:_s("'button' in $event && $event.button !== 1"),right:_s("'button' in $event && $event.button !== 2")};function bs(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=ws(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function ws(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return ws(t)}).join(",")+"]";var e=vs.test(t.value),n=ds.test(t.value),r=vs.test(t.value.replace(ms,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(xs[s])o+=xs[s],ys[s]&&a.push(s);else if("exact"===s){var l=t.modifiers;o+=_s(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+="if(!$event.type.indexOf('key')&&"+a.map(As).join("&&")+")return null;"),o&&(i+=o),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function As(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ys[t],r=gs[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Ss={on:function(t,e){e.modifiers&&ut("v-on without argument does not support modifiers."),t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(e,n){e.wrapData=function(t){return"_b("+t+",'"+e.tag+"',"+n.value+","+(n.modifiers&&n.modifiers.prop?"true":"false")+(n.modifiers&&n.modifiers.sync?",true":"")+")"}},cloak:k},ks=function(t){this.options=t,this.warn=t.warn||hi,this.transforms=fi(t.modules,"transformCode"),this.dataGenFns=fi(t.modules,"genData"),this.directives=A(A({},Ss),t.directives);var e=t.isReservedTag||C;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Es(t,e){var n=new ks(e);return{render:"with(this){return "+(t?Cs(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Cs(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ts(t,e);if(t.once&&!t.onceProcessed)return Is(t,e);if(t.for&&!t.forProcessed)return Ms(t,e);if(t.if&&!t.ifProcessed)return zs(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Ds(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?Fs((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:b(t.name),value:t.value,dynamic:t.dynamic}})):null,a=t.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var n;if(t.component)a=t.component,l=e,u=(s=t).inlineTemplate?null:Ds(s,l,!0),n="_c("+a+","+Ps(s,l)+(u?","+u:"")+")";else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Ps(t,e));var i=t.inlineTemplate?null:Ds(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Ds(t,e)||"void 0";var a,s,l,u}function Ts(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Cs(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Is(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return zs(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Cs(t,e)+","+e.onceId+++","+n+")":(e.warn("v-once can only be used inside v-for that is keyed. ",t.rawAttrsMap["v-once"]),Cs(t,e))}return Ts(t,e)}function zs(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,i){if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,n,r,i):""+a(o.block);function a(t){return(r||(t.once?Is:Cs))(t,n)}}(t.ifConditions.slice(),e,n,r)}function Ms(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return e.maybeComponent(t)&&"slot"!==t.tag&&"template"!==t.tag&&!t.key&&e.warn("<"+t.tag+' v-for="'+o+" in "+i+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',t.rawAttrsMap["v-for"],!0),t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||Cs)(t,e)+"})"}function Ps(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,o,a,s="directives:[",l=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(l=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+Fs(t.attrs)+","),t.props&&(n+="domProps:"+Fs(t.props)+","),t.events&&(n+=bs(t.events,!1)+","),t.nativeEvents&&(n+=bs(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,n,e){var r=t.for||Object.keys(n).some(function(t){var e=n[t];return e.slotTargetDynamic||e.if||e.for||Os(e)}),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==Xa||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(n).map(function(t){return Ls(n[t],e)}).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];1===t.children.length&&1===n.type||e.warn("Inline-template components must have exactly one child element.",{start:t.start});if(n&&1===n.type){var r=Es(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+Fs(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Os(t){return 1===t.type&&("slot"===t.tag||t.children.some(Os))}function Ls(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return zs(t,e,Ls,"null");if(t.for&&!t.forProcessed)return Ms(t,e,Ls);var r=t.slotScope===Xa?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Ds(t,e)||"undefined")+":undefined":Ds(t,e)||"undefined":Cs(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function Ds(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return(r||Cs)(a,e)+s}var l=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Rs(i)||i.ifConditions&&i.ifConditions.some(function(t){return Rs(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||Bs;return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(l?","+l:"")}}function Rs(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Bs(t,e){return 1===t.type?Cs(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:Ns(JSON.stringify(n.text)))+")";var n,r}function Fs(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=Ns(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Ns(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Vs=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),js=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),$s=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Us(t,e){t&&!function t(e,n){if(1===e.type){for(var r in e.attrsMap)if(Ra.test(r)){var i=e.attrsMap[r];if(i){var o=e.rawAttrsMap[r];"v-for"===r?Zs(e,'v-for="'+i+'"',n,o):("v-slot"===r||"#"===r[0]?Ws:Da.test(r)?qs:Hs)(i,r+'="'+i+'"',n,o)}}if(e.children)for(var a=0;a<e.children.length;a++)t(e.children[a],n)}else 2===e.type&&Hs(e.expression,e.text,n,e)}(t,e)}function qs(t,e,n,r){var i=t.replace($s,""),o=i.match(js);o&&"$"!==i.charAt(o.index-1)&&n('avoid using JavaScript unary operator as property name: "'+o[0]+'" in expression '+e.trim(),r),Hs(t,e,n,r)}function Zs(t,e,n,r){Hs(t.for||"",e,n,r),Gs(t.alias,"v-for alias",e,n,r),Gs(t.iterator1,"v-for iterator",e,n,r),Gs(t.iterator2,"v-for iterator",e,n,r)}function Gs(e,n,r,i,o){if("string"==typeof e)try{new Function("var "+e+"=_")}catch(t){i("invalid "+n+' "'+e+'" in expression: '+r.trim(),o)}}function Hs(e,n,r,i){try{new Function("return "+e)}catch(t){var o=e.replace($s,"").match(Vs);r(o?'avoid using JavaScript keyword as property name: "'+o[0]+'"\n  Raw expression: '+n.trim():"invalid expression: "+t.message+" in\n\n    "+e+"\n\n  Raw expression: "+n.trim()+"\n",i)}}function Ws(e,n,r,i){try{new Function(e,"")}catch(t){r("invalid function parameter expression: "+t.message+" in\n\n    "+e+"\n\n  Raw expression: "+n.trim()+"\n",i)}}var Xs=2;function Ks(t,e){var n="";if(0<e)for(;1&e&&(n+=t),!((e>>>=1)<=0);)t+=t;return n}function Js(e,n){try{return new Function(e)}catch(t){return n.push({err:t,code:e}),k}}function Ys(l){var u=Object.create(null);return function(e,t,n){var r=(t=A({},t)).warn||ut;delete t.warn;try{new Function("return 1")}catch(t){t.toString().match(/unsafe-eval|CSP/)&&r("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var i=t.delimiters?String(t.delimiters)+e:e;if(u[i])return u[i];var o=l(e,t);o.errors&&o.errors.length&&(t.outputSourceRange?o.errors.forEach(function(t){r("Error compiling template:\n\n"+t.msg+"\n\n"+function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);for(var r=t.split(/\r?\n/),i=0,o=[],a=0;a<r.length;a++)if(e<=(i+=r[a].length+1)){for(var s=a-Xs;s<=a+Xs||i<n;s++)if(!(s<0||s>=r.length)){o.push(""+(s+1)+Ks(" ",3-String(s+1).length)+"|  "+r[s]);var l=r[s].length;if(s===a){var u=e-(i-l)+1,c=i<n?l-u:n-e;o.push("   |  "+Ks(" ",u)+Ks("^",c))}else if(a<s){if(i<n){var p=Math.min(n-i,l);o.push("   |  "+Ks("^",p))}i+=l+1}}break}return o.join("\n")}(e,t.start,t.end),n)}):r("Error compiling template:\n\n"+e+"\n\n"+o.errors.map(function(t){return"- "+t}).join("\n")+"\n",n)),o.tips&&o.tips.length&&(t.outputSourceRange?o.tips.forEach(function(t){return ct(t.msg,n)}):o.tips.forEach(function(t){return ct(t,n)}));var a={},s=[];return a.render=Js(o.render,s),a.staticRenderFns=o.staticRenderFns.map(function(t){return Js(t,s)}),o.errors&&o.errors.length||!s.length||r("Failed to generate render function:\n\n"+s.map(function(t){var e=t.err,n=t.code;return e.toString()+" in\n\n"+n+"\n"}).join("\n"),n),u[i]=a}}var Qs,tl,el=(Qs=function(t,e){var n=Ja(t.trim(),e);!1!==e.optimize&&hs(n,e);var r=Es(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(u){function t(t,e){var n=Object.create(u),i=[],o=[],r=function(t,e,n){(n?o:i).push(t)};if(e){if(e.outputSourceRange){var a=t.match(/^\s*/)[0].length;r=function(t,e,n){var r={msg:t};e&&(null!=e.start&&(r.start=e.start+a),null!=e.end&&(r.end=e.end+a)),(n?o:i).push(r)}}for(var s in e.modules&&(n.modules=(u.modules||[]).concat(e.modules)),e.directives&&(n.directives=A(Object.create(u.directives||null),e.directives)),e)"modules"!==s&&"directives"!==s&&(n[s]=e[s])}n.warn=r;var l=Qs(t.trim(),n);return Us(l.ast,r),l.errors=i,l.tips=o,l}return{compile:t,compileToFunctions:Ys(t)}})(cs),nl=(el.compile,el.compileToFunctions);function rl(t){return(tl=tl||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',0<tl.innerHTML.indexOf("&#10;")}var il=!!G&&rl(!1),ol=!!G&&rl(!0),al=t(function(t){var e=Rr(t);return e&&e.innerHTML}),sl=rr.prototype.$mount;return rr.prototype.$mount=function(t,e){if((t=t&&Rr(t))===document.body||t===document.documentElement)return ut("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&((r=al(r))||ut("Template element not found or is empty: "+n.template,this));else{if(!r.nodeType)return ut("invalid template option:"+r,this),this;r=r.innerHTML}else t&&(r=function(t){{if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}}(t));if(r){j.performance&&ie&&ie("compile");var i=nl(r,{outputSourceRange:!0,shouldDecodeNewlines:il,shouldDecodeNewlinesForHref:ol,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a,j.performance&&ie&&(ie("compile end"),oe("vue "+this._name+" compile","compile","compile end"))}}return sl.call(this,t,e)},rr.compile=nl,rr},"object"==typeof r&&void 0!==n?n.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Vue=e()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,xo,e){(function(t){"use strict";var y=Object.freeze({});function D(t){return null==t}function R(t){return null!=t}function L(t){return!0===t}function m(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function B(t){return null!==t&&"object"==typeof t}var e=Object.prototype.toString;function p(t){return e.call(t).slice(8,-1)}function l(t){return"[object Object]"===e.call(t)}function i(t){return"[object RegExp]"===e.call(t)}function o(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function g(t){return R(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function n(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===e?JSON.stringify(t,null,2):String(t)}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function u(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var r=u("slot,component",!0),c=u("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}var a=Object.prototype.hasOwnProperty;function x(t,e){return a.call(t,e)}function s(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var h=/-(\w)/g,f=s(function(t){return t.replace(h,function(t,e){return e?e.toUpperCase():""})}),d=s(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),v=/\B([A-Z])/g,b=s(function(t){return t.replace(v,"-$1").toLowerCase()});var w=Function.prototype.bind?function(t,e){return t.bind(e)}:function(n,r){function t(t){var e=arguments.length;return e?1<e?n.apply(r,arguments):n.call(r,t):n.call(r)}return t._length=n.length,t};function A(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function S(t,e){for(var n in e)t[n]=e[n];return t}function k(t){for(var e={},n=0;n<t.length;n++)t[n]&&S(e,t[n]);return e}function E(t,e,n){}function C(t,e,n){return!1}var T=function(t){return t};function I(e,n){if(e===n)return!0;var t=B(e),r=B(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var i=Array.isArray(e),o=Array.isArray(n);if(i&&o)return e.length===n.length&&e.every(function(t,e){return I(t,n[e])});if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(t){return I(e[t],n[t])})}catch(t){return!1}}function z(t,e){for(var n=0;n<t.length;n++)if(I(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var V="data-server-rendered",M=["component","directive","filter"],P=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:C,isReservedAttr:C,isUnknownElement:C,getTagNamespace:E,parsePlatformTagName:T,mustUseProp:C,async:!0,_lifecycleHooks:P},O=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function $(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function U(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+O.source+".$_\\d]");var Z,G="__proto__"in{},H="undefined"!=typeof window,W="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=W&&WXEnvironment.platform.toLowerCase(),K=H&&window.navigator.userAgent.toLowerCase(),J=K&&/msie|trident/.test(K),Y=K&&0<K.indexOf("msie 9.0"),Q=K&&0<K.indexOf("edge/"),tt=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===X),et=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),nt={}.watch,rt=!1;if(H)try{var it={};Object.defineProperty(it,"passive",{get:function(){rt=!0}}),window.addEventListener("test-passive",null,it)}catch(t){}var ot=function(){return void 0===Z&&(Z=!H&&!W&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),Z},at=H&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var lt,ut="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);lt="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=E,pt=E,ht=E,ft=E,dt="undefined"!=typeof console,mt=/(?:^|[-_])(\w)/g;ct=function(t,e){var n=e?ht(e):"";j.warnHandler?j.warnHandler.call(null,t,e,n):dt&&!j.silent&&console.error("[Vue warn]: "+t+n)},pt=function(t,e){dt&&!j.silent&&console.warn("[Vue tip]: "+t+(e?ht(e):""))},ft=function(t,e){if(t.$root===t)return"<Root>";var n="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t,r=n.name||n._componentTag,i=n.__file;if(!r&&i){var o=i.match(/([^/\\]+)\.vue$/);r=o&&o[1]}return(r?"<"+r.replace(mt,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")+">":"<Anonymous>")+(i&&!1!==e?" at "+i:"")};ht=function(t){if(t._isVue&&t.$parent){for(var e=[],n=0;t;){if(0<e.length){var r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}0<n&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(0===e?"---\x3e ":function(t,e){for(var n="";e;)e%2==1&&(n+=t),1<e&&(t+=t),e>>=1;return n}(" ",5+2*e))+(Array.isArray(t)?ft(t[0])+"... ("+t[1]+" recursive calls)":ft(t))}).join("\n")}return"\n\n(found in "+ft(t)+")"};var vt=0,yt=function(){this.id=vt++,this.subs=[]};yt.prototype.addSub=function(t){this.subs.push(t)},yt.prototype.removeSub=function(t){_(this.subs,t)},yt.prototype.depend=function(){yt.target&&yt.target.addDep(this)},yt.prototype.notify=function(){var t=this.subs.slice();j.async||t.sort(function(t,e){return t.id-e.id});for(var e=0,n=t.length;e<n;e++)t[e].update()},yt.target=null;var gt=[];function _t(t){gt.push(t),yt.target=t}function xt(){gt.pop(),yt.target=gt[gt.length-1]}var bt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,wt);var At=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function St(t){return new bt(void 0,void 0,void 0,String(t))}function kt(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Et=Array.prototype,Ct=Object.create(Et);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var a=Et[o];U(Ct,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=a.apply(this,t),i=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&i.observeArray(n),i.dep.notify(),r})});var Tt=Object.getOwnPropertyNames(Ct),It=!0;function zt(t){It=t}var Mt=function(t){var e;this.value=t,this.dep=new yt,this.vmCount=0,U(t,"__ob__",this),Array.isArray(t)?(G?(e=Ct,t.__proto__=e):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];U(t,o,e[o])}}(t,Ct,Tt),this.observeArray(t)):this.walk(t)};function Pt(t,e){var n;if(B(t)&&!(t instanceof bt))return x(t,"__ob__")&&t.__ob__ instanceof Mt?n=t.__ob__:It&&!ot()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Mt(t)),e&&n&&n.vmCount++,n}function Ot(n,t,r,i,o){var a=new yt,e=Object.getOwnPropertyDescriptor(n,t);if(!e||!1!==e.configurable){var s=e&&e.get,l=e&&e.set;s&&!l||2!==arguments.length||(r=n[t]);var u=!o&&Pt(r);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(n):r;return yt.target&&(a.depend(),u&&(u.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=s?s.call(n):r;t===e||t!=t&&e!=e||(i&&i(),s&&!l||(l?l.call(n,t):r=t,u=!o&&Pt(t),a.notify()))}})}}function Lt(t,e,n){if((D(t)||m(t))&&ct("Cannot set reactive property on undefined, null, or primitive value: "+t),Array.isArray(t)&&o(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var r=t.__ob__;return t._isVue||r&&r.vmCount?(ct("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):r?(Ot(r.value,e,n),r.dep.notify(),n):t[e]=n}function Dt(t,e){if((D(t)||m(t))&&ct("Cannot delete reactive property on undefined, null, or primitive value: "+t),Array.isArray(t)&&o(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount?ct("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):x(t,e)&&(delete t[e],n&&n.dep.notify())}}Mt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Ot(t,e[n])},Mt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Pt(t[e])};var Rt=j.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,r,i,o=ut?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],x(t,n)?r!==i&&l(r)&&l(i)&&Bt(r,i):Lt(t,n,i));return t}function Ft(n,r,i){return i?function(){var t="function"==typeof r?r.call(i,i):r,e="function"==typeof n?n.call(i,i):n;return t?Bt(t,e):e}:r?n?function(){return Bt("function"==typeof r?r.call(this,this):r,"function"==typeof n?n.call(this,this):n)}:r:n}function Nt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Vt(t,e,n,r){var i=Object.create(t||null);return e?(Ut(r,e,n),S(i,e)):i}Rt.el=Rt.propsData=function(t,e,n,r){return n||ct('option "'+r+'" can only be used during instance creation with the `new` keyword.'),jt(t,e)},Rt.data=function(t,e,n){return n?Ft(t,e,n):e&&"function"!=typeof e?(ct('The "data" option should be a function that returns a per-instance value in component definitions.',n),t):Ft(t,e)},P.forEach(function(t){Rt[t]=Nt}),M.forEach(function(t){Rt[t+"s"]=Vt}),Rt.watch=function(t,e,n,r){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(Ut(r,e,n),!t)return e;var i={};for(var o in S(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Rt.props=Rt.methods=Rt.inject=Rt.computed=function(t,e,n,r){if(e&&Ut(r,e,n),!t)return e;var i=Object.create(null);return S(i,t),e&&S(i,e),i},Rt.provide=Ft;var jt=function(t,e){return void 0===e?t:e};function $t(t){new RegExp("^[a-zA-Z][\\-\\.0-9_"+O.source+"]*$").test(t)||ct('Invalid component name: "'+t+'". Component names should conform to valid custom element name in html5 specification.'),(r(t)||j.isReservedTag(t))&&ct("Do not use built-in or reserved HTML elements as component id: "+t)}function Ut(t,e,n){l(e)||ct('Invalid value for option "'+t+'": expected an Object, but got '+p(e)+".",n)}function qt(n,r,i){if(!function(t){for(var e in t.components)$t(e)}(r),"function"==typeof r&&(r=r.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])?o[f(i)]={type:null}:ct("props must be strings when using array syntax.");else if(l(n))for(var a in n)i=n[a],o[f(a)]=l(i)?i:{type:i};else ct('Invalid value for option "props": expected an Array or an Object, but got '+p(n)+".",e);t.props=o}}(r,i),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?S({from:o},a):{from:a}}else ct('Invalid value for option "inject": expected an Array or an Object, but got '+p(n)+".",e)}}(r,i),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(r),!r._base&&(r.extends&&(n=qt(n,r.extends,i)),r.mixins))for(var t=0,e=r.mixins.length;t<e;t++)n=qt(n,r.mixins[t],i);var o,a={};for(o in n)s(o);for(o in r)x(n,o)||s(o);function s(t){var e=Rt[t]||jt;a[t]=e(n[t],r[t],i,t)}return a}function Zt(t,e,n,r){if("string"==typeof n){var i=t[e];if(x(i,n))return i[n];var o=f(n);if(x(i,o))return i[o];var a=d(o);if(x(i,a))return i[a];var s=i[n]||i[o]||i[a];return r&&!s&&ct("Failed to resolve "+e.slice(0,-1)+": "+n,t),s}}function Gt(t,e,n,r){var i=e[t],o=!x(n,t),a=n[t],s=Jt(Boolean,i.type);if(-1<s)if(o&&!x(i,"default"))a=!1;else if(""===a||a===b(t)){var l=Jt(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!x(e,"default"))return;var r=e.default;B(r)&&ct('Invalid default value for prop "'+n+'": Props with type Object/Array must use a factory function to return the default value.',t);if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Xt(e.type)?r.call(t):r}(r,i,t);var u=It;zt(!0),Pt(a),zt(u)}return function(t,e,n,r,i){if(t.required&&i)return ct('Missing required prop: "'+e+'"',r);if(null==n&&!t.required)return;var o=t.type,a=!o||!0===o,s=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!a;l++){var u=Wt(n,o[l]);s.push(u.expectedType||""),a=u.valid}}if(!a)return ct(function(t,e,n){var r='Invalid prop: type check failed for prop "'+t+'". Expected '+n.map(d).join(", "),i=n[0],o=p(e),a=Yt(e,i),s=Yt(e,o);1===n.length&&Qt(i)&&!function(){var t=[],e=arguments.length;for(;e--;)t[e]=arguments[e];return t.some(function(t){return"boolean"===t.toLowerCase()})}(i,o)&&(r+=" with value "+a);r+=", got "+o+" ",Qt(o)&&(r+="with value "+s+".");return r}(e,n,s),r);var c=t.validator;c&&(c(n)||ct('Invalid prop: custom validator check failed for prop "'+e+'".',r))}(i,t,a,r,o),a}var Ht=/^(String|Number|Boolean|Function|Symbol)$/;function Wt(t,e){var n,r=Xt(e);if(Ht.test(r)){var i=typeof t;(n=i===r.toLowerCase())||"object"!=i||(n=t instanceof e)}else n="Object"===r?l(t):"Array"===r?Array.isArray(t):t instanceof e;return{valid:n,expectedType:r}}function Xt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Kt(t,e){return Xt(t)===Xt(e)}function Jt(t,e){if(!Array.isArray(e))return Kt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Kt(e[n],t))return n;return-1}function Yt(t,e){return"String"===e?'"'+t+'"':"Number"===e?""+Number(t):""+t}function Qt(e){return["string","number","boolean"].some(function(t){return e.toLowerCase()===t})}function te(t,e,n){_t();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){ne(t,r,"errorCaptured hook")}}ne(t,e,n)}finally{xt()}}function ee(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&g(o)&&!o._handled&&(o.catch(function(t){return te(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){te(t,r,i)}return o}function ne(e,t,n){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,n)}catch(t){t!==e&&re(t,null,"config.errorHandler")}re(e,t,n)}function re(t,e,n){if(ct("Error in "+n+': "'+t.toString()+'"',e),!H&&!W||"undefined"==typeof console)throw t;console.error(t)}var ie,oe,ae=!1,se=[],le=!1;function ue(){le=!1;for(var t=se.slice(0),e=se.length=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var ce=Promise.resolve();ie=function(){ce.then(ue),tt&&setTimeout(E)},ae=!0}else if(J||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ie="undefined"!=typeof setImmediate&&st(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var pe=1,he=new MutationObserver(ue),fe=document.createTextNode(String(pe));he.observe(fe,{characterData:!0}),ie=function(){pe=(pe+1)%2,fe.data=String(pe)},ae=!0}function de(t,e){var n;if(se.push(function(){if(t)try{t.call(e)}catch(t){te(t,e,"nextTick")}else n&&n(e)}),le||(le=!0,ie()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function me(t,e){ct('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',t)}function ve(t,e){ct('Property "'+e+'" must be accessed with "$data.'+e+'" because properties starting with "$" or "_" are not proxied in the Vue instance to prevent conflicts with Vue internals. See: https://vuejs.org/v2/api/#data',t)}var ye=u("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),ge="undefined"!=typeof Proxy&&st(Proxy);if(ge){var _e=u("stop,prevent,self,ctrl,shift,alt,meta,exact");j.keyCodes=new Proxy(j.keyCodes,{set:function(t,e,n){return _e(e)?(ct("Avoid overwriting built-in modifier in config.keyCodes: ."+e),!1):(t[e]=n,!0)}})}var xe={has:function(t,e){var n=e in t,r=ye(e)||"string"==typeof e&&"_"===e.charAt(0)&&!(e in t.$data);return n||r||(e in t.$data?ve:me)(t,e),n||!r}},be={get:function(t,e){return"string"!=typeof e||e in t||(e in t.$data?ve:me)(t,e),t[e]}};oe=function(t){if(ge){var e=t.$options,n=e.render&&e.render._withStripped?be:xe;t._renderProxy=new Proxy(t,n)}else t._renderProxy=t};var we,Ae,Se=new lt;function ke(t){!function t(e,n){var r,i;var o=Array.isArray(e);if(!o&&!B(e)||Object.isFrozen(e)||e instanceof bt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,Se),Se.clear()}var Ee=H&&window.performance;Ee&&Ee.mark&&Ee.measure&&Ee.clearMarks&&Ee.clearMeasures&&(we=function(t){return Ee.mark(t)},Ae=function(t,e,n){Ee.measure(t,e,n),Ee.clearMarks(e),Ee.clearMarks(n)});var Ce=s(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function Te(t,i){function o(){var t=arguments,e=o.fns;if(!Array.isArray(e))return ee(e,null,arguments,i,"v-on handler");for(var n=e.slice(),r=0;r<n.length;r++)ee(n[r],null,t,i,"v-on handler")}return o.fns=t,o}function Ie(t,e,n,r,i,o){var a,s,l,u;for(a in t)s=t[a],l=e[a],u=Ce(a),D(s)?ct('Invalid handler for event "'+u.name+'": got '+String(s),o):D(l)?(D(s.fns)&&(s=t[a]=Te(s,o)),L(u.once)&&(s=t[a]=i(u.name,s,u.capture)),n(u.name,s,u.capture,u.passive,u.params)):s!==l&&(l.fns=s,t[a]=l);for(a in e)D(t[a])&&r((u=Ce(a)).name,e[a],u.capture)}function ze(t,e,n){var r;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),_(r.fns,o)}D(i)?r=Te([o]):R(i.fns)&&L(i.merged)?(r=i).fns.push(o):r=Te([i,o]),r.merged=!0,t[e]=r}function Me(t,e,n,r,i){if(R(e)){if(x(e,n))return t[n]=e[n],i||delete e[n],1;if(x(e,r))return t[n]=e[r],i||delete e[r],1}}function Pe(t){return m(t)?[St(t)]:Array.isArray(t)?function t(e,n){var r=[];var i,o,a,s;for(i=0;i<e.length;i++)D(o=e[i])||"boolean"==typeof o||(a=r.length-1,s=r[a],Array.isArray(o)?0<o.length&&(Oe((o=t(o,(n||"")+"_"+i))[0])&&Oe(s)&&(r[a]=St(s.text+o[0].text),o.shift()),r.push.apply(r,o)):m(o)?Oe(s)?r[a]=St(s.text+o):""!==o&&r.push(St(o)):Oe(o)&&Oe(s)?r[a]=St(s.text+o.text):(L(e._isVList)&&R(o.tag)&&D(o.key)&&R(n)&&(o.key="__vlist"+n+"_"+i+"__"),r.push(o)));return r}(t):void 0}function Oe(t){return R(t)&&R(t.text)&&!1===t.isComment}function Le(t,e){if(t){for(var n=Object.create(null),r=ut?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&x(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;n[o]="function"==typeof l?l.call(e):l}else ct('Injection "'+o+'" not found',e)}}return n}}function De(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(Re)&&delete n[u];return n}function Re(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Be(t,e,n){var r,i=0<Object.keys(e).length,o=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==y&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var s in r={},t)t[s]&&"$"!==s[0]&&(r[s]=Fe(e,s,t[s]))}else r={};for(var l in e)l in r||(r[l]=Ne(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),U(r,"$stable",o),U(r,"$key",a),U(r,"$hasNormal",i),r}function Fe(t,e,n){function r(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:Pe(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t}return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Ne(t,e){return function(){return t[e]}}function Ve(t,e){var n,r,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(B(t))if(ut&&t[Symbol.iterator]){n=[];for(var s=t[Symbol.iterator](),l=s.next();!l.done;)n.push(e(l.value,n.length)),l=s.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return R(n)||(n=[]),n._isVList=!0,n}function je(t,e,n,r){var i,o=this.$scopedSlots[t];i=o?(n=n||{},r&&(B(r)||ct("slot v-bind without argument expects an Object",this),n=S(S({},r),n)),o(n)||e):this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function $e(t){return Zt(this.$options,"filters",t,!0)||T}function Ue(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function qe(t,e,n,r,i){var o=j.keyCodes[e]||n;return i&&r&&!j.keyCodes[e]?Ue(i,r):o?Ue(o,t):r?b(r)!==e:void 0}function Ze(i,o,a,s,l){if(a)if(B(a)){var u;Array.isArray(a)&&(a=k(a));var t=function(e){if("class"===e||"style"===e||c(e))u=i;else{var t=i.attrs&&i.attrs.type;u=s||j.mustUseProp(o,t,e)?i.domProps||(i.domProps={}):i.attrs||(i.attrs={})}var n=f(e),r=b(e);n in u||r in u||(u[e]=a[e],l&&((i.on||(i.on={}))["update:"+e]=function(t){a[e]=t}))};for(var e in a)t(e)}else ct("v-bind without argument expects an Object or Array value",this);return i}function Ge(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||We(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function He(t,e,n){return We(t,"__once__"+e+(n?"_"+n:""),!0),t}function We(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Xe(t[r],e+"_"+r,n);else Xe(t,e,n)}function Xe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ke(t,e){if(e)if(l(e)){var n=t.on=t.on?S({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else ct("v-on without argument expects an Object value",this);return t}function Je(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Je(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ye(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r?t[e[n]]=e[n+1]:""!==r&&null!==r&&ct("Invalid value for dynamic directive argument (expected string or null): "+r,this)}return t}function Qe(t,e){return"string"==typeof t?e+t:t}function tn(t){t._o=He,t._n=F,t._s=n,t._l=Ve,t._t=je,t._q=I,t._i=z,t._m=Ge,t._f=$e,t._k=qe,t._b=Ze,t._v=St,t._e=At,t._u=Je,t._g=Ke,t._d=Ye,t._p=Qe}function en(t,e,n,o,r){var a,i=this,s=r.options;x(o,"_uid")?(a=Object.create(o))._original=o:o=(a=o)._original;var l=L(s._compiled),u=!l;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||y,this.injections=Le(s.inject,o),this.slots=function(){return i.$slots||Be(t.scopedSlots,i.$slots=De(n,o)),i.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Be(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=Be(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,e,n,r){var i=pn(a,t,e,n,r,u);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return pn(a,t,e,n,r,u)}}function nn(t,e,n,r,i){var o=kt(t);return o.fnContext=n,o.fnOptions=r,(o.devtoolsMeta=o.devtoolsMeta||{}).renderContext=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function rn(t,e){for(var n in e)t[f(n)]=e[n]}tn(en.prototype);var on={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){on.prepatch(t,t)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;R(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,bn)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){wn=!0;var o=r.data.scopedSlots,a=t.$scopedSlots,s=!!(o&&!o.$stable||a!==y&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(i||t.$options._renderChildren||s);t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r);if(t.$options._renderChildren=i,t.$attrs=r.data.attrs||y,t.$listeners=n||y,e&&t.$options.props){zt(!1);for(var u=t._props,c=t.$options._propKeys||[],p=0;p<c.length;p++){var h=c[p],f=t.$options.props;u[h]=Gt(h,f,e,t)}zt(!0),t.$options.propsData=e}n=n||y;var d=t.$options._parentListeners;t.$options._parentListeners=n,xn(t,n,d),l&&(t.$slots=De(i,r.context),t.$forceUpdate());wn=!1}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,En(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,In.push(e)):kn(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,Sn(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);En(e,"deactivated")}}(e,!0):e.$destroy())}},an=Object.keys(on);function sn(t,e,n,r,i){if(!D(t)){var o=n.$options._base;if(B(t)&&(t=o.extend(t)),"function"==typeof t){var a,s,l,u,c,p,h;if(D(t.cid)&&void 0===(t=function(e,n){if(L(e.error)&&R(e.errorComp))return e.errorComp;if(R(e.resolved))return e.resolved;var t=fn;t&&R(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t);if(L(e.loading)&&R(e.loadingComp))return e.loadingComp;if(t&&!R(e.owners)){var r=e.owners=[t],i=!0,o=null,a=null;t.$on("hook:destroyed",function(){return _(r,t)});var s=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==a&&(clearTimeout(a),a=null))},l=N(function(t){e.resolved=dn(t,n),i?r.length=0:s(!0)}),u=N(function(t){ct("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),R(e.errorComp)&&(e.error=!0,s(!0))}),c=e(l,u);return B(c)&&(g(c)?D(e.resolved)&&c.then(l,u):g(c.component)&&(c.component.then(l,u),R(c.error)&&(e.errorComp=dn(c.error,n)),R(c.loading)&&(e.loadingComp=dn(c.loading,n),0===c.delay?e.loading=!0:o=setTimeout(function(){o=null,D(e.resolved)&&D(e.error)&&(e.loading=!0,s(!1))},c.delay||200)),R(c.timeout)&&(a=setTimeout(function(){a=null,D(e.resolved)&&u("timeout ("+c.timeout+"ms)")},c.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}(a=t,o)))return s=a,l=e,u=n,c=r,p=i,(h=At()).asyncFactory=s,h.asyncMeta={data:l,context:u,children:c,tag:p},h;e=e||{},rr(t),R(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],a=e.model.callback;R(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(i[r]=[a].concat(o)):i[r]=a}(t.options,e);var f=function(t,e,n){var r=e.options.props;if(!D(r)){var i={},o=t.attrs,a=t.props;if(R(o)||R(a))for(var s in r){var l=b(s),u=s.toLowerCase();s!==u&&o&&x(o,u)&&pt('Prop "'+u+'" is passed to component '+ft(n||e)+', but the declared prop name is "'+s+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+l+'" instead of "'+s+'".'),Me(i,a,s,l,!0)||Me(i,o,s,l,!1)}return i}}(e,t,i);if(L(t.options.functional))return function(t,e,n,r,i){var o=t.options,a={},s=o.props;if(R(s))for(var l in s)a[l]=Gt(l,s,e||y);else R(n.attrs)&&rn(a,n.attrs),R(n.props)&&rn(a,n.props);var u=new en(n,a,i,r,t),c=o.render.call(null,u._c,u);if(c instanceof bt)return nn(c,n,u.parent,o,u);if(Array.isArray(c)){for(var p=Pe(c)||[],h=new Array(p.length),f=0;f<p.length;f++)h[f]=nn(p[f],n,u.parent,o,u);return h}}(t,f,e,n,r);var d=e.on;if(e.on=e.nativeOn,L(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<an.length;n++){var r=an[n],i=e[r],o=on[r];i===o||i&&i._merged||(e[r]=i?ln(o,i):o)}}(e);var v=t.options.name||i;return new bt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:d,tag:i,children:r},a)}ct("Invalid Component definition: "+String(t),n)}}function ln(n,r){function t(t,e){n(t,e),r(t,e)}return t._merged=!0,t}var un=1,cn=2;function pn(t,e,n,r,i,o){return(Array.isArray(n)||m(n))&&(i=r,r=n,n=void 0),L(o)&&(i=cn),function(t,e,n,r,i){if(R(n)&&R(n.__ob__))return ct("Avoid using observed data object as vnode data: "+JSON.stringify(n)+"\nAlways create fresh vnode data objects in each render!",t),At();R(n)&&R(n.is)&&(e=n.is);if(!e)return At();R(n)&&R(n.key)&&!m(n.key)&&ct("Avoid using non-primitive value as key, use string/number value instead.",t);Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);i===cn?r=Pe(r):i===un&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var o,a;if("string"==typeof e){var s;a=t.$vnode&&t.$vnode.ns||j.getTagNamespace(e),o=j.isReservedTag(e)?(R(n)&&R(n.nativeOn)&&ct("The .native modifier for v-on is only valid on components but it was used on <"+e+">.",t),new bt(j.parsePlatformTagName(e),n,r,void 0,void 0,t)):n&&n.pre||!R(s=Zt(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):sn(s,n,t,r,e)}else o=sn(e,n,t,r);return Array.isArray(o)?o:R(o)?(R(a)&&function t(e,n,r){e.ns=n;"foreignObject"===e.tag&&(r=!(n=void 0));if(R(e.children))for(var i=0,o=e.children.length;i<o;i++){var a=e.children[i];R(a.tag)&&(D(a.ns)||L(r)&&"svg"!==a.tag)&&t(a,n,r)}}(o,a),R(n)&&function(t){B(t.style)&&ke(t.style);B(t.class)&&ke(t.class)}(n),o):At()}(t,e,n,r,i)}var hn,fn=null;function dn(t,e){return(t.__esModule||ut&&"Module"===t[Symbol.toStringTag])&&(t=t.default),B(t)?e.extend(t):t}function mn(t){return t.isComment&&t.asyncFactory}function vn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(R(n)&&(R(n.componentOptions)||mn(n)))return n}}function yn(t,e){hn.$on(t,e)}function gn(t,e){hn.$off(t,e)}function _n(e,n){var r=hn;return function t(){null!==n.apply(null,arguments)&&r.$off(e,t)}}function xn(t,e,n){Ie(e,n||{},yn,gn,_n,hn=t),hn=void 0}var bn=null,wn=!1;function An(t){var e=bn;return bn=t,function(){bn=e}}function Sn(t){for(;t=t&&t.$parent;)if(t._inactive)return 1}function kn(t,e){if(e){if(t._directInactive=!1,Sn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)kn(t.$children[n]);En(t,"activated")}}function En(t,e){_t();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ee(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),xt()}var Cn=100,Tn=[],In=[],zn={},Mn={},Pn=!1,On=!1,Ln=0;var Dn=0,Rn=Date.now;if(H&&!J){var Bn=window.performance;Bn&&"function"==typeof Bn.now&&Rn()>document.createEvent("Event").timeStamp&&(Rn=function(){return Bn.now()})}function Fn(){var t,e;for(Dn=Rn(),On=!0,Tn.sort(function(t,e){return t.id-e.id}),Ln=0;Ln<Tn.length;Ln++)if((t=Tn[Ln]).before&&t.before(),e=t.id,zn[e]=null,t.run(),null!=zn[e]&&(Mn[e]=(Mn[e]||0)+1,Mn[e]>Cn)){ct("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}var n=In.slice(),r=Tn.slice();Ln=Tn.length=In.length=0,zn={},Pn=On=!(Mn={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,kn(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&En(r,"updated")}}(r),at&&j.devtools&&at.emit("flush")}var Nn=0,Vn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Nn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression=e.toString(),"function"==typeof e?this.getter=e:(this.getter=function(t){if(!q.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=E,ct('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};Vn.prototype.get=function(){var t;_t(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;te(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ke(t),xt(),this.cleanupDeps()}return t},Vn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Vn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Vn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==zn[e]){if(zn[e]=!0,On){for(var n=Tn.length-1;Ln<n&&Tn[n].id>t.id;)n--;Tn.splice(n+1,0,t)}else Tn.push(t);if(!Pn){if(Pn=!0,!j.async)return Fn();de(Fn)}}}(this)},Vn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||B(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){te(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Vn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Vn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Vn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var jn={enumerable:!0,configurable:!0,get:E,set:E};function $n(t,e,n){jn.get=function(){return this[e][n]},jn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,jn)}function Un(t){t._watchers=[];var e=t.$options;e.props&&function(r,i){var o=r.$options.propsData||{},a=r._props={},s=r.$options._propKeys=[],l=!r.$parent;l||zt(!1);function t(t){s.push(t);var e=Gt(t,i,o,r),n=b(t);(c(n)||j.isReservedAttr(n))&&ct('"'+n+'" is a reserved attribute and cannot be used as component prop.',r),Ot(a,t,e,function(){l||wn||ct("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+t+'"',r)}),t in r||$n(r,"_props",t)}for(var e in i)t(e);zt(!0)}(t,e.props),e.methods&&function(t,e){var n=t.$options.props;for(var r in e)"function"!=typeof e[r]&&ct('Method "'+r+'" has type "'+typeof e[r]+'" in the component definition. Did you reference the function correctly?',t),n&&x(n,r)&&ct('Method "'+r+'" has already been defined as a prop.',t),r in t&&$(r)&&ct('Method "'+r+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),t[r]="function"!=typeof e[r]?E:w(e[r],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){_t();try{return t.call(e,e)}catch(t){return te(t,e,"data()"),{}}finally{xt()}}(e,t):e||{})||(e={},ct("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t));var n=Object.keys(e),r=t.$options.props,i=t.$options.methods,o=n.length;for(;o--;){var a=n[o];i&&x(i,a)&&ct('Method "'+a+'" has already been defined as a data property.',t),r&&x(r,a)?ct('The data property "'+a+'" is already declared as a prop. Use prop default value instead.',t):$(a)||$n(t,"_data",a)}Pt(e,!0)}(t):Pt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;null==a&&ct('Getter is missing for computed property "'+i+'".',t),r||(n[i]=new Vn(t,a||E,E,qn)),i in t?i in t.$data?ct('The computed property "'+i+'" is already defined in data.',t):t.$options.props&&i in t.$options.props&&ct('The computed property "'+i+'" is already defined as a prop.',t):Zn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==nt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Wn(t,n,r[i]);else Wn(t,n,r)}}(t,e.watch)}var qn={lazy:!0};function Zn(t,e,n){var r=!ot();"function"==typeof n?(jn.get=r?Gn(e):Hn(n),jn.set=E):(jn.get=n.get?r&&!1!==n.cache?Gn(e):Hn(n.get):E,jn.set=n.set||E),jn.set===E&&(jn.set=function(){ct('Computed property "'+e+'" was assigned to but it has no setter.',this)}),Object.defineProperty(t,e,jn)}function Gn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),yt.target&&t.depend(),t.value}}function Hn(t){return function(){return t.call(this,this)}}function Wn(t,e,n,r){return l(n)&&(n=(r=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Xn,Kn,Jn,Yn,Qn,tr,er,nr=0;function rr(t){var e=t.options;if(t.super){var n=rr(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&((e=e||{})[i]=n[i]);return e}(t);r&&S(t.extendOptions,r),(e=t.options=qt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ir(t){this instanceof ir||ct("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function or(t){t.cid=0;var a=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var i=t.name||e.options.name;i&&$t(i);function o(t){this._init(t)}return((o.prototype=Object.create(e.prototype)).constructor=o).cid=a++,o.options=qt(e.options,t),o.super=e,o.options.props&&function(t){var e=t.options.props;for(var n in e)$n(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)Zn(t.prototype,n,e[n])}(o),o.extend=e.extend,o.mixin=e.mixin,o.use=e.use,M.forEach(function(t){o[t]=e[t]}),i&&(o.options.components[i]=o),o.superOptions=e.options,o.extendOptions=t,o.sealedOptions=S({},o.options),r[n]=o}}function ar(t){return t&&(t.Ctor.options.name||t.tag)}function sr(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!i(t)&&t.test(e)}function lr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=ar(a.componentOptions);s&&!e(s)&&ur(n,o,r,i)}}}function ur(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}ir.prototype._init=function(t){var e,n,r,i,o,a,s=this;s._uid=nr++,j.performance&&we&&(e="vue-perf-start:"+s._uid,n="vue-perf-end:"+s._uid,we(e)),s._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent;var i=(n._parentVnode=r).componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(s,t):s.$options=qt(rr(s.constructor),t||{},s),oe(s),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(s._self=s),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&xn(t,e)}(s),function(i){i._vnode=null,i._staticTrees=null;var t=i.$options,e=i.$vnode=t._parentVnode,n=e&&e.context;i.$slots=De(t._renderChildren,n),i.$scopedSlots=y,i._c=function(t,e,n,r){return pn(i,t,e,n,r,!1)},i.$createElement=function(t,e,n,r){return pn(i,t,e,n,r,!0)};var r=e&&e.data;Ot(i,"$attrs",r&&r.attrs||y,function(){wn||ct("$attrs is readonly.",i)},!0),Ot(i,"$listeners",t._parentListeners||y,function(){wn||ct("$listeners is readonly.",i)},!0)}(s),En(s,"beforeCreate"),(i=Le((r=s).$options.inject,r))&&(zt(!1),Object.keys(i).forEach(function(t){Ot(r,t,i[t],function(){ct('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+t+'"',r)})}),zt(!0)),Un(s),(a=(o=s).$options.provide)&&(o._provided="function"==typeof a?a.call(o):a),En(s,"created"),j.performance&&we&&(s._name=ft(s,!1),we(n),Ae("vue "+s._name+" init",e,n)),s.$options.el&&s.$mount(s.$options.el)},Xn=ir,Jn={get:function(){return this._props}},(Kn={get:function(){return this._data}}).set=function(){ct("Avoid replacing instance root $data. Use nested data properties instead.",this)},Jn.set=function(){ct("$props is readonly.",this)},Object.defineProperty(Xn.prototype,"$data",Kn),Object.defineProperty(Xn.prototype,"$props",Jn),Xn.prototype.$set=Lt,Xn.prototype.$delete=Dt,Xn.prototype.$watch=function(t,e,n){if(l(e))return Wn(this,t,e,n);(n=n||{}).user=!0;var r=new Vn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){te(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}},Qn=/^hook:/,(Yn=ir).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),Qn.test(t)&&(this._hasHookEvent=!0);return this},Yn.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},Yn.prototype.$off=function(t,e){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.$off(t[n],e);return this}var i,o=this._events[t];if(!o)return this;if(!e)return this._events[t]=null,this;for(var a=o.length;a--;)if((i=o[a])===e||i.fn===e){o.splice(a,1);break}return this},Yn.prototype.$emit=function(t){var e=t.toLowerCase();e!==t&&this._events[e]&&pt('Event "'+e+'" is emitted in component '+ft(this)+' but the handler is registered for "'+t+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+b(t)+'" instead of "'+t+'".');var n=this._events[t];if(n){n=1<n.length?A(n):n;for(var r=A(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ee(n[o],this,r,this,i)}return this},(tr=ir).prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=An(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},tr.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},tr.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){En(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),En(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},tn((er=ir).prototype),er.prototype.$nextTick=function(t){return de(t,this)},er.prototype._render=function(){var e,n=this,t=n.$options,r=t.render,i=t._parentVnode;i&&(n.$scopedSlots=Be(i.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=i;try{fn=n,e=r.call(n._renderProxy,n.$createElement)}catch(t){if(te(t,n,"render"),n.$options.renderError)try{e=n.$options.renderError.call(n._renderProxy,n.$createElement,t)}catch(t){te(t,n,"renderError"),e=n._vnode}else e=n._vnode}finally{fn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof bt||(Array.isArray(e)&&ct("Multiple root nodes returned from render function. Render function should return a single root node.",n),e=At()),e.parent=i,e};var cr,pr,hr,fr=[String,RegExp,Array],dr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:fr,exclude:fr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)ur(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){lr(t,function(t){return sr(e,t)})}),this.$watch("exclude",function(e){lr(t,function(t){return!sr(e,t)})})},render:function(){var t=this.$slots.default,e=vn(t),n=e&&e.componentOptions;if(n){var r=ar(n),i=this.include,o=this.exclude;if(i&&(!r||!sr(i,r))||o&&r&&sr(o,r))return e;var a=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,_(s,l),s.push(l)):(a[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&ur(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};cr=ir,hr={get:function(){return j},set:function(){ct("Do not replace the Vue.config object, set individual fields instead.")}},Object.defineProperty(cr,"config",hr),cr.util={warn:ct,extend:S,mergeOptions:qt,defineReactive:Ot},cr.set=Lt,cr.delete=Dt,cr.nextTick=de,cr.observable=function(t){return Pt(t),t},cr.options=Object.create(null),M.forEach(function(t){cr.options[t+"s"]=Object.create(null)}),S((cr.options._base=cr).options.components,dr),cr.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=A(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},cr.mixin=function(t){return this.options=qt(this.options,t),this},or(cr),pr=cr,M.forEach(function(n){pr[n]=function(t,e){return e?("component"===n&&$t(t),"component"===n&&l(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(ir.prototype,"$isServer",{get:ot}),Object.defineProperty(ir.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ir,"FunctionalRenderContext",{value:en}),ir.version="2.6.11";var mr=u("style,class"),vr=u("input,textarea,option,select,progress"),yr=u("contenteditable,draggable,spellcheck"),gr=u("events,caret,typing,plaintext-only"),_r=function(t,e){return Sr(e)||"false"===e?"false":"contenteditable"===t&&gr(e)?e:"true"},xr=u("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),br="http://www.w3.org/1999/xlink",wr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ar=function(t){return wr(t)?t.slice(6,t.length):""},Sr=function(t){return null==t||!1===t};function kr(t){for(var e=t.data,n=t,r=t;R(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Er(r.data,e));for(;R(n=n.parent);)n&&n.data&&(e=Er(e,n.data));return function(t,e){if(R(t)||R(e))return Cr(t,Tr(e));return""}(e.staticClass,e.class)}function Er(t,e){return{staticClass:Cr(t.staticClass,e.staticClass),class:R(t.class)?[t.class,e.class]:e.class}}function Cr(t,e){return t?e?t+" "+e:t:e||""}function Tr(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)R(e=Tr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):B(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function Ir(t){return Mr(t)||Pr(t)}var zr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Mr=u("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Pr=u("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0);var Or=Object.create(null);var Lr=u("text,number,password,search,email,tel,url");var Dr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(zr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Rr={create:function(t,e){Br(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Br(t,!0),Br(e))},destroy:function(t){Br(t,!0)}};function Br(t,e){var n=t.data.ref;if(R(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?_(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var Fr=new bt("",{},[]),Nr=["create","activate","update","remove","destroy"];function Vr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&R(t.data)===R(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=R(n=t.data)&&R(n=n.attrs)&&n.type,i=R(n=e.data)&&R(n=n.attrs)&&n.type;return r===i||Lr(r)&&Lr(i)}(t,e)||L(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&D(e.asyncFactory.error))}function jr(t,e,n){var r,i,o={};for(r=e;r<=n;++r)R(i=t[r].key)&&(o[i]=r);return o}var $r={create:Ur,update:Ur,destroy:function(t){Ur(t,Fr)}};function Ur(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,r,i,o=e===Fr,a=n===Fr,s=Zr(e.data.directives,e.context),l=Zr(n.data.directives,n.context),u=[],c=[];for(t in l)r=s[t],i=l[t],r?(i.oldValue=r.value,i.oldArg=r.arg,Gr(i,"update",n,e),i.def&&i.def.componentUpdated&&c.push(i)):(Gr(i,"bind",n,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var t=0;t<u.length;t++)Gr(u[t],"inserted",n,e)};o?ze(n,"insert",p):p()}c.length&&ze(n,"postpatch",function(){for(var t=0;t<c.length;t++)Gr(c[t],"componentUpdated",n,e)});if(!o)for(t in s)l[t]||Gr(s[t],"unbind",e,e,a)}(t,e)}var qr=Object.create(null);function Zr(t,e){var n,r,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=qr),(o[(i=r).rawName||i.name+"."+Object.keys(i.modifiers||{}).join(".")]=r).def=Zt(e.$options,"directives",r.name,!0);return o}function Gr(e,n,r,t,i){var o=e.def&&e.def[n];if(o)try{o(r.elm,e,r,t,i)}catch(t){te(t,r.context,"directive "+e.name+" "+n+" hook")}}var Hr=[Rr,$r];function Wr(t,e){var n=e.componentOptions;if(!(R(n)&&!1===n.Ctor.options.inheritAttrs||D(t.data.attrs)&&D(e.data.attrs))){var r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};for(r in R(s.__ob__)&&(s=e.data.attrs=S({},s)),s)i=s[r],a[r]!==i&&Xr(o,r,i);for(r in(J||Q)&&s.value!==a.value&&Xr(o,"value",s.value),a)D(s[r])&&(wr(r)?o.removeAttributeNS(br,Ar(r)):yr(r)||o.removeAttribute(r))}}function Xr(t,e,n){-1<t.tagName.indexOf("-")?Kr(t,e,n):xr(e)?Sr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):yr(e)?t.setAttribute(e,_r(e,n)):wr(e)?Sr(n)?t.removeAttributeNS(br,Ar(e)):t.setAttributeNS(br,e,n):Kr(t,e,n)}function Kr(e,t,n){if(Sr(n))e.removeAttribute(t);else{if(J&&!Y&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Jr={create:Wr,update:Wr};function Yr(t,e){var n=e.elm,r=e.data,i=t.data;if(!(D(r.staticClass)&&D(r.class)&&(D(i)||D(i.staticClass)&&D(i.class)))){var o=kr(e),a=n._transitionClasses;R(a)&&(o=Cr(o,Tr(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Qr,ti={create:Yr,update:Yr},ei="__r",ni="__c";function ri(e,n,r){var i=Qr;return function t(){null!==n.apply(null,arguments)&&ai(e,t,r,i)}}var ii=ae&&!(et&&Number(et[1])<=53);function oi(t,e,n,r){if(ii){var i=Dn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Qr.addEventListener(t,e,rt?{capture:n,passive:r}:n)}function ai(t,e,n,r){(r||Qr).removeEventListener(t,e._wrapper||e,n)}function si(t,e){if(!D(t.data.on)||!D(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Qr=e.elm,function(t){if(R(t[ei])){var e=J?"change":"input";t[e]=[].concat(t[ei],t[e]||[]),delete t[ei]}R(t[ni])&&(t.change=[].concat(t[ni],t.change||[]),delete t[ni])}(n),Ie(n,r,oi,ai,ri,e.context),Qr=void 0}}var li,ui={create:si,update:si};function ci(t,e){if(!D(t.data.domProps)||!D(e.data.domProps)){var n,r,i,o,a=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in R(l.__ob__)&&(l=e.data.domProps=S({},l)),s)n in l||(a[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){var u=D(a._value=r)?"":String(r);o=u,(i=a).composing||"OPTION"!==i.tagName&&!function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(i,o)&&!function(t,e){var n=t.value,r=t._vModifiers;if(R(r)){if(r.number)return F(n)!==F(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(i,o)||(a.value=u)}else if("innerHTML"===n&&Pr(a.tagName)&&D(a.innerHTML)){(li=li||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var c=li.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(r!==s[n])try{a[n]=r}catch(t){}}}}var pi={create:ci,update:ci},hi=s(function(t){var n={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(r);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n});function fi(t){var e=di(t.style);return t.staticStyle?S(t.staticStyle,e):e}function di(t){return Array.isArray(t)?k(t):"string"==typeof t?hi(t):t}function mi(t,e,n){if(yi.test(e))t.style.setProperty(e,n);else if(gi.test(n))t.style.setProperty(b(e),n.replace(gi,""),"important");else{var r=xi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}}var vi,yi=/^--/,gi=/\s*!important$/,_i=["Webkit","Moz","ms"],xi=s(function(t){if(vi=vi||document.createElement("div").style,"filter"!==(t=f(t))&&t in vi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<_i.length;n++){var r=_i[n]+e;if(r in vi)return r}});function bi(t,e){var n=e.data,r=t.data;if(!(D(n.staticStyle)&&D(n.style)&&D(r.staticStyle)&&D(r.style))){var i,o,a=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},u=s||l,c=di(e.data.style)||{};e.data.normalizedStyle=R(c.__ob__)?S({},c):c;var p=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=fi(i.data))&&S(r,n);(n=fi(t.data))&&S(r,n);for(var o=t;o=o.parent;)o.data&&(n=fi(o.data))&&S(r,n);return r}(e,!0);for(o in u)D(p[o])&&mi(a,o,"");for(o in p)(i=p[o])!==u[o]&&mi(a,o,null==i?"":i)}}var wi={create:bi,update:bi},Ai=/\s+/;function Si(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(Ai).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ki(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(Ai).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Ei(t){if(t){if("object"!=typeof t)return"string"==typeof t?Ci(t):void 0;var e={};return!1!==t.css&&S(e,Ci(t.name||"v")),S(e,t),e}}var Ci=s(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ti=H&&!Y,Ii="transition",zi="animation",Mi="transition",Pi="transitionend",Oi="animation",Li="animationend";Ti&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Mi="WebkitTransition",Pi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Oi="WebkitAnimation",Li="webkitAnimationEnd"));var Di=H?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ri(t){Di(function(){Di(t)})}function Bi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Si(t,e))}function Fi(t,e){t._transitionClasses&&_(t._transitionClasses,e),ki(t,e)}function Ni(e,t,n){var r=ji(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();function s(){e.removeEventListener(l,c),n()}var l=i===Ii?Pi:Li,u=0,c=function(t){t.target===e&&++u>=a&&s()};setTimeout(function(){u<a&&s()},o+1),e.addEventListener(l,c)}var Vi=/\b(transform|all)(,|$)/;function ji(t,e){var n,r=window.getComputedStyle(t),i=(r[Mi+"Delay"]||"").split(", "),o=(r[Mi+"Duration"]||"").split(", "),a=$i(i,o),s=(r[Oi+"Delay"]||"").split(", "),l=(r[Oi+"Duration"]||"").split(", "),u=$i(s,l),c=0,p=0;return e===Ii?0<a&&(n=Ii,c=a,p=o.length):e===zi?0<u&&(n=zi,c=u,p=l.length):p=(n=0<(c=Math.max(a,u))?u<a?Ii:zi:null)?n===Ii?o.length:l.length:0,{type:n,timeout:c,propCount:p,hasTransform:n===Ii&&Vi.test(r[Mi+"Property"])}}function $i(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return Ui(t)+Ui(n[e])}))}function Ui(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function qi(n,t){var r=n.elm;R(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var e=Ei(n.data.transition);if(!D(e)&&!R(r._enterCb)&&1===r.nodeType){for(var i=e.css,o=e.type,a=e.enterClass,s=e.enterToClass,l=e.enterActiveClass,u=e.appearClass,c=e.appearToClass,p=e.appearActiveClass,h=e.beforeEnter,f=e.enter,d=e.afterEnter,m=e.enterCancelled,v=e.beforeAppear,y=e.appear,g=e.afterAppear,_=e.appearCancelled,x=e.duration,b=bn,w=bn.$vnode;w&&w.parent;)b=w.context,w=w.parent;var A=!b._isMounted||!n.isRootInsert;if(!A||y||""===y){var S=A&&u?u:a,k=A&&p?p:l,E=A&&c?c:s,C=A&&v||h,T=A&&"function"==typeof y?y:f,I=A&&g||d,z=A&&_||m,M=F(B(x)?x.enter:x);null!=M&&Gi(M,"enter",n);var P=!1!==i&&!Y,O=Wi(T),L=r._enterCb=N(function(){P&&(Fi(r,E),Fi(r,k)),L.cancelled?(P&&Fi(r,S),z&&z(r)):I&&I(r),r._enterCb=null});n.data.show||ze(n,"insert",function(){var t=r.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),T&&T(r,L)}),C&&C(r),P&&(Bi(r,S),Bi(r,k),Ri(function(){Fi(r,S),L.cancelled||(Bi(r,E),O||(Hi(M)?setTimeout(L,M):Ni(r,o,L)))})),n.data.show&&(t&&t(),T&&T(r,L)),P||O||L()}}}function Zi(t,e){var n=t.elm;R(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Ei(t.data.transition);if(D(r)||1!==n.nodeType)return e();if(!R(n._leaveCb)){var i=r.css,o=r.type,a=r.leaveClass,s=r.leaveToClass,l=r.leaveActiveClass,u=r.beforeLeave,c=r.leave,p=r.afterLeave,h=r.leaveCancelled,f=r.delayLeave,d=r.duration,m=!1!==i&&!Y,v=Wi(c),y=F(B(d)?d.leave:d);R(y)&&Gi(y,"leave",t);var g=n._leaveCb=N(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(Fi(n,s),Fi(n,l)),g.cancelled?(m&&Fi(n,a),h&&h(n)):(e(),p&&p(n)),n._leaveCb=null});f?f(_):_()}function _(){g.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),u&&u(n),m&&(Bi(n,a),Bi(n,l),Ri(function(){Fi(n,a),g.cancelled||(Bi(n,s),v||(Hi(y)?setTimeout(g,y):Ni(n,o,g)))})),c&&c(n,g),m||v||g())}}function Gi(t,e,n){"number"!=typeof t?ct("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",n.context):isNaN(t)&&ct("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",n.context)}function Hi(t){return"number"==typeof t&&!isNaN(t)}function Wi(t){if(D(t))return!1;var e=t.fns;return R(e)?Wi(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function Xi(t,e){!0!==e.data.show&&qi(e)}var Ki=function(t){var r,e,v={},n=t.modules,y=t.nodeOps;for(r=0;r<Nr.length;++r)for(v[Nr[r]]=[],e=0;e<n.length;++e)R(n[e][Nr[r]])&&v[Nr[r]].push(n[e][Nr[r]]);function a(t){var e=y.parentNode(t);R(e)&&y.removeChild(e,t)}function g(e,t){return!t&&!e.ns&&(!j.ignoredElements.length||!j.ignoredElements.some(function(t){return i(t)?t.test(e.tag):t===e.tag}))&&j.isUnknownElement(e.tag)}var c=0;function _(t,e,n,r,i,o,a){if(R(t.elm)&&R(o)&&(t=o[a]=kt(t)),t.isRootInsert=!i,!function(t,e,n,r){var i=t.data;if(R(i)){var o=R(t.componentInstance)&&i.keepAlive;if(R(i=i.hook)&&R(i=i.init)&&i(t,!1),R(t.componentInstance))return x(t,e),p(n,t.elm,r),L(o)&&function(t,e,n,r){var i,o=t;for(;o.componentInstance;)if(o=o.componentInstance._vnode,R(i=o.data)&&R(i=i.transition)){for(i=0;i<v.activate.length;++i)v.activate[i](Fr,o);e.push(o);break}p(n,t.elm,r)}(t,e,n,r),1}}(t,e,n,r)){var s=t.data,l=t.children,u=t.tag;R(u)?(s&&s.pre&&c++,g(t,c)&&ct("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context),t.elm=t.ns?y.createElementNS(t.ns,u):y.createElement(u,t),h(t),b(t,l,e),R(s)&&A(t,e),p(n,t.elm,r),s&&s.pre&&c--):(L(t.isComment)?t.elm=y.createComment(t.text):t.elm=y.createTextNode(t.text),p(n,t.elm,r))}}function x(t,e){R(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(A(t,e),h(t)):(Br(t),e.push(t))}function p(t,e,n){R(t)&&(R(n)?y.parentNode(n)===t&&y.insertBefore(t,e,n):y.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){C(e);for(var r=0;r<e.length;++r)_(e[r],n,t.elm,null,!0,e,r)}else m(t.text)&&y.appendChild(t.elm,y.createTextNode(String(t.text)))}function w(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return R(t.tag)}function A(t,e){for(var n=0;n<v.create.length;++n)v.create[n](Fr,t);R(r=t.data.hook)&&(R(r.create)&&r.create(Fr,t),R(r.insert)&&e.push(t))}function h(t){var e;if(R(e=t.fnScopeId))y.setStyleScope(t.elm,e);else for(var n=t;n;)R(e=n.context)&&R(e=e.$options._scopeId)&&y.setStyleScope(t.elm,e),n=n.parent;R(e=bn)&&e!==t.context&&e!==t.fnContext&&R(e=e.$options._scopeId)&&y.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)_(n[r],o,t,e,!1,n,r)}function k(t){var e,n,r=t.data;if(R(r))for(R(e=r.hook)&&R(e=e.destroy)&&e(t),e=0;e<v.destroy.length;++e)v.destroy[e](t);if(R(e=t.children))for(n=0;n<t.children.length;++n)k(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];R(r)&&(R(r.tag)?(s(r),k(r)):a(r.elm))}}function s(t,e){if(R(e)||R(t.data)){var n,r=v.remove.length+1;for(R(e)?e.listeners+=r:(o=t.elm,i.listeners=r,e=i),R(n=t.componentInstance)&&R(n=n._vnode)&&R(n.data)&&s(n,e),n=0;n<v.remove.length;++n)v.remove[n](t,e);R(n=t.data.hook)&&R(n=n.remove)?n(t,e):e()}else a(t.elm);function i(){0==--i.listeners&&a(o)}var o}function C(t){for(var e={},n=0;n<t.length;n++){var r=t[n],i=r.key;R(i)&&(e[i]?ct("Duplicate keys detected: '"+i+"'. This may cause an update error.",r.context):e[i]=!0)}}function T(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(R(o)&&Vr(t,o))return i}}function I(t,e,n,r,i,o){if(t!==e){R(e.elm)&&R(r)&&(e=r[i]=kt(e));var a=e.elm=t.elm;if(L(t.isAsyncPlaceholder))R(e.asyncFactory.resolved)?O(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(L(e.isStatic)&&L(t.isStatic)&&e.key===t.key&&(L(e.isCloned)||L(e.isOnce)))e.componentInstance=t.componentInstance;else{var s,l=e.data;R(l)&&R(s=l.hook)&&R(s=s.prepatch)&&s(t,e);var u=t.children,c=e.children;if(R(l)&&w(e)){for(s=0;s<v.update.length;++s)v.update[s](t,e);R(s=l.hook)&&R(s=s.update)&&s(t,e)}D(e.text)?R(u)&&R(c)?u!==c&&function(t,e,n,r,i){var o,a,s,l=0,u=0,c=e.length-1,p=e[0],h=e[c],f=n.length-1,d=n[0],m=n[f],v=!i;for(C(n);l<=c&&u<=f;)D(p)?p=e[++l]:D(h)?h=e[--c]:Vr(p,d)?(I(p,d,r,n,u),p=e[++l],d=n[++u]):Vr(h,m)?(I(h,m,r,n,f),h=e[--c],m=n[--f]):Vr(p,m)?(I(p,m,r,n,f),v&&y.insertBefore(t,p.elm,y.nextSibling(h.elm)),p=e[++l],m=n[--f]):d=(Vr(h,d)?(I(h,d,r,n,u),v&&y.insertBefore(t,h.elm,p.elm),h=e[--c]):(D(o)&&(o=jr(e,l,c)),!D(a=R(d.key)?o[d.key]:T(d,e,l,c))&&Vr(s=e[a],d)?(I(s,d,r,n,u),e[a]=void 0,v&&y.insertBefore(t,s.elm,p.elm)):_(d,r,t,p.elm,!1,n,u)),n[++u]);c<l?S(t,D(n[f+1])?null:n[f+1].elm,n,u,f,r):f<u&&E(e,l,c)}(a,u,c,n,o):R(c)?(C(c),R(t.text)&&y.setTextContent(a,""),S(a,null,c,0,c.length-1,n)):R(u)?E(u,0,u.length-1):R(t.text)&&y.setTextContent(a,""):t.text!==e.text&&y.setTextContent(a,e.text),R(l)&&R(s=l.hook)&&R(s=s.postpatch)&&s(t,e)}}}function z(t,e,n){if(L(n)&&R(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var M=!1,P=u("attrs,class,staticClass,staticStyle,key");function O(t,e,n,r){var i,o=e.tag,a=e.data,s=e.children;if(r=r||a&&a.pre,e.elm=t,L(e.isComment)&&R(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(l=t,c=r,R((u=e).tag)?0===u.tag.indexOf("vue-component")||!g(u,c)&&u.tag.toLowerCase()===(l.tagName&&l.tagName.toLowerCase()):l.nodeType===(u.isComment?8:3)){var l,u,c;if(R(a)&&(R(i=a.hook)&&R(i=i.init)&&i(e,!0),R(i=e.componentInstance)))return x(e,n),1;if(R(o)){if(R(s))if(t.hasChildNodes())if(R(i=a)&&R(i=i.domProps)&&R(i=i.innerHTML)){if(i!==t.innerHTML)return void("undefined"==typeof console||M||(M=!0,console.warn("Parent: ",t),console.warn("server innerHTML: ",i),console.warn("client innerHTML: ",t.innerHTML)))}else{for(var p=!0,h=t.firstChild,f=0;f<s.length;f++){if(!h||!O(h,s[f],n,r)){p=!1;break}h=h.nextSibling}if(!p||h)return void("undefined"==typeof console||M||(M=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,s)))}else b(e,s,n);if(R(a)){var d=!1;for(var m in a)if(!P(m)){d=!0,A(e,n);break}!d&&a.class&&ke(a.class)}}else t.data!==e.text&&(t.data=e.text);return 1}}return function(t,e,n,r){if(!D(e)){var i,o=!1,a=[];if(D(t))o=!0,_(e,a);else{var s=R(t.nodeType);if(!s&&Vr(t,e))I(t,e,a,null,null,r);else{if(s){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),n=!0),L(n)){if(O(t,e,a))return z(e,a,!0),t;ct("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}i=t,t=new bt(y.tagName(i).toLowerCase(),{},[],void 0,i)}var l=t.elm,u=y.parentNode(l);if(_(e,a,l._leaveCb?null:u,y.nextSibling(l)),R(e.parent))for(var c=e.parent,p=w(e);c;){for(var h=0;h<v.destroy.length;++h)v.destroy[h](c);if(c.elm=e.elm,p){for(var f=0;f<v.create.length;++f)v.create[f](Fr,c);var d=c.data.hook.insert;if(d.merged)for(var m=1;m<d.fns.length;m++)d.fns[m]()}else Br(c);c=c.parent}R(u)?E([t],0,0):R(t.tag)&&k(t)}}return z(e,a,o),e.elm}R(t)&&k(t)}}({nodeOps:Dr,modules:[Jr,ti,ui,pi,wi,H?{create:Xi,activate:Xi,remove:function(t,e){!0!==t.data.show?Zi(t,e):e()}}:{}].concat(Hr)});Y&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&io(t,"input")});var Ji={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ze(n,"postpatch",function(){Ji.componentUpdated(t,e,n)}):Yi(t,e,n.context),t._vOptions=[].map.call(t.options,eo)):"textarea"!==n.tag&&!Lr(t.type)||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",no),t.addEventListener("compositionend",ro),t.addEventListener("change",ro),Y&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Yi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,eo);if(i.some(function(t,e){return!I(t,r[e])}))(t.multiple?e.value.some(function(t){return to(t,i)}):e.value!==e.oldValue&&to(e.value,i))&&io(t,"change")}}};function Yi(t,e,n){Qi(t,e,n),(J||Q)&&setTimeout(function(){Qi(t,e,n)},0)}function Qi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],i)o=-1<z(r,eo(a)),a.selected!==o&&(a.selected=o);else if(I(eo(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}else ct('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(r).slice(8,-1),n)}function to(e,t){return t.every(function(t){return!I(t,e)})}function eo(t){return"_value"in t?t._value:t.value}function no(t){t.target.composing=!0}function ro(t){t.target.composing&&(t.target.composing=!1,io(t.target,"input"))}function io(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function oo(t){return!t.componentInstance||t.data&&t.data.transition?t:oo(t.componentInstance._vnode)}var ao={model:Ji,show:{bind:function(t,e,n){var r=e.value,i=(n=oo(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,qi(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=oo(n)).data&&n.data.transition?(n.data.show=!0,r?qi(n,function(){t.style.display=t.__vOriginalDisplay}):Zi(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},so={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function lo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?lo(vn(e.children)):t}function uo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[f(o)]=i[o];return e}function co(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function po(t){return t.tag||mn(t)}function ho(t){return"show"===t.name}var fo={name:"transition",props:so,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(po)).length){1<n.length&&ct("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var r=this.mode;r&&"in-out"!==r&&"out-in"!==r&&ct("invalid <transition> mode: "+r,this.$parent);var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return 1}(this.$vnode))return i;var o=lo(i);if(!o)return i;if(this._leaving)return co(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:!m(o.key)||0===String(o.key).indexOf(a)?o.key:a+o.key;var s,l,u=(o.data||(o.data={})).transition=uo(this),c=this._vnode,p=lo(c);if(o.data.directives&&o.data.directives.some(ho)&&(o.data.show=!0),p&&p.data&&(s=o,(l=p).key!==s.key||l.tag!==s.tag)&&!mn(p)&&(!p.componentInstance||!p.componentInstance._vnode.isComment)){var h=p.data.transition=S({},u);if("out-in"===r)return this._leaving=!0,ze(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),co(t,i);if("in-out"===r){if(mn(o))return c;var f,d=function(){f()};ze(u,"afterEnter",d),ze(u,"enterCancelled",d),ze(h,"delayLeave",function(t){f=t})}}return i}}},mo=S({tag:String,moveClass:String},so);function vo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function yo(t){t.data.newPos=t.elm.getBoundingClientRect()}function go(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete mo.mode;var _o={Transition:fo,TransitionGroup:{props:mo,beforeMount:function(){var r=this,i=this._update;this._update=function(t,e){var n=An(r);r.__patch__(r._vnode,r.kept,!1,!0),r._vnode=r.kept,n(),i.call(r,t,e)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=uo(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),((n[l.key]=l).data||(l.data={})).transition=a;else{var u=l.componentOptions,c=u?u.Ctor.options.name||u.tag||"":l.tag;ct("<transition-group> children must be keyed: <"+c+">")}}if(r){for(var p=[],h=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?p.push(d):h.push(d)}this.kept=t(e,null,p),this.removed=h}return t(e,null,o)},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,r)&&(t.forEach(vo),t.forEach(yo),t.forEach(go),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;Bi(n,r),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(Pi,n._moveCb=function t(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(Pi,t),n._moveCb=null,Fi(n,r))})}}))},methods:{hasMove:function(t,e){if(!Ti)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ki(n,t)}),Si(n,e),n.style.display="none",this.$el.appendChild(n);var r=ji(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};ir.config.mustUseProp=function(t,e,n){return"value"===n&&vr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},ir.config.isReservedTag=Ir,ir.config.isReservedAttr=mr,ir.config.getTagNamespace=function(t){return Pr(t)?"svg":"math"===t?"math":void 0},ir.config.isUnknownElement=function(t){if(!H)return!0;if(Ir(t))return!1;if(t=t.toLowerCase(),null!=Or[t])return Or[t];var e=document.createElement(t);return-1<t.indexOf("-")?Or[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Or[t]=/HTMLUnknownElement/.test(e.toString())},S(ir.options.directives,ao),S(ir.options.components,_o),ir.prototype.__patch__=H?Ki:E,ir.prototype.$mount=function(t,e){return t=t&&H?function(t){if("string"!=typeof t)return t;var e=document.querySelector(t);return e||(ct("Cannot find element: "+t),document.createElement("div"))}(t):void 0,n=t,a=e,(o=this).$el=n,o.$options.render||(o.$options.render=At,o.$options.template&&"#"!==o.$options.template.charAt(0)||o.$options.el||n?ct("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",o):ct("Failed to mount component: template or render function not defined.",o)),En(o,"beforeMount"),r=j.performance&&we?function(){var t=o._name,e=o._uid,n="vue-perf-start:"+e,r="vue-perf-end:"+e;we(n);var i=o._render();we(r),Ae("vue "+t+" render",n,r),we(n),o._update(i,a),we(r),Ae("vue "+t+" patch",n,r)}:function(){o._update(o._render(),a)},new Vn(o,r,E,{before:function(){o._isMounted&&!o._isDestroyed&&En(o,"beforeUpdate")}},!0),a=!1,null==o.$vnode&&(o._isMounted=!0,En(o,"mounted")),o;var o,n,a,r},H&&setTimeout(function(){j.devtools&&(at?at.emit("init",ir):console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),!1!==j.productionTip&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0),xo.exports=ir}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,n,t){(function(t){"production"===t.env.NODE_ENV?n.exports=e("./vue.runtime.common.prod.js"):n.exports=e("./vue.runtime.common.dev.js")}).call(this,e("Wb8Gej"))},{"./vue.runtime.common.dev.js":14,"./vue.runtime.common.prod.js":16,Wb8Gej:8}],16:[function(t,Fi,e){(function(t){"use strict";var y=Object.freeze({});function D(t){return null==t}function R(t){return null!=t}function C(t){return!0===t}function T(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function B(t){return null!==t&&"object"==typeof t}var n=Object.prototype.toString;function l(t){return"[object Object]"===n.call(t)}function i(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function g(t){return R(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function e(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===n?JSON.stringify(t,null,2):String(t)}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function a(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var c=a("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}var r=Object.prototype.hasOwnProperty;function p(t,e){return r.call(t,e)}function o(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var s=/-(\w)/g,h=o(function(t){return t.replace(s,function(t,e){return e?e.toUpperCase():""})}),u=o(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),f=/\B([A-Z])/g,x=o(function(t){return t.replace(f,"-$1").toLowerCase()}),d=Function.prototype.bind?function(t,e){return t.bind(e)}:function(n,r){function t(t){var e=arguments.length;return e?1<e?n.apply(r,arguments):n.call(r,t):n.call(r)}return t._length=n.length,t};function m(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function v(t,e){for(var n in e)t[n]=e[n];return t}function b(t){for(var e={},n=0;n<t.length;n++)t[n]&&v(e,t[n]);return e}function w(t,e,n){}function A(t,e,n){return!1}var S=function(t){return t};function k(e,n){if(e===n)return!0;var t=B(e),r=B(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var i=Array.isArray(e),o=Array.isArray(n);if(i&&o)return e.length===n.length&&e.every(function(t,e){return k(t,n[e])});if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(t){return k(e[t],n[t])})}catch(e){return!1}}function E(t,e){for(var n=0;n<t.length;n++)if(k(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var I="data-server-rendered",z=["component","directive","filter"],M=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],P={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:A,isReservedAttr:A,isUnknownElement:A,getTagNamespace:w,parsePlatformTagName:S,mustUseProp:A,async:!0,_lifecycleHooks:M};function O(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var L,V=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]"),j="__proto__"in{},$="undefined"!=typeof window,U="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,q=U&&WXEnvironment.platform.toLowerCase(),Z=$&&window.navigator.userAgent.toLowerCase(),G=Z&&/msie|trident/.test(Z),H=Z&&0<Z.indexOf("msie 9.0"),W=Z&&0<Z.indexOf("edge/"),X=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===q),K=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),J={}.watch,Y=!1;if($)try{var Q={};Object.defineProperty(Q,"passive",{get:function(){Y=!0}}),window.addEventListener("test-passive",null,Q)}catch(y){}var tt=function(){return void 0===L&&(L=!$&&!U&&void 0!==t&&t.process&&"server"===t.process.env.VUE_ENV),L},et=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function nt(t){return"function"==typeof t&&/native code/.test(t.toString())}var rt,it="undefined"!=typeof Symbol&&nt(Symbol)&&"undefined"!=typeof Reflect&&nt(Reflect.ownKeys);function ot(){this.set=Object.create(null)}rt="undefined"!=typeof Set&&nt(Set)?Set:(ot.prototype.has=function(t){return!0===this.set[t]},ot.prototype.add=function(t){this.set[t]=!0},ot.prototype.clear=function(){this.set=Object.create(null)},ot);var at=w,st=0,lt=function(){this.id=st++,this.subs=[]};lt.prototype.addSub=function(t){this.subs.push(t)},lt.prototype.removeSub=function(t){_(this.subs,t)},lt.prototype.depend=function(){lt.target&&lt.target.addDep(this)},lt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},lt.target=null;var ut=[];function ct(t){ut.push(t),lt.target=t}function pt(){ut.pop(),lt.target=ut[ut.length-1]}var ht=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ft={child:{configurable:!0}};ft.child.get=function(){return this.componentInstance},Object.defineProperties(ht.prototype,ft);var dt=function(t){void 0===t&&(t="");var e=new ht;return e.text=t,e.isComment=!0,e};function mt(t){return new ht(void 0,void 0,void 0,String(t))}function vt(t){var e=new ht(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var yt=Array.prototype,gt=Object.create(yt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var a=yt[o];O(gt,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=a.apply(this,t),i=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&i.observeArray(n),i.dep.notify(),r})});var _t=Object.getOwnPropertyNames(gt),xt=!0;function bt(t){xt=t}var wt=function(t){this.value=t,this.dep=new lt,this.vmCount=0,O(t,"__ob__",this),Array.isArray(t)?(j?t.__proto__=gt:function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];O(t,o,e[o])}}(t,gt,_t),this.observeArray(t)):this.walk(t)};function At(t,e){var n;if(B(t)&&!(t instanceof ht))return p(t,"__ob__")&&t.__ob__ instanceof wt?n=t.__ob__:xt&&!tt()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new wt(t)),e&&n&&n.vmCount++,n}function St(n,t,r,e,i){var o=new lt,a=Object.getOwnPropertyDescriptor(n,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(r=n[t]);var u=!i&&At(r);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(n):r;return lt.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=s?s.call(n):r;t===e||t!=t&&e!=e||s&&!l||(l?l.call(n,t):r=t,u=!i&&At(t),o.notify())}})}}function kt(t,e,n){if(Array.isArray(t)&&i(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var r=t.__ob__;return t._isVue||r&&r.vmCount||(r?(St(r.value,e,n),r.dep.notify()):t[e]=n),n}function Et(t,e){if(Array.isArray(t)&&i(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||p(t,e)&&(delete t[e],n&&n.dep.notify())}}wt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)St(t,e[n])},wt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)At(t[e])};var Ct=P.optionMergeStrategies;function Tt(t,e){if(!e)return t;for(var n,r,i,o=it?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],p(t,n)?r!==i&&l(r)&&l(i)&&Tt(r,i):kt(t,n,i));return t}function It(n,r,i){return i?function(){var t="function"==typeof r?r.call(i,i):r,e="function"==typeof n?n.call(i,i):n;return t?Tt(t,e):e}:r?n?function(){return Tt("function"==typeof r?r.call(this,this):r,"function"==typeof n?n.call(this,this):n)}:r:n}function zt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Mt(t,e,n,r){var i=Object.create(t||null);return e?v(i,e):i}Ct.data=function(t,e,n){return n?It(t,e,n):e&&"function"!=typeof e?t:It(t,e)},M.forEach(function(t){Ct[t]=zt}),z.forEach(function(t){Ct[t+"s"]=Mt}),Ct.watch=function(t,e,n,r){if(t===J&&(t=void 0),e===J&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in v(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ct.props=Ct.methods=Ct.inject=Ct.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return v(i,t),e&&v(i,e),i},Ct.provide=It;var Pt=function(t,e){return void 0===e?t:e};function Ot(n,o,r){if("function"==typeof o&&(o=o.options),function(t){var e=t.props;if(e){var n,r,i={};if(Array.isArray(e))for(n=e.length;n--;)"string"==typeof(r=e[n])&&(i[h(r)]={type:null});else if(l(e))for(var o in e)r=e[o],i[h(o)]=l(r)?r:{type:r};t.props=i}}(o),function(){var t=o.inject;if(t){var e=o.inject={};if(Array.isArray(t))for(var n=0;n<t.length;n++)e[t[n]]={from:t[n]};else if(l(t))for(var r in t){var i=t[r];e[r]=l(i)?v({from:r},i):{from:i}}}}(),function(){var t=o.directives;if(t)for(var e in t){var n=t[e];"function"==typeof n&&(t[e]={bind:n,update:n})}}(),!o._base&&(o.extends&&(n=Ot(n,o.extends,r)),o.mixins))for(var t=0,e=o.mixins.length;t<e;t++)n=Ot(n,o.mixins[t],r);var i,a={};for(i in n)s(i);for(i in o)p(n,i)||s(i);function s(t){var e=Ct[t]||Pt;a[t]=e(n[t],o[t],r,t)}return a}function Lt(t,e,n){if("string"==typeof n){var r=t[e];if(p(r,n))return r[n];var i=h(n);if(p(r,i))return r[i];var o=u(i);return!p(r,o)&&(r[n]||r[i])||r[o]}}function Dt(t,e,n,r){var i=e[t],o=!p(n,t),a=n[t],s=Ft(Boolean,i.type);if(-1<s)if(o&&!p(i,"default"))a=!1;else if(""===a||a===x(t)){var l=Ft(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(p(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==Rt(e.type)?r.call(t):r}}(r,i,t);var u=xt;bt(!0),At(a),bt(u)}return a}function Rt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Bt(t,e){return Rt(t)===Rt(e)}function Ft(t,e){if(!Array.isArray(e))return Bt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Bt(e[n],t))return n;return-1}function Nt(t,e,n){ct();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){jt(t,r,"errorCaptured hook")}}jt(t,e,n)}finally{pt()}}function Vt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&g(o)&&!o._handled&&(o.catch(function(t){return Nt(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){Nt(t,r,i)}return o}function jt(t,e,n){if(P.errorHandler)try{return P.errorHandler.call(null,t,e,n)}catch(e){e!==t&&$t(e)}$t(t)}function $t(t){if(!$&&!U||"undefined"==typeof console)throw t;console.error(t)}var Ut,qt=!1,Zt=[],Gt=!1;function Ht(){Gt=!1;for(var t=Zt.slice(0),e=Zt.length=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&nt(Promise)){var Wt=Promise.resolve();Ut=function(){Wt.then(Ht),X&&setTimeout(w)},qt=!0}else if(G||"undefined"==typeof MutationObserver||!nt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ut="undefined"!=typeof setImmediate&&nt(setImmediate)?function(){setImmediate(Ht)}:function(){setTimeout(Ht,0)};else{var Xt=1,Kt=new MutationObserver(Ht),Jt=document.createTextNode(String(Xt));Kt.observe(Jt,{characterData:!0}),Ut=function(){Xt=(Xt+1)%2,Jt.data=String(Xt)},qt=!0}function Yt(t,e){var n;if(Zt.push(function(){if(t)try{t.call(e)}catch(t){Nt(t,e,"nextTick")}else n&&n(e)}),Gt||(Gt=!0,Ut()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var Qt=new rt;function te(t){!function t(e,n){var r,i,o=Array.isArray(e);if(!(!o&&!B(e)||Object.isFrozen(e)||e instanceof ht)){if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(r=(i=Object.keys(e)).length;r--;)t(e[i[r]],n)}}(t,Qt),Qt.clear()}var ee=o(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function ne(t,i){function o(){var t=arguments,e=o.fns;if(!Array.isArray(e))return Vt(e,null,arguments,i,"v-on handler");for(var n=e.slice(),r=0;r<n.length;r++)Vt(n[r],null,t,i,"v-on handler")}return o.fns=t,o}function re(t,e,n,r,i,o){var a,s,l,u;for(a in t)s=t[a],l=e[a],u=ee(a),D(s)||(D(l)?(D(s.fns)&&(s=t[a]=ne(s,o)),C(u.once)&&(s=t[a]=i(u.name,s,u.capture)),n(u.name,s,u.capture,u.passive,u.params)):s!==l&&(l.fns=s,t[a]=l));for(a in e)D(t[a])&&r((u=ee(a)).name,e[a],u.capture)}function ie(t,e,n){var r;t instanceof ht&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),_(r.fns,o)}D(i)?r=ne([o]):R(i.fns)&&C(i.merged)?(r=i).fns.push(o):r=ne([i,o]),r.merged=!0,t[e]=r}function oe(t,e,n,r,i){if(R(e)){if(p(e,n))return t[n]=e[n],i||delete e[n],1;if(p(e,r))return t[n]=e[r],i||delete e[r],1}}function ae(t){return T(t)?[mt(t)]:Array.isArray(t)?function t(e,n){var r,i,o,a,s=[];for(r=0;r<e.length;r++)D(i=e[r])||"boolean"==typeof i||(a=s[o=s.length-1],Array.isArray(i)?0<i.length&&(se((i=t(i,(n||"")+"_"+r))[0])&&se(a)&&(s[o]=mt(a.text+i[0].text),i.shift()),s.push.apply(s,i)):T(i)?se(a)?s[o]=mt(a.text+i):""!==i&&s.push(mt(i)):se(i)&&se(a)?s[o]=mt(a.text+i.text):(C(e._isVList)&&R(i.tag)&&D(i.key)&&R(n)&&(i.key="__vlist"+n+"_"+r+"__"),s.push(i)));return s}(t):void 0}function se(t){return R(t)&&R(t.text)&&!1===t.isComment}function le(t,e){if(t){for(var n=Object.create(null),r=it?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&p(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var l=t[o].default;n[o]="function"==typeof l?l.call(e):l}}}return n}}function ue(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(ce)&&delete n[u];return n}function ce(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pe(t,e,n){var r,i=0<Object.keys(e).length,o=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==y&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var s in r={},t)t[s]&&"$"!==s[0]&&(r[s]=he(e,s,t[s]))}else r={};for(var l in e)l in r||(r[l]=fe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),O(r,"$stable",o),O(r,"$key",a),O(r,"$hasNormal",i),r}function he(t,e,n){function r(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:ae(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t}return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function fe(t,e){return function(){return t[e]}}function de(t,e){var n,r,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(B(t))if(it&&t[Symbol.iterator]){n=[];for(var s=t[Symbol.iterator](),l=s.next();!l.done;)n.push(e(l.value,n.length)),l=s.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return R(n)||(n=[]),n._isVList=!0,n}function me(t,e,n,r){var i,o=this.$scopedSlots[t];i=o?(n=n||{},r&&(n=v(v({},r),n)),o(n)||e):this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function ve(t){return Lt(this.$options,"filters",t)||S}function ye(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function ge(t,e,n,r,i){var o=P.keyCodes[e]||n;return i&&r&&!P.keyCodes[e]?ye(i,r):o?ye(o,t):r?x(r)!==e:void 0}function _e(i,o,a,s,l){if(a&&B(a)){var u;Array.isArray(a)&&(a=b(a));var t=function(e){if("class"===e||"style"===e||c(e))u=i;else{var t=i.attrs&&i.attrs.type;u=s||P.mustUseProp(o,t,e)?i.domProps||(i.domProps={}):i.attrs||(i.attrs={})}var n=h(e),r=x(e);n in u||r in u||(u[e]=a[e],l&&((i.on||(i.on={}))["update:"+e]=function(t){a[e]=t}))};for(var e in a)t(e)}return i}function xe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||we(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function be(t,e,n){return we(t,"__once__"+e+(n?"_"+n:""),!0),t}function we(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ae(t[r],e+"_"+r,n);else Ae(t,e,n)}function Ae(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Se(t,e){if(e&&l(e)){var n=t.on=t.on?v({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function ke(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?ke(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ee(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ce(t,e){return"string"==typeof t?e+t:t}function Te(t){t._o=be,t._n=F,t._s=e,t._l=de,t._t=me,t._q=k,t._i=E,t._m=xe,t._f=ve,t._k=ge,t._b=_e,t._v=mt,t._e=dt,t._u=ke,t._g=Se,t._d=Ee,t._p=Ce}function Ie(t,e,n,o,r){var a,i=this,s=r.options;p(o,"_uid")?(a=Object.create(o))._original=o:o=(a=o)._original;var l=C(s._compiled),u=!l;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||y,this.injections=le(s.inject,o),this.slots=function(){return i.$slots||pe(t.scopedSlots,i.$slots=ue(n,o)),i.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(t.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=pe(t.scopedSlots,this.$slots)),s._scopeId?this._c=function(t,e,n,r){var i=Fe(a,t,e,n,r,u);return i&&!Array.isArray(i)&&(i.fnScopeId=s._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return Fe(a,t,e,n,r,u)}}function ze(t,e,n,r){var i=vt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Me(t,e){for(var n in e)t[h(n)]=e[n]}Te(Ie.prototype);var Pe={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){Pe.prepatch(t,t)}else(t.componentInstance=(r={_isComponent:!0,_parentVnode:n=t,parent:We},R(i=n.data.inlineTemplate)&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns),new n.componentOptions.Ctor(r))).$mount(e?t.elm:void 0,e);var n,r,i},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){var o=r.data.scopedSlots,a=t.$scopedSlots,s=!!(o&&!o.$stable||a!==y&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key),l=!!(i||t.$options._renderChildren||s);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data.attrs||y,t.$listeners=n||y,e&&t.$options.props){bt(!1);for(var u=t._props,c=t.$options._propKeys||[],p=0;p<c.length;p++){var h=c[p],f=t.$options.props;u[h]=Dt(h,f,e,t)}bt(!0),t.$options.propsData=e}n=n||y;var d=t.$options._parentListeners;t.$options._parentListeners=n,He(t,n,d),l&&(t.$slots=ue(i,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Ye(n,"mounted")),t.data.keepAlive&&(e._isMounted?(n._inactive=!1,tn.push(n)):Je(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Ke(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);Ye(e,"deactivated")}}(e,!0):e.$destroy())}},Oe=Object.keys(Pe);function Le(a,s,t,e,n){if(!D(a)){var r=t.$options._base;if(B(a)&&(a=r.extend(a)),"function"==typeof a){var i;if(D(a.cid)&&void 0===(a=function(e,n){if(C(e.error)&&R(e.errorComp))return e.errorComp;if(R(e.resolved))return e.resolved;var t=Ve;if(t&&R(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t),C(e.loading)&&R(e.loadingComp))return e.loadingComp;if(t&&!R(e.owners)){var r=e.owners=[t],i=!0,o=null,a=null;t.$on("hook:destroyed",function(){return _(r,t)});var s=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==a&&(clearTimeout(a),a=null))},l=N(function(t){e.resolved=je(t,n),i?r.length=0:s(!0)}),u=N(function(t){R(e.errorComp)&&(e.error=!0,s(!0))}),c=e(l,u);return B(c)&&(g(c)?D(e.resolved)&&c.then(l,u):g(c.component)&&(c.component.then(l,u),R(c.error)&&(e.errorComp=je(c.error,n)),R(c.loading)&&(e.loadingComp=je(c.loading,n),0===c.delay?e.loading=!0:o=setTimeout(function(){o=null,D(e.resolved)&&D(e.error)&&(e.loading=!0,s(!1))},c.delay||200)),R(c.timeout)&&(a=setTimeout(function(){a=null,D(e.resolved)&&u(null)},c.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}(i=a,r)))return p=i,h=s,f=t,d=e,m=n,(v=dt()).asyncFactory=p,v.asyncMeta={data:h,context:f,children:d,tag:m},v;s=s||{},En(a),R(s.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],a=e.model.callback;R(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(i[r]=[a].concat(o)):i[r]=a}(a.options,s);var o=function(){var t=a.options.props;if(!D(t)){var e={},n=s.attrs,r=s.props;if(R(n)||R(r))for(var i in t){var o=x(i);oe(e,r,i,o,!0)||oe(e,n,i,o,!1)}return e}}();if(C(a.options.functional))return function(t,e,n,r,i){var o=t.options,a={},s=o.props;if(R(s))for(var l in s)a[l]=Dt(l,s,e||y);else R(n.attrs)&&Me(a,n.attrs),R(n.props)&&Me(a,n.props);var u=new Ie(n,a,i,r,t),c=o.render.call(null,u._c,u);if(c instanceof ht)return ze(c,n,u.parent,o);if(Array.isArray(c)){for(var p=ae(c)||[],h=new Array(p.length),f=0;f<p.length;f++)h[f]=ze(p[f],n,u.parent,o);return h}}(a,o,s,t,e);var l=s.on;if(s.on=s.nativeOn,C(a.options.abstract)){var u=s.slot;s={},u&&(s.slot=u)}!function(){for(var t=s.hook||(s.hook={}),e=0;e<Oe.length;e++){var n=Oe[e],r=t[n],i=Pe[n];r===i||r&&r._merged||(t[n]=r?De(i,r):i)}}();var c=a.options.name||n;return new ht("vue-component-"+a.cid+(c?"-"+c:""),s,void 0,void 0,void 0,t,{Ctor:a,propsData:o,listeners:l,tag:n,children:e},i)}}var p,h,f,d,m,v}function De(n,r){function t(t,e){n(t,e),r(t,e)}return t._merged=!0,t}var Re=1,Be=2;function Fe(t,e,n,r,i,o){return(Array.isArray(n)||T(n))&&(i=r,r=n,n=void 0),C(o)&&(i=Be),function(t,e,n,r,i){if(R(n)&&R(n.__ob__))return dt();if(R(n)&&R(n.is)&&(e=n.is),!e)return dt();var o,a,s,l;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),i===Be?r=ae(r):i===Re&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e)?(a=t.$vnode&&t.$vnode.ns||P.getTagNamespace(e),o=P.isReservedTag(e)?new ht(P.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!R(s=Lt(t.$options,"components",e))?new ht(e,n,r,void 0,void 0,t):Le(s,n,t,r,e)):o=Le(e,n,t,r);return Array.isArray(o)?o:R(o)?(R(a)&&function t(e,n,r){if(e.ns=n,"foreignObject"===e.tag&&(r=!(n=void 0)),R(e.children))for(var i=0,o=e.children.length;i<o;i++){var a=e.children[i];R(a.tag)&&(D(a.ns)||C(r)&&"svg"!==a.tag)&&t(a,n,r)}}(o,a),R(n)&&(B((l=n).style)&&te(l.style),B(l.class)&&te(l.class)),o):dt()}(t,e,n,r,i)}var Ne,Ve=null;function je(t,e){return(t.__esModule||it&&"Module"===t[Symbol.toStringTag])&&(t=t.default),B(t)?e.extend(t):t}function $e(t){return t.isComment&&t.asyncFactory}function Ue(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(R(n)&&(R(n.componentOptions)||$e(n)))return n}}function qe(t,e){Ne.$on(t,e)}function Ze(t,e){Ne.$off(t,e)}function Ge(e,n){var r=Ne;return function t(){null!==n.apply(null,arguments)&&r.$off(e,t)}}function He(t,e,n){re(e,n||{},qe,Ze,Ge,Ne=t),Ne=void 0}var We=null;function Xe(t){var e=We;return We=t,function(){We=e}}function Ke(t){for(;t=t&&t.$parent;)if(t._inactive)return 1}function Je(t,e){if(e){if(t._directInactive=!1,Ke(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Je(t.$children[n]);Ye(t,"activated")}}function Ye(t,e){ct();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Vt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),pt()}var Qe=[],tn=[],en={},nn=!1,rn=!1,on=0,an=0,sn=Date.now;if($&&!G){var ln=window.performance;ln&&"function"==typeof ln.now&&sn()>document.createEvent("Event").timeStamp&&(sn=function(){return ln.now()})}function un(){var t,e;for(an=sn(),rn=!0,Qe.sort(function(t,e){return t.id-e.id}),on=0;on<Qe.length;on++)(t=Qe[on]).before&&t.before(),e=t.id,en[e]=null,t.run();var n=tn.slice(),r=Qe.slice();on=Qe.length=tn.length=0,nn=rn=!(en={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Je(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ye(r,"updated")}}(r),et&&P.devtools&&et.emit("flush")}function cn(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++pn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new rt,this.newDepIds=new rt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!V.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=w)),this.value=this.lazy?void 0:this.get()}var pn=0;cn.prototype.get=function(){var t;ct(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Nt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&te(t),pt(),this.cleanupDeps()}return t},cn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},cn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},cn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==en[e]){if(en[e]=!0,rn){for(var n=Qe.length-1;on<n&&Qe[n].id>t.id;)n--;Qe.splice(n+1,0,t)}else Qe.push(t);nn||(nn=!0,Yt(un))}}(this)},cn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||B(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Nt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},cn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},cn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:w,set:w};function fn(t,e,n){hn.get=function(){return this[e][n]},hn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,hn)}function dn(t){t._watchers=[];var e=t.$options;e.props&&function(n,r){var i=n.$options.propsData||{},o=n._props={},a=n.$options._propKeys=[];n.$parent&&bt(!1);function t(t){a.push(t);var e=Dt(t,r,i,n);St(o,t,e),t in n||fn(n,"_props",t)}for(var e in r)t(e);bt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?w:d(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){ct();try{return t.call(e,e)}catch(t){return Nt(t,e,"data()"),{}}finally{pt()}}(e,t):e||{})||(e={});for(var n,r=Object.keys(e),i=t.$options.props,o=(t.$options.methods,r.length);o--;){var a=r[o];i&&p(i,a)||36!==(n=(a+"").charCodeAt(0))&&95!==n&&fn(t,"_data",a)}At(e,!0)}(t):At(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=tt();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new cn(t,a||w,w,mn)),i in t||vn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==J&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)_n(t,n,r[i]);else _n(t,n,r)}}(t,e.watch)}var mn={lazy:!0};function vn(t,e,n){var r=!tt();"function"==typeof n?(hn.get=r?yn(e):gn(n),hn.set=w):(hn.get=n.get?r&&!1!==n.cache?yn(e):gn(n.get):w,hn.set=n.set||w),Object.defineProperty(t,e,hn)}function yn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),lt.target&&t.depend(),t.value}}function gn(t){return function(){return t.call(this,this)}}function _n(t,e,n,r){return l(n)&&(n=(r=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var xn,bn,wn,An,Sn,kn=0;function En(i){var t=i.options;if(i.super){var e=En(i.super);if(e!==i.superOptions){i.superOptions=e;var n=function(){var t,e=i.options,n=i.sealedOptions;for(var r in e)e[r]!==n[r]&&((t=t||{})[r]=e[r]);return t}();n&&v(i.extendOptions,n),(t=i.options=Ot(e,i.extendOptions)).name&&(t.components[t.name]=i)}}return t}function Cn(t){this._init(t)}function Tn(t){t.cid=0;var a=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];function i(t){this._init(t)}var o=t.name||e.options.name;return((i.prototype=Object.create(e.prototype)).constructor=i).cid=a++,i.options=Ot(e.options,t),i.super=e,i.options.props&&function(t){var e=t.options.props;for(var n in e)fn(t.prototype,"_props",n)}(i),i.options.computed&&function(t){var e=t.options.computed;for(var n in e)vn(t.prototype,n,e[n])}(i),i.extend=e.extend,i.mixin=e.mixin,i.use=e.use,z.forEach(function(t){i[t]=e[t]}),o&&(i.options.components[o]=i),i.superOptions=e.options,i.extendOptions=t,i.sealedOptions=v({},i.options),r[n]=i}}function In(t){return t&&(t.Ctor.options.name||t.tag)}function zn(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):"[object RegExp]"===n.call(t)&&t.test(e)}function Mn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=In(a.componentOptions);s&&!e(s)&&Pn(n,o,r,i)}}}function Pn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}Cn.prototype._init=function(t){var e,n,r,i=this;i._uid=kn++,i._isVue=!0,t&&t._isComponent?function(t){var e=i.$options=Object.create(i.constructor.options),n=t._parentVnode;e.parent=t.parent;var r=(e._parentVnode=n).componentOptions;e.propsData=r.propsData,e._parentListeners=r.listeners,e._renderChildren=r.children,e._componentTag=r.tag,t.render&&(e.render=t.render,e.staticRenderFns=t.staticRenderFns)}(t):i.$options=Ot(En(i.constructor),t||{},i),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}((i._renderProxy=i)._self=i),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&He(t,e)}(i),function(i){i._vnode=null,i._staticTrees=null;var t=i.$options,e=i.$vnode=t._parentVnode,n=e&&e.context;i.$slots=ue(t._renderChildren,n),i.$scopedSlots=y,i._c=function(t,e,n,r){return Fe(i,t,e,n,r,!1)},i.$createElement=function(t,e,n,r){return Fe(i,t,e,n,r,!0)};var r=e&&e.data;St(i,"$attrs",r&&r.attrs||y,null,!0),St(i,"$listeners",t._parentListeners||y,null,!0)}(i),Ye(i,"beforeCreate"),(r=le((n=i).$options.inject,n))&&(bt(!1),Object.keys(r).forEach(function(t){St(n,t,r[t])}),bt(!0)),dn(i),(e=i.$options.provide)&&(i._provided="function"==typeof e?e.call(i):e),Ye(i,"created"),i.$options.el&&i.$mount(i.$options.el)},Sn=Cn,Object.defineProperty(Sn.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(Sn.prototype,"$props",{get:function(){return this._props}}),Sn.prototype.$set=kt,Sn.prototype.$delete=Et,Sn.prototype.$watch=function(t,e,n){if(l(e))return _n(this,t,e,n);(n=n||{}).user=!0;var r=new cn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Nt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}},An=/^hook:/,(wn=Cn).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),An.test(t)&&(this._hasHookEvent=!0);return this},wn.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},wn.prototype.$off=function(t,e){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.$off(t[n],e);return this}var i,o=this._events[t];if(!o)return this;if(!e)return this._events[t]=null,this;for(var a=o.length;a--;)if((i=o[a])===e||i.fn===e){o.splice(a,1);break}return this},wn.prototype.$emit=function(t){var e=this._events[t];if(e){e=1<e.length?m(e):e;for(var n=m(arguments,1),r='event handler for "'+t+'"',i=0,o=e.length;i<o;i++)Vt(e[i],this,n,this,r)}return this},(bn=Cn).prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Xe(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},bn.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},bn.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ye(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ye(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},Te((xn=Cn).prototype),xn.prototype.$nextTick=function(t){return Yt(t,this)},xn.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=pe(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{Ve=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Nt(n,e,"render"),t=e._vnode}finally{Ve=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof ht||(t=dt()),t.parent=i,t};var On,Ln,Dn,Rn=[String,RegExp,Array],Bn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Rn,exclude:Rn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Pn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Mn(t,function(t){return zn(e,t)})}),this.$watch("exclude",function(e){Mn(t,function(t){return!zn(e,t)})})},render:function(){var t=this.$slots.default,e=Ue(t),n=e&&e.componentOptions;if(n){var r=In(n),i=this.include,o=this.exclude;if(i&&(!r||!zn(i,r))||o&&r&&zn(o,r))return e;var a=this.cache,s=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[l]?(e.componentInstance=a[l].componentInstance,_(s,l),s.push(l)):(a[l]=e,s.push(l),this.max&&s.length>parseInt(this.max)&&Pn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};On=Cn,Dn={get:function(){return P}},Object.defineProperty(On,"config",Dn),On.util={warn:at,extend:v,mergeOptions:Ot,defineReactive:St},On.set=kt,On.delete=Et,On.nextTick=Yt,On.observable=function(t){return At(t),t},On.options=Object.create(null),z.forEach(function(t){On.options[t+"s"]=Object.create(null)}),v((On.options._base=On).options.components,Bn),On.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=m(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},On.mixin=function(t){return this.options=Ot(this.options,t),this},Tn(On),Ln=On,z.forEach(function(n){Ln[n]=function(t,e){return e?("component"===n&&l(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(Cn.prototype,"$isServer",{get:tt}),Object.defineProperty(Cn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Cn,"FunctionalRenderContext",{value:Ie}),Cn.version="2.6.11";var Fn=a("style,class"),Nn=a("input,textarea,option,select,progress"),Vn=a("contenteditable,draggable,spellcheck"),jn=a("events,caret,typing,plaintext-only"),$n=function(t,e){return Hn(e)||"false"===e?"false":"contenteditable"===t&&jn(e)?e:"true"},Un=a("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qn="http://www.w3.org/1999/xlink",Zn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Gn=function(t){return Zn(t)?t.slice(6,t.length):""},Hn=function(t){return null==t||!1===t};function Wn(t,e){return{staticClass:Xn(t.staticClass,e.staticClass),class:R(t.class)?[t.class,e.class]:e.class}}function Xn(t,e){return t?e?t+" "+e:t:e||""}function Kn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)R(e=Kn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):B(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function Jn(t){return Qn(t)||tr(t)}var Yn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Qn=a("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),tr=a("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),er=Object.create(null),nr=a("text,number,password,search,email,tel,url"),rr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Yn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ir={create:function(t,e){or(e)},update:function(t,e){t.data.ref!==e.data.ref&&(or(t,!0),or(e))},destroy:function(t){or(t,!0)}};function or(t,e){var n=t.data.ref;if(R(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?_(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var ar=new ht("",{},[]),sr=["create","activate","update","remove","destroy"];function lr(i,t){return i.key===t.key&&(i.tag===t.tag&&i.isComment===t.isComment&&R(i.data)===R(t.data)&&function(t){if("input"!==i.tag)return 1;var e,n=R(e=i.data)&&R(e=e.attrs)&&e.type,r=R(e=t.data)&&R(e=e.attrs)&&e.type;return n===r||nr(n)&&nr(r)}(t)||C(i.isAsyncPlaceholder)&&i.asyncFactory===t.asyncFactory&&D(t.asyncFactory.error))}function ur(t,e,n){var r,i,o={};for(r=e;r<=n;++r)R(i=t[r].key)&&(o[i]=r);return o}var cr={create:pr,update:pr,destroy:function(t){pr(t,ar)}};function pr(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,r,i,o=e===ar,a=n===ar,s=fr(e.data.directives,e.context),l=fr(n.data.directives,n.context),u=[],c=[];for(t in l)r=s[t],i=l[t],r?(i.oldValue=r.value,i.oldArg=r.arg,dr(i,"update",n,e),i.def&&i.def.componentUpdated&&c.push(i)):(dr(i,"bind",n,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var t=0;t<u.length;t++)dr(u[t],"inserted",n,e)};o?ie(n,"insert",p):p()}if(c.length&&ie(n,"postpatch",function(){for(var t=0;t<c.length;t++)dr(c[t],"componentUpdated",n,e)}),!o)for(t in s)l[t]||dr(s[t],"unbind",e,e,a)}(t,e)}var hr=Object.create(null);function fr(t,e){var n,r,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=hr),(o[(i=r).rawName||i.name+"."+Object.keys(i.modifiers||{}).join(".")]=r).def=Lt(e.$options,"directives",r.name);return o}function dr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Nt(r,n.context,"directive "+t.name+" "+e+" hook")}}var mr=[ir,cr];function vr(t,e){var n=e.componentOptions;if(!(R(n)&&!1===n.Ctor.options.inheritAttrs||D(t.data.attrs)&&D(e.data.attrs))){var r,i,o=e.elm,a=t.data.attrs||{},s=e.data.attrs||{};for(r in R(s.__ob__)&&(s=e.data.attrs=v({},s)),s)i=s[r],a[r]!==i&&yr(o,r,i);for(r in(G||W)&&s.value!==a.value&&yr(o,"value",s.value),a)D(s[r])&&(Zn(r)?o.removeAttributeNS(qn,Gn(r)):Vn(r)||o.removeAttribute(r))}}function yr(t,e,n){-1<t.tagName.indexOf("-")?gr(t,e,n):Un(e)?Hn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Vn(e)?t.setAttribute(e,$n(e,n)):Zn(e)?Hn(n)?t.removeAttributeNS(qn,Gn(e)):t.setAttributeNS(qn,e,n):gr(t,e,n)}function gr(e,t,n){if(Hn(n))e.removeAttribute(t);else{if(G&&!H&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var _r={create:vr,update:vr};function xr(t,e){var n=e.elm,r=e.data,i=t.data;if(!(D(r.staticClass)&&D(r.class)&&(D(i)||D(i.staticClass)&&D(i.class)))){var o=function(t){for(var e=t.data,n=t,r=t;R(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Wn(r.data,e));for(;R(n=n.parent);)n&&n.data&&(e=Wn(e,n.data));return i=e.staticClass,o=e.class,R(i)||R(o)?Xn(i,Kn(o)):"";var i,o}(e),a=n._transitionClasses;R(a)&&(o=Xn(o,Kn(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var br,wr={create:xr,update:xr};function Ar(e,n,r){var i=br;return function t(){null!==n.apply(null,arguments)&&Er(e,t,r,i)}}var Sr=qt&&!(K&&Number(K[1])<=53);function kr(t,e,n,r){if(Sr){var i=an,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}br.addEventListener(t,e,Y?{capture:n,passive:r}:n)}function Er(t,e,n,r){(r||br).removeEventListener(t,e._wrapper||e,n)}function Cr(t,e){if(!D(t.data.on)||!D(e.data.on)){var n=e.data.on||{},r=t.data.on||{};br=e.elm,function(t){if(R(t.__r)){var e=G?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}R(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),re(n,r,kr,Er,Ar,e.context),br=void 0}}var Tr,Ir={create:Cr,update:Cr};function zr(t,e){if(!D(t.data.domProps)||!D(e.data.domProps)){var n,r,i=e.elm,o=t.data.domProps||{},a=e.data.domProps||{};for(n in R(a.__ob__)&&(a=e.data.domProps=v({},a)),o)n in a||(i[n]="");for(n in a){if(r=a[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){var s=D(i._value=r)?"":String(r);c=s,(u=i).composing||"OPTION"!==u.tagName&&!function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(u,c)&&!function(t,e){var n=t.value,r=t._vModifiers;if(R(r)){if(r.number)return F(n)!==F(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(u,c)||(i.value=s)}else if("innerHTML"===n&&tr(i.tagName)&&D(i.innerHTML)){(Tr=Tr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=Tr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}else if(r!==o[n])try{i[n]=r}catch(t){}}}var u,c}var Mr={create:zr,update:zr},Pr=o(function(t){var n={},r=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(r);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n});function Or(t){var e=Lr(t.style);return t.staticStyle?v(t.staticStyle,e):e}function Lr(t){return Array.isArray(t)?b(t):"string"==typeof t?Pr(t):t}function Dr(t,e,n){if(Br.test(e))t.style.setProperty(e,n);else if(Fr.test(n))t.style.setProperty(x(e),n.replace(Fr,""),"important");else{var r=Vr(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}}var Rr,Br=/^--/,Fr=/\s*!important$/,Nr=["Webkit","Moz","ms"],Vr=o(function(t){if(Rr=Rr||document.createElement("div").style,"filter"!==(t=h(t))&&t in Rr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Nr.length;n++){var r=Nr[n]+e;if(r in Rr)return r}});function jr(t,e){var n=e.data,r=t.data;if(!(D(n.staticStyle)&&D(n.style)&&D(r.staticStyle)&&D(r.style))){var i,o,a=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},u=s||l,c=Lr(e.data.style)||{};e.data.normalizedStyle=R(c.__ob__)?v({},c):c;var p=function(t){for(var e,n={},r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(e=Or(r.data))&&v(n,e);(e=Or(t.data))&&v(n,e);for(var i=t;i=i.parent;)i.data&&(e=Or(i.data))&&v(n,e);return n}(e);for(o in u)D(p[o])&&Dr(a,o,"");for(o in p)(i=p[o])!==u[o]&&Dr(a,o,null==i?"":i)}}var $r={create:jr,update:jr},Ur=/\s+/;function qr(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(Ur).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Zr(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(Ur).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";0<=n.indexOf(r);)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Gr(t){if(t){if("object"!=typeof t)return"string"==typeof t?Hr(t):void 0;var e={};return!1!==t.css&&v(e,Hr(t.name||"v")),v(e,t),e}}var Hr=o(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Wr=$&&!H,Xr="transition",Kr="animation",Jr="transition",Yr="transitionend",Qr="animation",ti="animationend";Wr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Jr="WebkitTransition",Yr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Qr="WebkitAnimation",ti="webkitAnimationEnd"));var ei=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ni(t){ei(function(){ei(t)})}function ri(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),qr(t,e))}function ii(t,e){t._transitionClasses&&_(t._transitionClasses,e),Zr(t,e)}function oi(e,t,n){var r=si(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();function s(){e.removeEventListener(l,c),n()}var l=i===Xr?Yr:ti,u=0,c=function(t){t.target===e&&++u>=a&&s()};setTimeout(function(){u<a&&s()},o+1),e.addEventListener(l,c)}var ai=/\b(transform|all)(,|$)/;function si(t,e){var n,r=window.getComputedStyle(t),i=(r[Jr+"Delay"]||"").split(", "),o=(r[Jr+"Duration"]||"").split(", "),a=li(i,o),s=(r[Qr+"Delay"]||"").split(", "),l=(r[Qr+"Duration"]||"").split(", "),u=li(s,l),c=0,p=0;return e===Xr?0<a&&(n=Xr,c=a,p=o.length):e===Kr?0<u&&(n=Kr,c=u,p=l.length):p=(n=0<(c=Math.max(a,u))?u<a?Xr:Kr:null)?n===Xr?o.length:l.length:0,{type:n,timeout:c,propCount:p,hasTransform:n===Xr&&ai.test(r[Jr+"Property"])}}function li(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return ui(t)+ui(n[e])}))}function ui(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ci(n,t){var r=n.elm;R(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var e=Gr(n.data.transition);if(!D(e)&&!R(r._enterCb)&&1===r.nodeType){for(var i=e.css,o=e.type,a=e.enterClass,s=e.enterToClass,l=e.enterActiveClass,u=e.appearClass,c=e.appearToClass,p=e.appearActiveClass,h=e.beforeEnter,f=e.enter,d=e.afterEnter,m=e.enterCancelled,v=e.beforeAppear,y=e.appear,g=e.afterAppear,_=e.appearCancelled,x=e.duration,b=We,w=We.$vnode;w&&w.parent;)b=w.context,w=w.parent;var A=!b._isMounted||!n.isRootInsert;if(!A||y||""===y){var S=A&&u?u:a,k=A&&p?p:l,E=A&&c?c:s,C=A&&v||h,T=A&&"function"==typeof y?y:f,I=A&&g||d,z=A&&_||m,M=F(B(x)?x.enter:x),P=!1!==i&&!H,O=fi(T),L=r._enterCb=N(function(){P&&(ii(r,E),ii(r,k)),L.cancelled?(P&&ii(r,S),z&&z(r)):I&&I(r),r._enterCb=null});n.data.show||ie(n,"insert",function(){var t=r.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),T&&T(r,L)}),C&&C(r),P&&(ri(r,S),ri(r,k),ni(function(){ii(r,S),L.cancelled||(ri(r,E),O||(hi(M)?setTimeout(L,M):oi(r,o,L)))})),n.data.show&&(t&&t(),T&&T(r,L)),P||O||L()}}}function pi(t,e){var n=t.elm;R(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Gr(t.data.transition);if(D(r)||1!==n.nodeType)return e();if(!R(n._leaveCb)){var i=r.css,o=r.type,a=r.leaveClass,s=r.leaveToClass,l=r.leaveActiveClass,u=r.beforeLeave,c=r.leave,p=r.afterLeave,h=r.leaveCancelled,f=r.delayLeave,d=r.duration,m=!1!==i&&!H,v=fi(c),y=F(B(d)?d.leave:d),g=n._leaveCb=N(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(ii(n,s),ii(n,l)),g.cancelled?(m&&ii(n,a),h&&h(n)):(e(),p&&p(n)),n._leaveCb=null});f?f(_):_()}function _(){g.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),u&&u(n),m&&(ri(n,a),ri(n,l),ni(function(){ii(n,a),g.cancelled||(ri(n,s),v||(hi(y)?setTimeout(g,y):oi(n,o,g)))})),c&&c(n,g),m||v||g())}}function hi(t){return"number"==typeof t&&!isNaN(t)}function fi(t){if(D(t))return!1;var e=t.fns;return R(e)?fi(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function di(t,e){!0!==e.data.show&&ci(e)}var mi=function(t){var r,e,v={},n=t.modules,g=t.nodeOps;for(r=0;r<sr.length;++r)for(v[sr[r]]=[],e=0;e<n.length;++e)R(n[e][sr[r]])&&v[sr[r]].push(n[e][sr[r]]);function i(t){var e=g.parentNode(t);R(e)&&g.removeChild(e,t)}function _(t,e,n,r,i,o,a){if(R(t.elm)&&R(o)&&(t=o[a]=vt(t)),t.isRootInsert=!i,!function(t,e,n,r){var i=t.data;if(R(i)){var o=R(t.componentInstance)&&i.keepAlive;if(R(i=i.hook)&&R(i=i.init)&&i(t,!1),R(t.componentInstance))return f(t,e),c(n,t.elm,r),C(o)&&function(t,e,n,r){for(var i,o=t;o.componentInstance;)if(R(i=(o=o.componentInstance._vnode).data)&&R(i=i.transition)){for(i=0;i<v.activate.length;++i)v.activate[i](ar,o);e.push(o);break}c(n,t.elm,r)}(t,e,n,r),1}}(t,e,n,r)){var s=t.data,l=t.children,u=t.tag;R(u)?(t.elm=t.ns?g.createElementNS(t.ns,u):g.createElement(u,t),p(t),d(t,l,e),R(s)&&m(t,e)):C(t.isComment)?t.elm=g.createComment(t.text):t.elm=g.createTextNode(t.text),c(n,t.elm,r)}}function f(t,e){R(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,x(t)?(m(t,e),p(t)):(or(t),e.push(t))}function c(t,e,n){R(t)&&(R(n)?g.parentNode(n)===t&&g.insertBefore(t,e,n):g.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)_(e[r],n,t.elm,null,!0,e,r);else T(t.text)&&g.appendChild(t.elm,g.createTextNode(String(t.text)))}function x(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return R(t.tag)}function m(t,e){for(var n=0;n<v.create.length;++n)v.create[n](ar,t);R(r=t.data.hook)&&(R(r.create)&&r.create(ar,t),R(r.insert)&&e.push(t))}function p(t){var e;if(R(e=t.fnScopeId))g.setStyleScope(t.elm,e);else for(var n=t;n;)R(e=n.context)&&R(e=e.$options._scopeId)&&g.setStyleScope(t.elm,e),n=n.parent;R(e=We)&&e!==t.context&&e!==t.fnContext&&R(e=e.$options._scopeId)&&g.setStyleScope(t.elm,e)}function b(t,e,n,r,i,o){for(;r<=i;++r)_(n[r],o,t,e,!1,n,r)}function y(t){var e,n,r=t.data;if(R(r))for(R(e=r.hook)&&R(e=e.destroy)&&e(t),e=0;e<v.destroy.length;++e)v.destroy[e](t);if(R(e=t.children))for(n=0;n<t.children.length;++n)y(t.children[n])}function w(t,e,n){for(;e<=n;++e){var r=t[e];R(r)&&(R(r.tag)?(o(r),y(r)):i(r.elm))}}function o(t,e){if(R(e)||R(t.data)){var n,r=v.remove.length+1;for(R(e)?e.listeners+=r:e=function(t){function e(){0==--e.listeners&&i(t)}return e.listeners=r,e}(t.elm),R(n=t.componentInstance)&&R(n=n._vnode)&&R(n.data)&&o(n,e),n=0;n<v.remove.length;++n)v.remove[n](t,e);R(n=t.data.hook)&&R(n=n.remove)?n(t,e):e()}else i(t.elm)}function A(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(R(o)&&lr(t,o))return i}}function S(t,e,n){if(C(n)&&R(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var k=a("attrs,class,staticClass,staticStyle,key");function E(t,e,n,r){var i,o=e.tag,a=e.data,s=e.children;if(r=r||a&&a.pre,e.elm=t,C(e.isComment)&&R(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(R(a)&&(R(i=a.hook)&&R(i=i.init)&&i(e,!0),R(i=e.componentInstance)))return f(e,n),1;if(R(o)){if(R(s))if(t.hasChildNodes())if(R(i=a)&&R(i=i.domProps)&&R(i=i.innerHTML)){if(i!==t.innerHTML)return}else{for(var l=!0,u=t.firstChild,c=0;c<s.length;c++){if(!u||!E(u,s[c],n,r)){l=!1;break}u=u.nextSibling}if(!l||u)return}else d(e,s,n);if(R(a)){var p=!1;for(var h in a)if(!k(h)){p=!0,m(e,n);break}!p&&a.class&&te(a.class)}}else t.data!==e.text&&(t.data=e.text);return 1}return function(t,e,n,r){if(!D(e)){var i,o=!1,a=[];if(D(t))o=!0,_(e,a);else{var s=R(t.nodeType);if(!s&&lr(t,e))!function y(t,e,n,r,i,o){if(t!==e){R(e.elm)&&R(r)&&(e=r[i]=vt(e));var a=e.elm=t.elm;if(C(t.isAsyncPlaceholder))R(e.asyncFactory.resolved)?E(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(C(e.isStatic)&&C(t.isStatic)&&e.key===t.key&&(C(e.isCloned)||C(e.isOnce)))e.componentInstance=t.componentInstance;else{var s,l=e.data;R(l)&&R(s=l.hook)&&R(s=s.prepatch)&&s(t,e);var u=t.children,c=e.children;if(R(l)&&x(e)){for(s=0;s<v.update.length;++s)v.update[s](t,e);R(s=l.hook)&&R(s=s.update)&&s(t,e)}D(e.text)?R(u)&&R(c)?u!==c&&function(t,e,n,r,i){for(var o,a,s,l=0,u=0,c=e.length-1,p=e[0],h=e[c],f=n.length-1,d=n[0],m=n[f],v=!i;l<=c&&u<=f;)D(p)?p=e[++l]:D(h)?h=e[--c]:lr(p,d)?(y(p,d,r,n,u),p=e[++l],d=n[++u]):lr(h,m)?(y(h,m,r,n,f),h=e[--c],m=n[--f]):lr(p,m)?(y(p,m,r,n,f),v&&g.insertBefore(t,p.elm,g.nextSibling(h.elm)),p=e[++l],m=n[--f]):(lr(h,d)?(y(h,d,r,n,u),v&&g.insertBefore(t,h.elm,p.elm),h=e[--c]):(D(o)&&(o=ur(e,l,c)),!D(a=R(d.key)?o[d.key]:A(d,e,l,c))&&lr(s=e[a],d)?(y(s,d,r,n,u),e[a]=void 0,v&&g.insertBefore(t,s.elm,p.elm)):_(d,r,t,p.elm,!1,n,u)),d=n[++u]);c<l?b(t,D(n[f+1])?null:n[f+1].elm,n,u,f,r):f<u&&w(e,l,c)}(a,u,c,n,o):R(c)?(R(t.text)&&g.setTextContent(a,""),b(a,null,c,0,c.length-1,n)):R(u)?w(u,0,u.length-1):R(t.text)&&g.setTextContent(a,""):t.text!==e.text&&g.setTextContent(a,e.text),R(l)&&R(s=l.hook)&&R(s=s.postpatch)&&s(t,e)}}}(t,e,a,null,null,r);else{if(s){if(1===t.nodeType&&t.hasAttribute(I)&&(t.removeAttribute(I),n=!0),C(n)&&E(t,e,a))return S(e,a,!0),t;i=t,t=new ht(g.tagName(i).toLowerCase(),{},[],void 0,i)}var l=t.elm,u=g.parentNode(l);if(_(e,a,l._leaveCb?null:u,g.nextSibling(l)),R(e.parent))for(var c=e.parent,p=x(e);c;){for(var h=0;h<v.destroy.length;++h)v.destroy[h](c);if(c.elm=e.elm,p){for(var f=0;f<v.create.length;++f)v.create[f](ar,c);var d=c.data.hook.insert;if(d.merged)for(var m=1;m<d.fns.length;m++)d.fns[m]()}else or(c);c=c.parent}R(u)?w([t],0,0):R(t.tag)&&y(t)}}return S(e,a,o),e.elm}R(t)&&y(t)}}({nodeOps:rr,modules:[_r,wr,Ir,Mr,$r,$?{create:di,activate:di,remove:function(t,e){!0!==t.data.show?pi(t,e):e()}}:{}].concat(mr)});H&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ai(t,"input")});var vi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ie(n,"postpatch",function(){vi.componentUpdated(t,e,n)}):yi(t,e,n.context),t._vOptions=[].map.call(t.options,xi)):"textarea"!==n.tag&&!nr(t.type)||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",bi),t.addEventListener("compositionend",wi),t.addEventListener("change",wi),H&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){yi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,xi);i.some(function(t,e){return!k(t,r[e])})&&(t.multiple?e.value.some(function(t){return _i(t,i)}):e.value!==e.oldValue&&_i(e.value,i))&&Ai(t,"change")}}};function yi(t,e,n){gi(t,e),(G||W)&&setTimeout(function(){gi(t,e)},0)}function gi(t,e){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var i,o,a=0,s=t.options.length;a<s;a++)if(o=t.options[a],r)i=-1<E(n,xi(o)),o.selected!==i&&(o.selected=i);else if(k(xi(o),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function _i(e,t){return t.every(function(t){return!k(t,e)})}function xi(t){return"_value"in t?t._value:t.value}function bi(t){t.target.composing=!0}function wi(t){t.target.composing&&(t.target.composing=!1,Ai(t.target,"input"))}function Ai(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Si(t){return!t.componentInstance||t.data&&t.data.transition?t:Si(t.componentInstance._vnode)}var ki={model:vi,show:{bind:function(t,e,n){var r=e.value,i=(n=Si(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,ci(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Si(n)).data&&n.data.transition?(n.data.show=!0,r?ci(n,function(){t.style.display=t.__vOriginalDisplay}):pi(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ei={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ci(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ci(Ue(e.children)):t}function Ti(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[h(o)]=i[o];return e}function Ii(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function zi(t){return t.tag||$e(t)}function Mi(t){return"show"===t.name}var Pi={name:"transition",props:Ei,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(zi)).length){var r=this.mode,i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return 1}(this.$vnode))return i;var o=Ci(i);if(!o)return i;if(this._leaving)return Ii(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:!T(o.key)||0===String(o.key).indexOf(a)?o.key:a+o.key;var s=(o.data||(o.data={})).transition=Ti(this),l=this._vnode,u=Ci(l);if(o.data.directives&&o.data.directives.some(Mi)&&(o.data.show=!0),u&&u.data&&(u.key!==o.key||u.tag!==o.tag)&&!$e(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=v({},s);if("out-in"===r)return this._leaving=!0,ie(c,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Ii(t,i);if("in-out"===r){if($e(o))return l;var p,h=function(){p()};ie(s,"afterEnter",h),ie(s,"enterCancelled",h),ie(c,"delayLeave",function(t){p=t})}}return i}}},Oi=v({tag:String,moveClass:String},Ei);function Li(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Di(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ri(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete Oi.mode;var Bi={Transition:Pi,TransitionGroup:{props:Oi,beforeMount:function(){var r=this,i=this._update;this._update=function(t,e){var n=Xe(r);r.__patch__(r._vnode,r.kept,!1,!0),r._vnode=r.kept,n(),i.call(r,t,e)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Ti(this),s=0;s<i.length;s++){var l=i[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),((n[l.key]=l).data||(l.data={})).transition=a)}if(r){for(var u=[],c=[],p=0;p<r.length;p++){var h=r[p];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?u.push(h):c.push(h)}this.kept=t(e,null,u),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,r)&&(t.forEach(Li),t.forEach(Di),t.forEach(Ri),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;ri(n,r),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(Yr,n._moveCb=function t(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(Yr,t),n._moveCb=null,ii(n,r))})}}))},methods:{hasMove:function(t,e){if(!Wr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Zr(n,t)}),qr(n,e),n.style.display="none",this.$el.appendChild(n);var r=si(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Cn.config.mustUseProp=function(t,e,n){return"value"===n&&Nn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Cn.config.isReservedTag=Jn,Cn.config.isReservedAttr=Fn,Cn.config.getTagNamespace=function(t){return tr(t)?"svg":"math"===t?"math":void 0},Cn.config.isUnknownElement=function(t){if(!$)return!0;if(Jn(t))return!1;if(t=t.toLowerCase(),null!=er[t])return er[t];var e=document.createElement(t);return-1<t.indexOf("-")?er[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:er[t]=/HTMLUnknownElement/.test(e.toString())},v(Cn.options.directives,ki),v(Cn.options.components,Bi),Cn.prototype.__patch__=$?mi:w,Cn.prototype.$mount=function(t,e){return n=this,r=t=t&&$?"string"!=typeof t?t:document.querySelector(t)||document.createElement("div"):void 0,i=e,n.$el=r,n.$options.render||(n.$options.render=dt),Ye(n,"beforeMount"),o=function(){n._update(n._render(),i)},new cn(n,o,w,{before:function(){n._isMounted&&!n._isDestroyed&&Ye(n,"beforeUpdate")}},!0),i=!1,null==n.$vnode&&(n._isMounted=!0,Ye(n,"mounted")),n;var n,r,i,o},$&&setTimeout(function(){P.devtools&&et&&et.emit("init",Cn)},0),Fi.exports=Cn}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,e,n){var r=n.cache={};n.insert=function(t){if(!r[t]){r[t]=!0;var e=document.createElement("style");return e.setAttribute("type","text/css"),"textContent"in e?e.textContent=t:e.styleSheet.cssText=t,document.getElementsByTagName("head")[0].appendChild(e),e}}},{}]},{},[1]);